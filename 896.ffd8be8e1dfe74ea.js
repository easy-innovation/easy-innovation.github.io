"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[896],{6896:(pc,Oa,_)=>{_.r(Oa),_.d(Oa,{UploadModule:()=>fc});var Yr=_(1625),et=_(2200),Hr=_(6589),H=_(1171),$r=_(1621),nt=_(9417),Tt=_(3391),Me=_(4972),l=_(3664),N=_(2615);let Xr=(()=>{var a;class e{static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275mod=l.$C({type:e}),this.\u0275inj=N.G2t({imports:[et.MD]}))}return a(),e})();var Ia=_(8132);let Zr=(()=>{var a;class e{static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275mod=l.$C({type:e}),this.\u0275inj=N.G2t({imports:[et.MD]}))}return a(),e})();var ct=_(467),tt=_(2998),oe=_(9986),Wr=_(1413),Jr=_(959),Kr=_(7184);let Qr=(()=>{var a;class e{constructor(n){this.graphqlService=n,this.dayCache={}}getAvailableDateRange(){var n=this;return(0,ct.A)(function*(){return(yield n.graphqlService.query({query:Jr.YW})).data.uploadHistoryAvailableDateRange})()}getRangeData(n){var r=this;return(0,ct.A)(function*(){const i=[],o=n.filter(s=>!(0,tt.l$)(r.dayCache,s)||(i.push(r.dayCache[s]),!1));if(o.length>0){const s=yield r.sendDataRequest(o);for(const[u,c]of Object.values(s).entries())r.dayCache[o[u]]={date:new Date(o[u]),periodActiveUsers:c.periodActiveUsers,periodTopTotalFileCount:JSON.parse(c.periodTopTotalFileCount),periodTopTotalSize:JSON.parse(c.periodTopTotalSize),storageUsed:JSON.parse(c.storageUsed),toDateActiveUsers:c.toDateActiveUsers,toDateTopTotalFileCount:JSON.parse(c.toDateTopTotalFileCount),toDateTopTotalSize:JSON.parse(c.toDateTopTotalSize)},i.push(r.dayCache[o[u]])}return i})()}sendDataRequest(n){var r=this;return(0,ct.A)(function*(){const i=Kr.P(n.map((o,s)=>({operation:{name:"uploadHistory",alias:`uploadHistory${s}`},variables:{[`date${s}`]:{name:"date",type:"String!",value:o}},fields:["storageUsed","periodActiveUsers","periodTopTotalSize","periodTopTotalFileCount","toDateActiveUsers","toDateTopTotalSize","toDateTopTotalFileCount"]})));return(yield r.graphqlService.query({query:i.query,variables:i.variables})).data})()}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)(N.KVO(tt.Pp))},this.\u0275prov=N.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}))}return a(),e})();const se="upload-stats";var qr=_(6485),ti=_(4981),wa=_(5652),ei=_(6148);function ai(a,e){if(1&a){const t=l.RV6();l.j41(0,"div",1),l.EFF(1,"Statistiche giornaliere"),l.k0s(),l.j41(2,"div",2)(3,"div",3,0),l.bIt("modelChangeEvent",function(r){N.eBV(t);const i=l.sdS(4),o=l.XpG();return N.Njj(i.form.valid&&o.modelChange(r))}),l.k0s()()}if(2&a){const t=l.XpG();l.R7$(3),l.Y8G("schema",t.formlySchema)("model",t.formlyModel)("enableModelChangeEvent",!0)}}let ni=(()=>{var a;class e{constructor(){this.modelChangeEvent=new l.bkB,this.formlyModel={}}ngOnInit(){this.formlySchema={type:"object",properties:{range:{type:"datepicker-range",title:"Periodo da visualizzare:",widget:{formlyConfig:{props:{minDate:this.availableRange.start,maxDate:this.availableRange.end,startDate:-7,endDate:-1,maxLength:30}}}},useRangeAsGlobal:{type:"boolean",title:"Usa la data di fine periodo per le statistiche globali",default:!1}}}}modelChange(n){this.modelChangeEvent.emit(n)}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275cmp=l.VBU({type:e,selectors:[["app-upload-datepicker"]],inputs:{availableRange:"availableRange"},outputs:{modelChangeEvent:"modelChangeEvent"},standalone:!1,decls:1,vars:1,consts:[["customForm",""],[1,"fv-small-caps","mb-2"],[1,"flat-container","px-3","pt-3","pb-0"],["app-custom-form","",3,"modelChangeEvent","schema","model","enableModelChangeEvent"]],template:function(r,i){1&r&&l.nVh(0,ai,5,3),2&r&&l.vxM(i.formlySchema?0:-1)},dependencies:[ei.L],styles:["[_nghost-%COMP%]{display:block;margin:1rem 0}@media (min-width: 960px){[_nghost-%COMP%]{display:block;margin:1.5rem 0}}"]}))}return a(),e})();var ka=_(9327),$t=_(9424),Ra=_(4330);const ri=["*",[["","title",""]]],ii=["*","[title]"];function oi(a,e){if(1&a&&l.nrm(0,"div",2),2&a){const t=l.XpG(2);l.Y8G("innerText",t.statTitle)("ngClass",t.hideTitleOnSmallScreen?"d-none d-sm-block":void 0)}}function si(a,e){if(1&a&&(l.j41(0,"div",1),l.nVh(1,oi,1,2,"div",2),l.SdG(2,1),l.k0s()),2&a){const t=l.XpG();l.R7$(),l.vxM(t.statTitle?1:-1)}}let Pe=(()=>{var a;class e{constructor(){this.statTitle="",this.hasTitle=!0,this.hideTitleOnSmallScreen=!1}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275cmp=l.VBU({type:e,selectors:[["app-stat-container"]],inputs:{statTitle:"statTitle",hasTitle:"hasTitle",hideTitleOnSmallScreen:"hideTitleOnSmallScreen"},standalone:!1,ngContentSelectors:ii,decls:3,vars:1,consts:[[1,"d-flex","flex-column","flat-container","px-3","pb-3","h-100"],[1,"d-flex","mb-1","ps-md-1","justify-content-center","align-items-center"],[1,"fv-small-caps","fs-xl","fw-500","text-nowrap",3,"innerText","ngClass"]],template:function(r,i){1&r&&(l.NAR(ri),l.j41(0,"div",0),l.nVh(1,si,3,1,"div",1),l.SdG(2),l.k0s()),2&r&&(l.R7$(),l.vxM(i.hasTitle?1:-1))},dependencies:[et.YU],styles:["[_nghost-%COMP%]{display:block;height:100%}.flat-container[_ngcontent-%COMP%]{padding-top:.75rem}"]}))}return a(),e})();const li=[[["","header",""]],[["","statValue",""]]],ui=["[header]","[statValue]"];let La=(()=>{var a;class e{constructor(){this.value="",this.description="",this.color="default",this.colorClasses={green:"text-success",blue:"text-primary",indigo:"text-indigo",red:"text-danger",default:"text-reset"}}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275cmp=l.VBU({type:e,selectors:[["app-stat-summary-container"]],inputs:{value:"value",description:"description",color:"color"},standalone:!1,ngContentSelectors:ui,decls:6,vars:3,consts:[[1,"flat-container","p-3","d-flex","flex-column","justify-content-center","align-items-center","h-100","position-relative"],[1,"h2","fw-normal","lh-1","text-center","d-flex","align-items-center",3,"ngClass"],[1,"desc","text-muted","fs-xs","text-uppercase","text-center",3,"innerText"]],template:function(r,i){1&r&&(l.NAR(li),l.j41(0,"div",0),l.SdG(1),l.j41(2,"div",1),l.EFF(3),l.SdG(4,1),l.k0s(),l.nrm(5,"div",2),l.k0s()),2&r&&(l.R7$(2),l.Y8G("ngClass",i.colorClasses[i.color]),l.R7$(),l.SpI(" ",i.value," "),l.R7$(2),l.Y8G("innerText",i.description))},dependencies:[et.YU],styles:["[_nghost-%COMP%]{display:block;height:100%}.desc[_ngcontent-%COMP%]{letter-spacing:.2em}"]}))}return a(),e})();var Oe=_(8289),Ie=_(5041);let we=(()=>{var a;class e{transform(n){return(0,Ie.A)(n)}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275pipe=l.EJ8({name:"localeString",type:e,pure:!0,standalone:!1}))}return a(),e})();const ci=()=>({$implicit:"ext"}),vi=()=>({$implicit:"size-abs"}),hi=()=>({$implicit:"count-abs"}),fi=()=>[],pi=()=>({$implicit:"avgSize-abs"}),di=()=>({$implicit:"avgSize-max"}),gi=()=>({$implicit:"avgSize-perc"});function mi(a,e){1&a&&l.eu8(0)}function yi(a,e){1&a&&l.eu8(0)}function Si(a,e){1&a&&l.eu8(0)}function bi(a,e){1&a&&(l.j41(0,"th",7),l.EFF(1,"Unit\xe0"),l.k0s(),l.j41(2,"th",7),l.EFF(3,"%"),l.k0s())}function Ci(a,e){1&a&&l.eu8(0)}function xi(a,e){1&a&&l.eu8(0)}function Ti(a,e){1&a&&l.eu8(0)}function Ai(a,e){if(1&a&&(l.j41(0,"tr"),l.nrm(1,"td",8)(2,"td",8),l.nI1(3,"formatBytes"),l.nrm(4,"td",8)(5,"td",8),l.nI1(6,"localeString"),l.nrm(7,"td",8)(8,"td",8),l.nI1(9,"formatBytes"),l.nrm(10,"td",8),l.nI1(11,"formatBytes"),l.nrm(12,"td",8),l.k0s()),2&a){const t=e.$implicit;l.R7$(),l.Y8G("innerText",t.ext),l.R7$(),l.Y8G("innerText",l.bMT(3,8,t.size.abs)),l.R7$(2),l.Y8G("innerText",t.size.perc),l.R7$(),l.Y8G("innerText",l.bMT(6,10,t.count.abs)),l.R7$(2),l.Y8G("innerText",t.count.perc),l.R7$(),l.Y8G("innerText",l.bMT(9,12,t.avgSize.abs)),l.R7$(2),l.Y8G("innerText",l.bMT(11,14,t.avgSize.max)),l.R7$(2),l.Y8G("innerText",t.avgSize.perc)}}function Di(a,e){}function _i(a,e){1&a&&(N.qSk(),l.j41(0,"svg",9),l.nrm(1,"path",10)(2,"path",11)(3,"path",12),l.k0s())}function Mi(a,e){1&a&&(N.qSk(),l.j41(0,"svg",9),l.nrm(1,"path",10)(2,"path",11)(3,"path",13),l.k0s())}function Pi(a,e){if(1&a&&(l.nVh(0,Di,0,0),l.nVh(1,_i,4,0,":svg:svg",9)(2,Mi,4,0,":svg:svg",9)),2&a){const t=l.XpG(2);l.vxM(t.tableSortCriteria.asc?0:-1),l.R7$(),l.vxM(t.tableSortCriteria.asc?1:2)}}function Oi(a,e){if(1&a&&l.nVh(0,Pi,3,2),2&a){const t=e.$implicit,n=l.XpG();l.vxM(t===n.tableSortCriteria.type?0:-1)}}let Na=(()=>{var a;class e{constructor(){this.storageData=[],this.totalSize=1,this.totalFileCount=1,this.tableContent=[],this.tableSortCriteria={type:"",asc:!1}}ngOnChanges(n){n.storageData&&(this.tableSortCriteria={type:"",asc:!1},this.setTableContent(),this.sortTableContent(this.tableContent,"size-abs"))}setTableContent(){this.tableContent=this.storageData.map(n=>{const r=n.count?n.size/n.count:0,i=this.supportedFiles.find(o=>o.ext.includes(n.ext))?.maxSize||0;return{ext:n.ext,size:{abs:n.size,perc:this.totalSize?(0,H.NU)(n.size/this.totalSize):0},count:{abs:n.count,perc:this.totalFileCount?(0,H.NU)(n.count/this.totalFileCount):0},avgSize:{abs:r,max:i,perc:i&&r?(0,H.NU)(r/i):0}}})}sortTableContent(n,r){if(this.tableSortCriteria.type===r)return this.tableSortCriteria.asc=!this.tableSortCriteria.asc,void n.reverse();this.tableSortCriteria.type=r;const i=r.split("-"),o=i.slice(1);let s=!1,u=n[0][i[0]];for(const c of o)u=u[c];s=!isNaN(Number(u)),this.tableSortCriteria.asc=!s,n.sort((c,v)=>{let p=c[i[0]],h=v[i[0]];for(const f of o)p=p[f],h=h[f];return s?h-p:p.localeCompare(h)})}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275cmp=l.VBU({type:e,selectors:[["app-upload-stat-file-table"]],inputs:{storageData:"storageData",totalSize:"totalSize",totalFileCount:"totalFileCount",supportedFiles:"supportedFiles"},standalone:!1,features:[l.OA$],decls:37,vars:19,consts:[["sortIcon",""],[1,"table","table-striped","table-bordered","text-center","mb-0"],["scope","col","rowspan","2",1,"align-middle","cursor-pointer",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["scope","col","colspan","2",1,"cursor-pointer",3,"click"],["scope","col","colspan","3",1,"cursor-pointer",3,"click"],["scope","col",1,"cursor-pointer",3,"click"],["scope","col"],[3,"innerText"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"ms-2"],["d","M12.438 1.668V7H11.39V2.684h-.051l-1.211.859v-.969l1.262-.906h1.046z"],["fill-rule","evenodd","d","M11.36 14.098c-1.137 0-1.708-.657-1.762-1.278h1.004c.058.223.343.45.773.45.824 0 1.164-.829 1.133-1.856h-.059c-.148.39-.57.742-1.261.742-.91 0-1.72-.613-1.72-1.758 0-1.148.848-1.835 1.973-1.835 1.09 0 2.063.636 2.063 2.687 0 1.867-.723 2.848-2.145 2.848zm.062-2.735c.504 0 .933-.336.933-.972 0-.633-.398-1.008-.94-1.008-.52 0-.927.375-.927 1 0 .64.418.98.934.98z"],["d","M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"],["d","M4.5 13.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"]],template:function(r,i){if(1&r){const o=l.RV6();l.j41(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),l.bIt("click",function(){return N.eBV(o),N.Njj(i.sortTableContent(i.tableContent,"ext"))}),l.j41(4,"span"),l.EFF(5,"Tipo"),l.k0s(),l.DNE(6,mi,1,0,"ng-container",3),l.k0s(),l.j41(7,"th",4),l.bIt("click",function(){return N.eBV(o),N.Njj(i.sortTableContent(i.tableContent,"size-abs"))}),l.j41(8,"span"),l.EFF(9,"Spazio"),l.k0s(),l.DNE(10,yi,1,0,"ng-container",3),l.k0s(),l.j41(11,"th",4),l.bIt("click",function(){return N.eBV(o),N.Njj(i.sortTableContent(i.tableContent,"count-abs"))}),l.j41(12,"span"),l.EFF(13,"Numero"),l.k0s(),l.DNE(14,Si,1,0,"ng-container",3),l.k0s(),l.j41(15,"th",5),l.bIt("click",function(){return N.eBV(o),N.Njj(i.sortTableContent(i.tableContent,"avgSize-abs"))}),l.EFF(16,"Peso medio"),l.k0s()(),l.j41(17,"tr"),l.Z7z(18,bi,4,0,null,null,l.fX1),l.j41(20,"th",6),l.bIt("click",function(){return N.eBV(o),N.Njj(i.sortTableContent(i.tableContent,"avgSize-abs"))}),l.j41(21,"span"),l.EFF(22,"Unit\xe0"),l.k0s(),l.DNE(23,Ci,1,0,"ng-container",3),l.k0s(),l.j41(24,"th",6),l.bIt("click",function(){return N.eBV(o),N.Njj(i.sortTableContent(i.tableContent,"avgSize-max"))}),l.j41(25,"span"),l.EFF(26,"Max"),l.k0s(),l.DNE(27,xi,1,0,"ng-container",3),l.k0s(),l.j41(28,"th",6),l.bIt("click",function(){return N.eBV(o),N.Njj(i.sortTableContent(i.tableContent,"avgSize-perc"))}),l.j41(29,"span"),l.EFF(30,"%"),l.k0s(),l.DNE(31,Ti,1,0,"ng-container",3),l.k0s()()(),l.j41(32,"tbody"),l.Z7z(33,Ai,13,16,"tr",null,l.fX1),l.k0s()(),l.DNE(35,Oi,1,1,"ng-template",null,0,l.C5r)}if(2&r){const o=l.sdS(36);l.R7$(6),l.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",l.lJ4(12,ci)),l.R7$(4),l.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",l.lJ4(13,vi)),l.R7$(4),l.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",l.lJ4(14,hi)),l.R7$(4),l.Dyx(l.lJ4(15,fi).constructor(2)),l.R7$(5),l.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",l.lJ4(16,pi)),l.R7$(4),l.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",l.lJ4(17,di)),l.R7$(4),l.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",l.lJ4(18,gi)),l.R7$(2),l.Dyx(i.tableContent)}},dependencies:[et.T3,Oe.L,we],styles:["td[_ngcontent-%COMP%]{white-space:nowrap}@media (min-width: 768px){.table[_ngcontent-%COMP%]{table-layout:fixed}}"]}))}return a(),e})();var Ii=_(5613),wi=_(5133),ki=_(2417);const Ri=(a,e)=>({"border-bottom":a,"ps-1":e});function Li(a,e){if(1&a&&(l.j41(0,"div",0),l.nrm(1,"img",8),l.nI1(2,"uploadsreplace"),l.k0s()),2&a){const t=l.XpG();l.R7$(),l.Y8G("alt",l.mNQ(t.subject.title))("lazyLoad",l.bMT(2,5,t.subject.image))("offset",100)("errorImage","/assets/default_avatar.png")}}function Ni(a,e){if(1&a&&l.nrm(0,"div",5),2&a){const t=l.XpG();l.Y8G("innerHTML",t.subject.titleSuffix,l.npT)}}function zi(a,e){if(1&a&&l.nrm(0,"div",6),2&a){const t=l.XpG();l.Y8G("innerHTML",t.subject.desc,l.npT)}}let Vi=(()=>{var a;class e{constructor(){this.isLast=!1,this.titleClickEvent=new l.bkB}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275cmp=l.VBU({type:e,selectors:[["app-stat-table-entity"]],inputs:{subject:"subject",value:"value",isLast:"isLast"},outputs:{titleClickEvent:"titleClickEvent"},standalone:!1,decls:8,vars:11,consts:[[1,"image","rounded-circle","me-3","border","flex-shrink-0"],[1,"d-flex","flex-grow-1","align-items-center","py-3","min-w-0",3,"ngClass"],[1,"me-auto","pe-3","d-flex","flex-column","flex-grow-1","align-items-start","min-w-0"],[1,"d-flex","min-w-0","mw-100","fw-bold","align-items-center","cursor-pointer",3,"click"],[1,"text-truncate","mw-100","pe-none",3,"innerHTML"],[1,"ms-1","pe-none",3,"innerHTML"],[1,"text-muted","fs-xs",3,"innerHTML"],[1,"pe-1","flex-shrink-0",3,"innerHTML"],["src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D",1,"rounded-circle","image-cover",3,"lazyLoad","offset","errorImage","alt"]],template:function(r,i){1&r&&(l.nVh(0,Li,3,7,"div",0),l.j41(1,"div",1)(2,"div",2)(3,"a",3),l.bIt("click",function(s){return i.titleClickEvent.emit(s)}),l.nrm(4,"div",4),l.nVh(5,Ni,1,1,"div",5),l.k0s(),l.nVh(6,zi,1,1,"div",6),l.k0s(),l.nrm(7,"div",7),l.k0s()),2&r&&(l.vxM(i.subject.image?0:-1),l.R7$(),l.Y8G("ngClass",l.l_i(8,Ri,!i.isLast,!i.subject.image)),l.R7$(2),l.BMQ("href",i.subject.link||void 0,l.B4B)("target",i.subject.link?"_blank":void 0),l.R7$(),l.Y8G("innerHTML",i.subject.title,l.npT),l.R7$(),l.vxM(i.subject.titleSuffix?5:-1),l.R7$(),l.vxM(i.subject.desc?6:-1),l.R7$(),l.Y8G("innerHTML",i.value,l.npT))},dependencies:[et.YU,wi.Je,ki.T],styles:["[_nghost-%COMP%]{display:flex;align-items:center}.image[_ngcontent-%COMP%]{width:50px;height:50px}"]}))}return a(),e})();function Fi(a,e){if(1&a&&(l.j41(0,"li"),l.nrm(1,"app-stat-table-entity",1),l.k0s()),2&a){const t=e.$implicit,n=e.$index,r=e.$count;l.R7$(),l.Y8G("subject",t.subject)("value",t.value)("isLast",n===r-1)}}function Ui(a,e){if(1&a&&(l.j41(0,"ul",0),l.Z7z(1,Fi,2,3,"li",null,l.fX1),l.k0s()),2&a){const t=l.XpG();l.R7$(),l.Dyx(t.data)}}let Gi=(()=>{var a;class e{constructor(){this.data=[]}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275cmp=l.VBU({type:e,selectors:[["app-stat-table"]],inputs:{data:"data"},standalone:!1,decls:1,vars:1,consts:[[1,"list-unstyled","mb-0"],[3,"subject","value","isLast"]],template:function(r,i){1&r&&l.nVh(0,Ui,3,0,"ul",0),2&r&&l.vxM(i.data.length>0?0:-1)},dependencies:[Vi],encapsulation:2}))}return a(),e})();var za=_(9716);const Ei=a=>({"pe-2":a});function Bi(a,e){if(1&a&&(l.j41(0,"option",14),l.EFF(1),l.k0s()),2&a){const t=e.$implicit,n=l.XpG(3);l.Y8G("value",t)("selected",n.daySelectValue===t),l.R7$(),l.JRh(t)}}function ji(a,e){if(1&a){const t=l.RV6();l.j41(0,"select",13),l.mxI("ngModelChange",function(r){N.eBV(t);const i=l.XpG(2);return l.DH7(i.daySelectValue,r)||(i.daySelectValue=r),N.Njj(r)}),l.bIt("ngModelChange",function(){N.eBV(t);const r=l.XpG(2);return N.Njj(r.setData(r.daySelectValue,r.activeTab))}),l.Z7z(1,Bi,2,3,"option",14,l.fX1),l.k0s()}if(2&a){const t=l.XpG(2);l.R50("ngModel",t.daySelectValue),l.R7$(),l.Dyx(t.days)}}function Yi(a,e){1&a&&l.eu8(0)}function Hi(a,e){if(1&a&&l.DNE(0,Yi,1,0,"ng-container",15),2&a){l.XpG(2);const t=l.sdS(2);l.Y8G("ngTemplateOutlet",t)}}function $i(a,e){1&a&&l.eu8(0)}function Xi(a,e){if(1&a&&l.DNE(0,$i,1,0,"ng-container",15),2&a){l.XpG(2);const t=l.sdS(2);l.Y8G("ngTemplateOutlet",t)}}function Zi(a,e){if(1&a){const t=l.RV6();l.j41(0,"app-stat-container",2),l.qex(1,3),l.j41(2,"div",4),l.nVh(3,ji,3,1,"select",5),l.j41(4,"div",6),l.bIt("click",function(){N.eBV(t);const r=l.sdS(12);return N.Njj(r.select("file"))}),l.j41(5,"div",7),l.EFF(6,"insert_drive_file"),l.k0s()(),l.j41(7,"div",8),l.bIt("click",function(){N.eBV(t);const r=l.sdS(12);return N.Njj(r.select("size"))}),l.j41(8,"div",7),l.EFF(9,"storage"),l.k0s()()(),l.bVm(),l.qex(10),l.j41(11,"ul",9,1),l.mxI("activeIdChange",function(r){N.eBV(t);const i=l.XpG();return l.DH7(i.activeTab,r)||(i.activeTab=r),N.Njj(r)}),l.bIt("hidden",function(r){N.eBV(t);const i=l.XpG();return N.Njj(i.onHidden(r))}),l.j41(13,"li",10),l.DNE(14,Hi,1,1,"ng-template",11),l.k0s(),l.j41(15,"li",10),l.DNE(16,Xi,1,1,"ng-template",11),l.k0s()(),l.nrm(17,"div",12),l.bVm(),l.k0s()}if(2&a){const t=l.sdS(12),n=l.XpG();l.Y8G("statTitle","Top utenti - "+("file"===n.activeTab?"File":"Spazio"))("hideTitleOnSmallScreen",n.days.length>1),l.R7$(3),l.vxM(n.days.length>1?3:-1),l.R7$(),l.Y8G("ngClass","file"===n.activeTab?"blue":"outline-blue")("disableOnTouchDevice",!0),l.R7$(3),l.Y8G("ngClass","size"===n.activeTab?"blue":"outline-blue")("disableOnTouchDevice",!0),l.R7$(4),l.R50("activeId",n.activeTab),l.Y8G("destroyOnHide",!1),l.R7$(2),l.Y8G("ngbNavItem","file"),l.R7$(2),l.Y8G("ngbNavItem","size"),l.R7$(2),l.Y8G("ngbNavOutlet",t)}}function Wi(a,e){if(1&a&&l.nrm(0,"app-stat-table",16),2&a){const t=l.XpG(2);l.Y8G("ngClass",l.eq3(2,Ei,!t.touchDevice))("data",t.listContent[t.activeDay][t.activeContent])}}function Ji(a,e){1&a&&l.nrm(0,"app-loader",17)}function Ki(a,e){if(1&a&&l.nVh(0,Wi,1,4,"app-stat-table",16)(1,Ji,1,0,"app-loader",17),2&a){const t=l.XpG();l.vxM(t.loading?1:0)}}let Va=(()=>{var a;class e{constructor(n){this.userService=n,this.touchDevice=oe.CN,this.activeTab="file",this.activeDay="",this.activeContent="file",this.daySelectValue="",this.days=[],this.loading=!0,this.listContent={}}ngOnChanges(n){var r=this;return(0,ct.A)(function*(){n.data&&r.data?.length&&(r.days=r.data.map(i=>i.day),r.daySelectValue=r.days[0],yield r.setData(r.days[0],"file"))})()}setData(n,r){var i=this;return(0,ct.A)(function*(){if(!i.data)return;const o=i.data.find(s=>s.day===n);if(o&&(i.activeDay=n,i.activeTab=r,i.activeContent=r,!(0,tt.l$)(i.listContent,n))){i.loading=!0;const s=yield i.userService.getDetailsFromUids([...Object.keys(o.size),...Object.keys(o.file)]);i.listContent[n]={size:Object.entries(o.size).reduce((u,c)=>{const v=s.find(p=>p.uid===c[0]);return v&&u.push({value:(0,$t.z)(c[1]),subject:i.createTableSubject(v)}),u},[]),file:Object.entries(o.file).reduce((u,c)=>{const v=s.find(p=>p.uid===c[0]);return v&&u.push({value:(0,Ie.A)(c[1]),subject:i.createTableSubject(v)}),u},[])},i.loading=!1}})()}createTableSubject(n){const r=n.uid.substring(2),i=n.uid.substring(0,2);return{title:n.nickname,image:n.avatar,desc:`ID: ${r}`,link:`${(0,tt.nv)(i)}/?act=Profile&MID=${r}`}}onHidden(n){this.activeContent="file"===n?"size":"file"}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)(l.rXU(Ii.D))},this.\u0275cmp=l.VBU({type:e,selectors:[["app-upload-stat-top-users"]],inputs:{data:"data"},standalone:!1,features:[l.OA$],decls:3,vars:1,consts:[["navContent",""],["topUsersNav","ngbNav"],[3,"statTitle","hideTitleOnSmallScreen"],["title",""],[1,"ms-auto","d-flex"],[1,"form-select","form-select-sm","me-2",3,"ngModel"],["appTippy","Top per numero di file",1,"flat-icon","me-2","cursor-pointer",3,"click","ngClass","disableOnTouchDevice"],[1,"material-icons-outlined"],["appTippy","Top per spazio occupato",1,"flat-icon","cursor-pointer",3,"click","ngClass","disableOnTouchDevice"],["ngbNav","",3,"activeIdChange","hidden","activeId","destroyOnHide"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"form-select","form-select-sm","me-2",3,"ngModelChange","ngModel"],[3,"value","selected"],[4,"ngTemplateOutlet"],[1,"d-block","list",3,"ngClass","data"],["message","Recupero utenti",1,"d-block","mt-3"]],template:function(r,i){1&r&&(l.nVh(0,Zi,18,12,"app-stat-container",2),l.DNE(1,Ki,2,1,"ng-template",null,0,l.C5r)),2&r&&l.vxM(i.data?0:-1)},dependencies:[et.YU,et.T3,nt.xH,nt.y7,nt.wz,nt.BC,nt.vS,wa.V,Tt.Um,Tt.X9,Tt.sy,Tt.Gx,Tt.m_,Pe,Gi,za.e],styles:["[_nghost-%COMP%]{display:block;height:100%}.list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}"]}))}return a(),e})();const Qi=a=>({"pe-2":a});let qi=(()=>{var a;class e{constructor(n,r,i,o){this.dateAdapterService=n,this.dateFormatterService=r,this.breakpointObserver=i,this.eChartsService=o,this.chartLoading=!0,this.data=[],this.touchDevice=oe.CN,this.loadingOptions=(0,H.XM)(),this.totalSize=0,this.totalFileCount=0,this.totalUsers=0,this.totalSizeChartOptions={},this.lineChartOptions={},this.lineChartTitle="",this.lineChartType="size",this.lineChartDetails="splitted",this.usersChartOptions={},this.topUsersPerDay=[],this.storageUsedInPeriod=[],this.xAxisLabels=[],this.storageSeries={total:[{name:"Spazio giornaliero",data:[]}],splitted:[]},this.fileCountSeries={total:[{name:"File giornalieri",data:[]}],splitted:[]},this.avgFileSizeSeries={total:[{name:"Peso medio",data:[]}],splitted:[]},this.usersSeries={name:"Utenti giornalieri",data:[]},this.smallDevice=!0,this.smallDevice=this.breakpointObserver.isMatched([ka.Rp.XSmall])}ngOnChanges(n){n.data&&n.data.currentValue.length&&(this.setLabelsAndTopUsers(),this.setLineChartsData(),this.setLineChartsOptions(),this.setTotalSizeChartOptions())}setLabelsAndTopUsers(){const n=[];this.xAxisLabels=this.data.slice(1).map(r=>{const i=this.dateFormatterService.formatShort(this.dateAdapterService.fromModel(r.date));return n.unshift({day:i,size:r.periodTopTotalSize,file:r.periodTopTotalFileCount}),i}),this.topUsersPerDay=n}setLineChartsData(){this.totalUsers=0,this.usersSeries.data=[],this.storageSeries.total[0].data=[],this.fileCountSeries.total[0].data=[],this.avgFileSizeSeries.total[0].data=[];const n={},r={},i={},o={};for(const[s,u]of this.data.slice(1).entries()){this.usersSeries.data.push(u.periodActiveUsers),this.totalUsers+=u.periodActiveUsers,this.storageSeries.total[0].data.push(0),this.fileCountSeries.total[0].data.push(0),this.avgFileSizeSeries.total[0].data.push(0);for(const[c,v]of Object.entries(u.storageUsed)){if(!isNaN(Number(c)))continue;(0,tt.l$)(o,c)||(o[c]={ext:c,count:0,size:0}),(0,tt.l$)(n,c)||(n[c]={name:c,data:[],total:0});const p=v.size-(this.data[s].storageUsed[c]?.size||0);n[c].data.push(Math.round(p/1048576)),n[c].total+=p,o[c].size+=p,this.storageSeries.total[0].data[s]+=Math.round(p/1048576),(0,tt.l$)(r,c)||(r[c]={name:c,data:[],total:0});const h=v.count-(this.data[s].storageUsed[c]?.count||0);r[c].data.push(h),r[c].total+=h,o[c].count+=h,this.fileCountSeries.total[0].data[s]+=h,(0,tt.l$)(i,c)||(i[c]={name:c,data:[],total:0});const f=h?Math.round(100*p/h/1048576)/100:0;i[c].data.push(f),i[c].total+=f}this.avgFileSizeSeries.total[0].data[s]=this.storageSeries.total[0].data[s]/this.fileCountSeries.total[0].data[s]}this.storageSeries.splitted=Object.values(n).filter(s=>!s.data.every(u=>0===u)).sort((s,u)=>u.total-s.total),this.fileCountSeries.splitted=Object.values(r).filter(s=>!s.data.every(u=>0===u)).sort((s,u)=>u.total-s.total),this.avgFileSizeSeries.splitted=Object.values(i).filter(s=>!s.data.every(u=>0===u)).sort((s,u)=>u.total-s.total),this.storageUsedInPeriod=Object.values(o)}setLineChartsOptions(){this.lineChartOptions=this.getLineChartOption(),this.usersChartOptions=(0,H.ji)([this.xAxisLabels],[this.usersSeries])}setTotalSizeChartOptions(){this.totalSize=(0,H.jm)(this.storageUsedInPeriod,"size"),this.totalFileCount=(0,H.jm)(this.storageUsedInPeriod,"count");const n=this.storageUsedInPeriod.sort((r,i)=>i.size-r.size).slice(0,4).map(r=>({name:r.ext,value:r.size}));n.push({name:"altre",value:this.totalSize-(0,H.jm)(n,"value")}),this.totalSizeChartOptions=(0,H.d5)(n,"Spazio occupato",(0,$t.z)(this.totalSize),$t.z,this.smallDevice)}getLineChartOption(){let n;switch(this.lineChartType){case"size":n=this.storageSeries,this.lineChartTitle="Spazio giornaliero (MB)";break;case"file":n=this.fileCountSeries,this.lineChartTitle="File giornalieri";break;default:n=this.avgFileSizeSeries,this.lineChartTitle="Peso medio (MB)"}return(0,H.ji)([this.xAxisLabels],n[this.lineChartDetails])}addChartToResizeEvent(n){this.eChartsService.addInstanceToResizeEvent(n,se)}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)(l.rXU(tt.VJ),l.rXU(tt.eI),l.rXU(Ra.Q),l.rXU(tt.El))},this.\u0275cmp=l.VBU({type:e,selectors:[["app-upload-daily-stats"]],inputs:{chartLoading:"chartLoading",data:"data",supportedFiles:"supportedFiles"},standalone:!1,features:[l.OA$],decls:46,vars:39,consts:[[1,"grid","charts-container","list-unstyled","mb-0"],[1,"g-col-3","g-col-xl-10","g-col-xxxl-4","g-row-xxxl-3"],["statTitle","Spazio occupato nel periodo"],["echarts","",1,"d-block",3,"chartInit","options","autoResize","loading","loadingOpts"],[1,"g-col-3","g-col-xl-7","g-col-xxxl-4","g-row-xl-3"],["statTitle","Utenti giornalieri"],["title",""],[1,"ms-auto","fs-sm"],[1,"g-col-3","g-col-md-1","g-col-xl-3","g-col-xxxl-2"],["description","File caricati","color","green",3,"value"],["description","Spazio occupato","color","blue",3,"value"],["description","Peso medio","color","red",3,"value"],[1,"g-col-3","g-col-xl-10","g-col-xxl-6","g-col-xxxl-7"],[3,"statTitle","hideTitleOnSmallScreen"],[1,"ms-auto","d-flex"],[1,"form-select","form-select-sm","me-2",3,"ngModelChange","ngModel"],["value","size",3,"selected"],["value","file"],["value","avg"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["value","splitted",3,"selected"],["value","total"],["echarts","",1,"d-block","mt-3",3,"chartInit","options","autoResize","loading","loadingOpts"],[1,"g-col-3","g-col-xl-10","g-col-xxl-4","g-col-xxxl-3"],[3,"data"],[1,"g-col-3","g-col-xl-10"],[3,"hasTitle"],[1,"pt-1","overflow-auto","table-container",3,"ngClass"],[3,"supportedFiles","storageData","totalSize","totalFileCount"]],template:function(r,i){1&r&&(l.j41(0,"ul",0)(1,"li",1)(2,"app-stat-container",2),l.qex(3),l.j41(4,"div",3),l.bIt("chartInit",function(s){return i.addChartToResizeEvent(s)}),l.k0s(),l.bVm(),l.k0s()(),l.j41(5,"li",4)(6,"app-stat-container",5),l.qex(7,6),l.j41(8,"div",7),l.EFF(9),l.nI1(10,"localeString"),l.k0s(),l.bVm(),l.qex(11),l.j41(12,"div",3),l.bIt("chartInit",function(s){return i.addChartToResizeEvent(s)}),l.k0s(),l.bVm(),l.k0s()(),l.j41(13,"li",8),l.nrm(14,"app-stat-summary-container",9),l.nI1(15,"localeString"),l.k0s(),l.j41(16,"li",8),l.nrm(17,"app-stat-summary-container",10),l.nI1(18,"formatBytes"),l.k0s(),l.j41(19,"li",8),l.nrm(20,"app-stat-summary-container",11),l.nI1(21,"formatBytes"),l.k0s(),l.j41(22,"li",12)(23,"app-stat-container",13),l.qex(24,6),l.j41(25,"div",14)(26,"select",15),l.mxI("ngModelChange",function(s){return l.DH7(i.lineChartType,s)||(i.lineChartType=s),s}),l.bIt("ngModelChange",function(){return i.lineChartOptions=i.getLineChartOption()}),l.j41(27,"option",16),l.EFF(28,"Spazio (MB)"),l.k0s(),l.j41(29,"option",17),l.EFF(30,"File"),l.k0s(),l.j41(31,"option",18),l.EFF(32,"Peso medio (MB)"),l.k0s()(),l.j41(33,"select",19),l.mxI("ngModelChange",function(s){return l.DH7(i.lineChartDetails,s)||(i.lineChartDetails=s),s}),l.bIt("ngModelChange",function(){return i.lineChartOptions=i.getLineChartOption()}),l.j41(34,"option",20),l.EFF(35,"Singolo"),l.k0s(),l.j41(36,"option",21),l.EFF(37,"Totale"),l.k0s()()(),l.bVm(),l.qex(38),l.j41(39,"div",22),l.bIt("chartInit",function(s){return i.addChartToResizeEvent(s)}),l.k0s(),l.bVm(),l.k0s()(),l.j41(40,"li",23),l.nrm(41,"app-upload-stat-top-users",24),l.k0s(),l.j41(42,"li",25)(43,"app-stat-container",26)(44,"div",27),l.nrm(45,"app-upload-stat-file-table",28),l.k0s()()()()),2&r&&(l.R7$(4),l.Y8G("options",i.totalSizeChartOptions)("autoResize",!1)("loading",i.chartLoading)("loadingOpts",i.loadingOptions),l.R7$(5),l.SpI("Totale: ",l.bMT(10,29,i.totalUsers)),l.R7$(3),l.Y8G("options",i.usersChartOptions)("autoResize",!1)("loading",i.chartLoading)("loadingOpts",i.loadingOptions),l.R7$(2),l.Y8G("value",l.bMT(15,31,i.totalFileCount)),l.R7$(3),l.Y8G("value",l.bMT(18,33,i.totalSize)),l.R7$(3),l.Y8G("value",l.bMT(21,35,i.totalSize/i.totalFileCount)),l.R7$(3),l.Y8G("statTitle",i.lineChartTitle)("hideTitleOnSmallScreen",!0),l.R7$(3),l.R50("ngModel",i.lineChartType),l.R7$(),l.Y8G("selected",!0),l.R7$(6),l.R50("ngModel",i.lineChartDetails),l.R7$(),l.Y8G("selected",!0),l.R7$(5),l.Y8G("options",i.lineChartOptions)("autoResize",!1)("loading",i.chartLoading)("loadingOpts",i.loadingOptions),l.R7$(2),l.Y8G("data",i.topUsersPerDay),l.R7$(2),l.Y8G("hasTitle",!1),l.R7$(),l.Y8G("ngClass",l.eq3(37,Qi,!i.touchDevice)),l.R7$(),l.Y8G("supportedFiles",i.supportedFiles)("storageData",i.storageUsedInPeriod)("totalSize",i.totalSize)("totalFileCount",i.totalFileCount))},dependencies:[et.YU,nt.xH,nt.y7,nt.wz,nt.BC,nt.vS,Me.$P,Pe,La,Na,Va,Oe.L,we],styles:[".charts-container[_ngcontent-%COMP%]{--bs-columns: 3}.charts-container[_ngcontent-%COMP%]   [echarts][_ngcontent-%COMP%]{height:300px}.charts-container[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{min-width:0}.table-container[_ngcontent-%COMP%]{height:300px}@media (min-width: 1200px){.charts-container[_ngcontent-%COMP%]{--bs-columns: 10}}"]}))}return a(),e})();function eo(a,e){if(1&a&&(l.nrm(0,"div",0),l.nI1(1,"date")),2&a){const t=l.XpG();l.Y8G("ngClass",t.trend.value<0?"alert-danger":"alert-success")("innerText",(t.trend.value>0?"+"+t.trend.value:t.trend.value)+"%")("appTippy","Rispetto al "+l.i5U(1,3,t.trend.date,"dd/MM/YY"))}}let ao=(()=>{var a;class e{static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275cmp=l.VBU({type:e,selectors:[["app-stat-trend"]],inputs:{trend:"trend"},standalone:!1,decls:1,vars:1,consts:[[1,"position-absolute","alert","border-0","px-1","py-0","trend","fs-xs","cursor-pointer",3,"ngClass","innerText","appTippy"]],template:function(r,i){1&r&&l.nVh(0,eo,2,6,"div",0),2&r&&l.vxM(i.trend?0:-1)},dependencies:[et.YU,za.e,et.vh],styles:[".trend[_ngcontent-%COMP%]{top:.5rem;right:.5rem}"]}))}return a(),e})();const no=a=>({"pe-2":a});let ro=(()=>{var a;class e{constructor(n,r,i,o){this.eChartsService=n,this.breakpointObserver=r,this.dateAdapterService=i,this.dateFormatterService=o,this.chartLoading=!0,this.touchDevice=oe.CN,this.smallDevice=!0,this.loadingOptions=(0,H.XM)(),this.totalSizeChartOptions={},this.totalFileCountChartOptions={},this.totalFileCount=0,this.totalSize=0,this.filesPerUser=0,this.sizePerUser=0,this.storageUsedAsArray={current:[],trend:[]},this.smallDevice=this.breakpointObserver.isMatched([ka.Rp.XSmall])}ngOnChanges(n){var r=this;return(0,ct.A)(function*(){n.data&&r.data&&(r.setStorageUsedAsArray(),r.setTotalSizeChart(),r.setTotalFileCountChart(),r.setSummaries(),r.setTopUsers())})()}setStorageUsedAsArray(){this.storageUsedAsArray.current=Object.entries(this.data.storageUsed).filter(n=>isNaN(Number(n[0]))).map(n=>({ext:n[0],count:n[1].count,size:n[1].size})),this.storageUsedAsArray.trend=Object.entries(this.trendData.storageUsed).filter(n=>isNaN(Number(n[0]))).map(n=>({ext:n[0],count:n[1].count,size:n[1].size}))}setSummaries(){this.filesPerUser=Math.round(this.totalFileCount/this.data.toDateActiveUsers);const n=Math.round((0,H.jm)(this.storageUsedAsArray.trend,"count")/this.trendData.toDateActiveUsers);this.filesPerUserTrend={value:(0,H.NU)((this.filesPerUser-n)/n),date:this.trendData.date},this.sizePerUser=this.totalSize/this.data.toDateActiveUsers;const r=Math.round((0,H.jm)(this.storageUsedAsArray.trend,"size")/this.trendData.toDateActiveUsers);this.sizePerUserTrend={value:(0,H.NU)((this.sizePerUser-r)/r),date:this.trendData.date}}setTotalSizeChart(){this.totalSize=(0,H.jm)(this.storageUsedAsArray.current,"size");const n=this.storageUsedAsArray.current.sort((r,i)=>i.size-r.size).slice(0,4).map(r=>({name:r.ext,value:r.size}));n.push({name:"altre",value:this.totalSize-(0,H.jm)(n,"value")}),this.totalSizeChartOptions=(0,H.d5)(n,"Spazio occupato",(0,$t.z)(this.totalSize),$t.z,this.smallDevice)}setTotalFileCountChart(){this.totalFileCount=(0,H.jm)(this.storageUsedAsArray.current,"count");const n=this.storageUsedAsArray.current.sort((r,i)=>r.count-i.count).slice(-4);n.unshift({ext:"altre",count:this.totalFileCount-(0,H.jm)(n,"count"),size:0}),this.totalFileCountChartOptions=function to(a,e,t){return{toolbox:(0,H.yH)(),tooltip:{...H.Qx,trigger:"axis",axisPointer:{type:"shadow"},textStyle:{color:"inherit"},valueFormatter:n=>(0,Ie.A)(n)},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"3%",top:30,containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],axisLabel:{show:!1}},yAxis:{type:"category",data:a,axisTick:{show:!1},axisLabel:{margin:15}},series:[{name:"Numero di file",type:"bar",data:t,itemStyle:{borderRadius:[0,5,5,0]},label:{position:"inside",show:!0,formatter:n=>Math.round(100*n.value/e*100)/100+"%"}}]}}(n.map(r=>r.ext),this.totalFileCount,n.map(r=>r.count))}setTopUsers(){const n=this.dateFormatterService.formatShort(this.dateAdapterService.fromModel(this.data.date));this.topUsersData=[{size:this.data.toDateTopTotalSize,file:this.data.toDateTopTotalFileCount,day:n}]}addChartToResizeEvent(n){this.eChartsService.addInstanceToResizeEvent(n,se)}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)(l.rXU(tt.El),l.rXU(Ra.Q),l.rXU(tt.VJ),l.rXU(tt.eI))},this.\u0275cmp=l.VBU({type:e,selectors:[["app-upload-total-stats"]],inputs:{chartLoading:"chartLoading",data:"data",trendData:"trendData",supportedFiles:"supportedFiles"},standalone:!1,features:[l.OA$],decls:31,vars:29,consts:[[1,"grid","charts-container","list-unstyled","mb-0"],[1,"g-col-3","g-col-md-1","g-col-xl-3","g-col-xxxl-2"],["description","Utenti totali","color","green",3,"value"],[1,"g-col-3","g-col-md-1","g-col-xl-3","g-col-xxxl-2","g-row-start-xl-2"],["description","File per utente","color","blue",3,"value"],["header",""],[3,"trend"],[1,"g-col-3","g-col-md-1","g-col-xl-3","g-col-xxxl-2","g-row-start-xl-3"],["description","Spazio per utente","color","indigo",3,"value"],[1,"g-col-3","g-col-xl-7","g-col-xxxl-4","g-row-3"],["statTitle","Spazio occupato"],["echarts","",1,"d-block",3,"chartInit","options","autoResize","loading","loadingOpts"],[1,"g-col-3","g-col-xl-10","g-col-xxl-6","g-col-xxxl-4","g-row-xxxl-3"],["statTitle","File caricati"],["title",""],[1,"ms-auto","fs-sm"],[1,"g-col-3","g-col-xl-10","g-col-xxl-4","g-col-xxxl-3"],[3,"data"],[1,"g-col-3","g-col-xl-10","g-col-xxxl-7"],[3,"hasTitle"],[1,"pt-1","overflow-auto","table-container",3,"ngClass"],[3,"supportedFiles","storageData","totalSize","totalFileCount"]],template:function(r,i){1&r&&(l.j41(0,"ul",0)(1,"li",1),l.nrm(2,"app-stat-summary-container",2),l.nI1(3,"localeString"),l.k0s(),l.j41(4,"li",3)(5,"app-stat-summary-container",4),l.qex(6,5),l.nrm(7,"app-stat-trend",6),l.bVm(),l.k0s()(),l.j41(8,"li",7)(9,"app-stat-summary-container",8),l.nI1(10,"formatBytes"),l.qex(11,5),l.nrm(12,"app-stat-trend",6),l.bVm(),l.k0s()(),l.j41(13,"li",9)(14,"app-stat-container",10),l.qex(15),l.j41(16,"div",11),l.bIt("chartInit",function(s){return i.addChartToResizeEvent(s)}),l.k0s(),l.bVm(),l.k0s()(),l.j41(17,"li",12)(18,"app-stat-container",13),l.qex(19,14),l.j41(20,"div",15),l.EFF(21),l.nI1(22,"localeString"),l.k0s(),l.bVm(),l.qex(23),l.j41(24,"div",11),l.bIt("chartInit",function(s){return i.addChartToResizeEvent(s)}),l.k0s(),l.bVm(),l.k0s()(),l.j41(25,"li",16),l.nrm(26,"app-upload-stat-top-users",17),l.k0s(),l.j41(27,"li",18)(28,"app-stat-container",19)(29,"div",20),l.nrm(30,"app-upload-stat-file-table",21),l.k0s()()()()),2&r&&(l.R7$(2),l.Y8G("value",l.bMT(3,21,i.data.toDateActiveUsers)),l.R7$(3),l.Y8G("value",i.filesPerUser),l.R7$(2),l.Y8G("trend",i.filesPerUserTrend),l.R7$(2),l.Y8G("value",l.bMT(10,23,i.sizePerUser)),l.R7$(3),l.Y8G("trend",i.sizePerUserTrend),l.R7$(4),l.Y8G("options",i.totalSizeChartOptions)("autoResize",!1)("loading",i.chartLoading)("loadingOpts",i.loadingOptions),l.R7$(5),l.SpI("Totale: ",l.bMT(22,25,i.totalFileCount)),l.R7$(3),l.Y8G("options",i.totalFileCountChartOptions)("autoResize",!1)("loading",i.chartLoading)("loadingOpts",i.loadingOptions),l.R7$(2),l.Y8G("data",i.topUsersData),l.R7$(2),l.Y8G("hasTitle",!1),l.R7$(),l.Y8G("ngClass",l.eq3(27,no,!i.touchDevice)),l.R7$(),l.Y8G("supportedFiles",i.supportedFiles)("storageData",i.storageUsedAsArray.current)("totalSize",i.totalSize)("totalFileCount",i.totalFileCount))},dependencies:[et.YU,Me.$P,Pe,La,ao,Na,Va,Oe.L,we],styles:[".table-container[_ngcontent-%COMP%]{min-height:100%}",".charts-container[_ngcontent-%COMP%]{--bs-columns: 3}.charts-container[_ngcontent-%COMP%]   [echarts][_ngcontent-%COMP%]{height:300px}.charts-container[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{min-width:0}.table-container[_ngcontent-%COMP%]{height:300px}@media (min-width: 1200px){.charts-container[_ngcontent-%COMP%]{--bs-columns: 10}}"]}))}return a(),e})();const io=a=>({"touch-device":a});function oo(a,e){if(1&a){const t=l.RV6();l.j41(0,"div",1),l.nrm(1,"app-upload-total-stats",3),l.j41(2,"app-upload-datepicker",4),l.bIt("modelChangeEvent",function(r){N.eBV(t);const i=l.XpG();return N.Njj(i.rangeChangeEvent(r))}),l.k0s(),l.nrm(3,"app-upload-daily-stats",5),l.k0s()}if(2&a){const t=l.XpG();l.Y8G("ngClass",l.eq3(9,io,t.touchDevice)),l.R7$(),l.Y8G("supportedFiles",t.supportedFiles)("data",t.globalStatsData.current)("trendData",t.globalStatsData.trend)("chartLoading",t.loading),l.R7$(),l.Y8G("availableRange",t.availableRange),l.R7$(),l.Y8G("supportedFiles",t.supportedFiles)("data",t.data)("chartLoading",t.loading)}}function so(a,e){1&a&&l.nrm(0,"app-loader",2)}let lo=(()=>{var a;class e{constructor(n,r,i,o,s){this.uploadService=n,this.uploadStatsService=r,this.dateAdapterService=i,this.ngbCalendar=o,this.eChartsService=s,this.touchDevice=oe.CN,this.loading=!0,this.supportedFiles=[],this.componentDestroyed=new Wr.B,this.eChartsService.setResizeChartEvent(this.componentDestroyed,se)}ngOnInit(){var n=this;return(0,ct.A)(function*(){const[r,i]=yield Promise.all([n.uploadStatsService.getAvailableDateRange(),n.uploadService.getFileLimits()]);n.supportedFiles=i,n.availableRange={start:n.dateAdapterService.fromModel(new Date(r.start)),end:n.dateAdapterService.fromModel(new Date(r.end))};const o=n.ngbCalendar.getToday(),s=n.dateAdapterService.toModel(n.ngbCalendar.getPrev(o,"d",365)).toISOString(),u=yield n.getData([...n.rangeToStringArray(o,8),s]);n.todayData=u[u.length-1],n.oneYearFromTodayData=u[0],n.globalStatsData={current:n.todayData,trend:n.oneYearFromTodayData,useRange:!1},n.data=u.slice(1),n.loading=!1})()}rangeToStringArray(n,r){return[...Array(r+1)].map((i,o)=>{const s=this.ngbCalendar.getPrev(n,"d",o);return s.before(this.availableRange.start)||s.after(this.availableRange.end)?null:this.dateAdapterService.toModel(s).toISOString()}).filter(i=>null!==i)}getData(n){var r=this;return(0,ct.A)(function*(){return(yield r.uploadStatsService.getRangeData(n)).sort((o,s)=>o.date.getTime()-s.date.getTime())})()}rangeChangeEvent(n){var r=this;return(0,ct.A)(function*(){if(!n.range.start||!n.range.end)return;const i=r.dateAdapterService.toModel(n.range.start),o=r.dateAdapterService.toModel(n.range.end),s=i.getTime(),u=o.getTime();if(!r.data||s!==r.data[1].date.getTime()||u!==r.data[r.data.length-1].date.getTime()){r.loading=!0;const c=Math.round((u-s)/864e5);r.data=yield r.getData(r.rangeToStringArray(n.range.end,c+1)),r.loading=!1}if(n.useRangeAsGlobal!==r.globalStatsData.useRange||r.globalStatsData.useRange)if(r.globalStatsData.useRange=n.useRangeAsGlobal,r.globalStatsData.useRange){r.globalStatsData.current=r.data[r.data.length-1];const c=r.ngbCalendar.getPrev(n.range.end,"d",364);r.globalStatsData.trend=(yield r.getData([r.dateAdapterService.toModel(c.after(r.availableRange.start)?c:r.availableRange.start).toISOString()]))[0]}else r.globalStatsData.current=r.todayData,r.globalStatsData.trend=r.oneYearFromTodayData})()}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete(),this.eChartsService.clearResizeInstances(se)}static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)(l.rXU(qr.B),l.rXU(Qr),l.rXU(tt.VJ),l.rXU(Tt.iF),l.rXU(tt.El))},this.\u0275cmp=l.VBU({type:e,selectors:[["ng-component"]],standalone:!1,decls:3,vars:1,consts:[["pageTitle","Statistiche Upload"],[1,"overflow-hidden","page-container",3,"ngClass"],["message","Recupero dei dati",1,"d-block","mt-5"],[3,"supportedFiles","data","trendData","chartLoading"],[3,"modelChangeEvent","availableRange"],[3,"supportedFiles","data","chartLoading"]],template:function(r,i){1&r&&(l.nrm(0,"app-breadcrumb",0),l.nVh(1,oo,4,11,"div",1)(2,so,1,0,"app-loader",2)),2&r&&(l.R7$(),l.vxM(i.data?1:2))},dependencies:[ti.D,et.YU,wa.V,ni,qi,ro],styles:[".page-container[_ngcontent-%COMP%]{margin-bottom:-10px;padding-bottom:10px}@media (min-width: 960px){.page-container[_ngcontent-%COMP%]:not(.touch-device){margin:-10px;padding:10px}}"]}))}return a(),e})();var Xt=_(1694),uo=_(1245),co=_(3410),vo=_(4885),X=_(1627),at=_(7832),m=_(1571),ke=_(2840),K=_(8201),Fa=2*Math.PI,le=Math.PI/180;function Ua(a,e){return at.dV(a.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Ga(a,e){var t=Ua(a,e),n=a.get("center"),r=a.get("radius");m.isArray(r)||(r=[0,r]);var v,p,i=(0,X.lo)(t.width,e.getWidth()),o=(0,X.lo)(t.height,e.getHeight()),s=Math.min(i,o),u=(0,X.lo)(r[0],s/2),c=(0,X.lo)(r[1],s/2),h=a.coordinateSystem;if(h){var f=h.dataToPoint(n);v=f[0]||0,p=f[1]||0}else m.isArray(n)||(n=[n,n]),v=(0,X.lo)(n[0],i)+t.x,p=(0,X.lo)(n[1],o)+t.y;return{cx:v,cy:p,r0:u,r:c}}function ho(a,e,t){e.eachSeriesByType(a,function(n){var r=n.getData(),i=r.mapDimension("value"),o=Ua(n,t),s=Ga(n,t),u=s.cx,c=s.cy,v=s.r,p=s.r0,h=-n.get("startAngle")*le,f=n.get("endAngle"),d=n.get("padAngle")*le;f="auto"===f?h-Fa:-f*le;var b=n.get("minAngle")*le+d,S=0;r.each(i,function(G){!isNaN(G)&&S++});var y=r.getSum(i),C=Math.PI/(y||S)*2,x=n.get("clockwise"),T=n.get("roseType"),D=n.get("stillShowZeroSum"),A=r.getDataExtent(i);A[0]=0;var M=x?1:-1,O=[h,f],P=M*d/2;(0,ke.q)(O,!x),h=O[0],f=O[1];var k=Ea(n);k.startAngle=h,k.endAngle=f,k.clockwise=x;var w=Math.abs(f-h),I=w,z=0,L=h;if(r.setLayout({viewRect:o,r:v}),r.each(i,function(G,F){var R;if(isNaN(G))r.setItemLayout(F,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:u,cy:c,r0:p,r:T?NaN:v});else{(R="area"!==T?0===y&&D?C:G*C:w/S)<b?(R=b,I-=b):z+=G;var j=L+M*R,Y=0,E=0;d>R?E=Y=L+M*R/2:(Y=L+P,E=j-P),r.setItemLayout(F,{angle:R,startAngle:Y,endAngle:E,clockwise:x,cx:u,cy:c,r0:p,r:T?(0,X.Cb)(G,A,[p,v]):v}),L=j}}),I<Fa&&S)if(I<=.001){var B=w/S;r.each(i,function(G,F){if(!isNaN(G)){var R=r.getItemLayout(F);R.angle=B;var j=0,Y=0;B<d?Y=j=h+M*(F+.5)*B:(j=h+M*F*B+P,Y=h+M*(F+1)*B-P),R.startAngle=j,R.endAngle=Y}})}else C=I/z,L=h,r.each(i,function(G,F){if(!isNaN(G)){var R=r.getItemLayout(F),j=R.angle===b?b:G*C,Y=0,E=0;j<d?E=Y=L+M*j/2:(Y=L+P,E=L+M*j-P),R.startAngle=Y,R.endAngle=E,L+=M*j}})})}var Ea=(0,K.$r)(),U=_(4179),vt=_(7869),q=_(8811),Ba=_(1332),ja=_(9778),Z=_(3032),ue=_(8761),Ya=_(7641),ce=_(466),po=_(8202),go=Math.PI/180;function Ha(a,e,t,n,r,i,o,s,u,c){if(!(a.length<2)){for(var h=a.length,f=0;f<h;f++)"outer"===a[f].position&&"labelLine"===a[f].labelAlignTo&&(a[f].linePoints[1][0]+=a[f].label.x-c,a[f].label.x=c);(0,po.Xe)(a,u,u+o)&&function p(g){for(var b={list:[],maxY:0},S={list:[],maxY:0},y=0;y<g.length;y++)if("none"===g[y].labelAlignTo){var C=g[y],x=C.label.y>t?S:b,T=Math.abs(C.label.y-t);if(T>=x.maxY){var D=C.label.x-e-C.len2*r,A=n+C.len,M=Math.abs(D)<A?Math.sqrt(T*T/(1-D*D/A/A)):A;x.rB=M,x.maxY=T}x.list.push(C)}v(b),v(S)}(a)}function v(g){for(var b=g.rB,S=b*b,y=0;y<g.list.length;y++){var C=g.list[y],x=Math.abs(C.label.y-t),T=n+C.len,A=Math.sqrt(Math.abs(T*T*(1-x*x/S))),M=e+(A+C.len2)*r;$a(C,C.targetTextWidth-(M-C.label.x)*r,!0),C.label.x=M}}}function $a(a,e,t){if(void 0===t&&(t=!1),null==a.labelStyleWidth){var n=a.label,r=n.style,i=a.rect,o=r.backgroundColor,s=r.padding,u=s?s[1]+s[3]:0,c=r.overflow,v=i.width+(o?0:u);if(e<v||t){var p=i.height;if(c&&c.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-u);var h=n.getBoundingRect();n.setStyle("width",Math.ceil(h.width)),n.setStyle("backgroundColor",o)}else{var f=e-u;n.setStyle("width",e<v?f:t?f>a.unconstrainedWidth?null:f:null)}var g=n.getBoundingRect();i.width=g.width,i.height=g.height+((n.style.margin||0)+2.1),i.y-=(i.height-p)/2}}}function Re(a){return"center"===a.position}var rt=_(9195),ve=_(5743),So=function(a){function e(t,n,r){var i=a.call(this)||this;i.z2=2;var o=new vt.Ay;return i.setTextContent(o),i.updateData(t,n,r,!0),i}return(0,U.C6)(e,a),e.prototype.updateData=function(t,n,r,i){var o=this,s=t.hostModel,u=t.getItemModel(n),c=u.getModel("emphasis"),v=t.getItemLayout(n),p=(0,m.extend)((0,ve.i)(u.getModel("itemStyle"),v,!0),v);if(isNaN(p.startAngle))o.setShape(p);else{if(i){o.setShape(p);var h=s.getShallow("animationType");s.ecModel.ssr?(q.LW(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=p.cx,o.originY=p.cy):"scale"===h?(o.shape.r=v.r0,q.LW(o,{shape:{r:v.r}},s,n)):null!=r?(o.setShape({startAngle:r,endAngle:r}),q.LW(o,{shape:{startAngle:v.startAngle,endAngle:v.endAngle}},s,n)):(o.shape.endAngle=v.startAngle,q.oi(o,{shape:{endAngle:v.endAngle}},s,n))}else(0,q.ap)(o),q.oi(o,{shape:p},s,n);o.useStyle(t.getItemVisual(n,"style")),(0,Z.Mx)(o,u);var f=(v.startAngle+v.endAngle)/2,d=s.get("selectedOffset"),g=Math.cos(f)*d,b=Math.sin(f)*d,S=u.getShallow("cursor");S&&o.attr("cursor",S),this._updateLabel(s,t,n),o.ensureState("emphasis").shape=(0,m.extend)({r:v.r+(c.get("scale")&&c.get("scaleSize")||0)},(0,ve.i)(c.getModel("itemStyle"),v)),(0,m.extend)(o.ensureState("select"),{x:g,y:b,shape:(0,ve.i)(u.getModel(["select","itemStyle"]),v)}),(0,m.extend)(o.ensureState("blur"),{shape:(0,ve.i)(u.getModel(["blur","itemStyle"]),v)});var y=o.getTextGuideLine(),C=o.getTextContent();y&&(0,m.extend)(y.ensureState("select"),{x:g,y:b}),(0,m.extend)(C.ensureState("select"),{x:g,y:b}),(0,Z.Lm)(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))}},e.prototype._updateLabel=function(t,n,r){var i=this,o=n.getItemModel(r),s=o.getModel("labelLine"),u=n.getItemVisual(r,"style"),c=u&&u.fill,v=u&&u.opacity;(0,rt.qM)(i,(0,rt.lx)(o),{labelFetcher:n.hostModel,labelDataIndex:r,inheritColor:c,defaultOpacity:v,defaultText:t.getFormattedLabel(r,"normal")||n.getName(r)});var p=i.getTextContent();i.setTextConfig({position:null,rotation:null}),p.attr({z2:10});var h=t.get(["label","position"]);if("outside"!==h&&"outer"!==h)i.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new Ba.A,this.setTextGuideLine(f)),(0,ce.eR)(this,(0,ce.rv)(o),{stroke:c,opacity:(0,m.retrieve3)(s.get(["lineStyle","opacity"]),v,1)})}},e}(ja.A);const Co=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,U.C6)(e,a),e.prototype.render=function(t,n,r,i){var c,o=t.getData(),s=this._data,u=this.group;if(!s&&o.count()>0){for(var v=o.getItemLayout(0),p=1;isNaN(v&&v.startAngle)&&p<o.count();++p)v=o.getItemLayout(p);v&&(c=v.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),0===o.count()&&t.get("showEmptyCircle")){var h=Ea(t),f=new ja.A({shape:(0,m.extend)(Ga(t,r),h)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,u.add(f)}o.diff(s).add(function(d){var g=new So(o,d,c);o.setItemGraphicEl(d,g),u.add(g)}).update(function(d,g){var b=s.getItemGraphicEl(g);b.updateData(o,d,c),b.off("click"),u.add(b),o.setItemGraphicEl(d,b)}).remove(function(d){var g=s.getItemGraphicEl(d);q.t5(g,t,d)}).execute(),function yo(a){var n,r,e=a.getData(),t=[],i=!1,o=(a.get("minShowLabelAngle")||0)*go,s=e.getLayout("viewRect"),u=e.getLayout("r"),c=s.width,v=s.x,p=s.y,h=s.height;function f(D){D.ignore=!0}e.each(function(D){var A=e.getItemGraphicEl(D),M=A.shape,O=A.getTextContent(),P=A.getTextGuideLine(),k=e.getItemModel(D),w=k.getModel("label"),I=w.get("position")||k.get(["emphasis","label","position"]),z=w.get("distanceToLabelLine"),L=w.get("alignTo"),B=(0,X.lo)(w.get("edgeDistance"),c),G=w.get("bleedMargin"),F=k.getModel("labelLine"),R=F.get("length");R=(0,X.lo)(R,c);var j=F.get("length2");if(j=(0,X.lo)(j,c),Math.abs(M.endAngle-M.startAngle)<o)return(0,m.each)(O.states,f),O.ignore=!0,void(P&&((0,m.each)(P.states,f),P.ignore=!0));if(function d(D){if(!D.ignore)return!0;for(var A in D.states)if(!1===D.states[A].ignore)return!0;return!1}(O)){var W,J,St,Et,Y=(M.startAngle+M.endAngle)/2,E=Math.cos(Y),$=Math.sin(Y);n=M.cx,r=M.cy;var ot="inside"===I||"inner"===I;if("center"===I)W=M.cx,J=M.cy,Et="center";else{var bt=(ot?(M.r+M.r0)/2*E:M.r*E)+n,Bt=(ot?(M.r+M.r0)/2*$:M.r*$)+r;if(W=bt+3*E,J=Bt+3*$,!ot){var kt=bt+E*(R+u-M.r),De=Bt+$*(R+u-M.r),jt=kt+(E<0?-1:1)*j;W="edge"===L?E<0?v+B:v+c-B:jt+(E<0?-z:z),J=De,St=[[bt,Bt],[kt,De],[jt,De]]}Et=ot?"center":"edge"===L?E>0?"right":"left":E>0?"left":"right"}var Ct=Math.PI,st=0,dt=w.get("rotate");if((0,m.isNumber)(dt))st=dt*(Ct/180);else if("center"===I)st=0;else if("radial"===dt||!0===dt)st=E<0?-Y+Ct:-Y;else if("tangential"===dt&&"outside"!==I&&"outer"!==I){var lt=Math.atan2(E,$);lt<0&&(lt=2*Ct+lt),$>0&&(lt=Ct+lt),st=lt-Ct}if(i=!!st,O.x=W,O.y=J,O.rotation=st,O.setStyle({verticalAlign:"middle"}),ot){O.setStyle({align:Et});var Pa=O.states.select;Pa&&(Pa.x+=O.x,Pa.y+=O.y)}else{var xt=O.getBoundingRect().clone();xt.applyTransform(O.getComputedTransform());var jr=(O.style.margin||0)+2.1;xt.y-=jr/2,xt.height+=jr,t.push({label:O,labelLine:P,position:I,len:R,len2:j,minTurnAngle:F.get("minTurnAngle"),maxSurfaceAngle:F.get("maxSurfaceAngle"),surfaceNormal:new Ya.A(E,$),linePoints:St,textAlign:Et,labelDistance:z,labelAlignTo:L,edgeDistance:B,bleedMargin:G,rect:xt,unconstrainedWidth:xt.width,labelStyleWidth:O.style.width})}A.setTextConfig({inside:ot})}}),!i&&a.get("avoidLabelOverlap")&&function mo(a,e,t,n,r,i,o,s){for(var u=[],c=[],v=Number.MAX_VALUE,p=-Number.MAX_VALUE,h=0;h<a.length;h++){var f=a[h].label;Re(a[h])||(f.x<e?(v=Math.min(v,f.x),u.push(a[h])):(p=Math.max(p,f.x),c.push(a[h])))}for(h=0;h<a.length;h++)if(!Re(d=a[h])&&d.linePoints){if(null!=d.labelStyleWidth)continue;f=d.label;var b,g=d.linePoints;d.targetTextWidth=b="edge"===d.labelAlignTo?f.x<e?g[2][0]-d.labelDistance-o-d.edgeDistance:o+r-d.edgeDistance-g[2][0]-d.labelDistance:"labelLine"===d.labelAlignTo?f.x<e?v-o-d.bleedMargin:o+r-p-d.bleedMargin:f.x<e?f.x-o-d.bleedMargin:o+r-f.x-d.bleedMargin,$a(d,b)}for(Ha(c,e,t,n,1,0,i,0,s,p),Ha(u,e,t,n,-1,0,i,0,s,v),h=0;h<a.length;h++){var d;if(!Re(d=a[h])&&d.linePoints){var y=(f=d.label).style.padding,T=d.rect.width+(f.style.backgroundColor?0:y?y[1]+y[3]:0),D=(g=d.linePoints)[1][0]-g[2][0];"edge"===d.labelAlignTo?g[2][0]=f.x<e?o+d.edgeDistance+T+d.labelDistance:o+r-d.edgeDistance-T-d.labelDistance:(g[2][0]=f.x<e?f.x+d.labelDistance:f.x-d.labelDistance,g[1][0]=g[2][0]+D),g[1][1]=g[2][1]=f.y}}}(t,n,r,u,c,h,v,p);for(var g=0;g<t.length;g++){var b=t[g],S=b.label,y=b.labelLine,C=isNaN(S.x)||isNaN(S.y);if(S){S.setStyle({align:b.textAlign}),C&&((0,m.each)(S.states,f),S.ignore=!0);var x=S.states.select;x&&(x.x+=S.x,x.y+=S.y)}if(y){var T=b.linePoints;C||!T?((0,m.each)(y.states,f),y.ignore=!0):((0,ce.YI)(T,b.minTurnAngle),(0,ce.QK)(T,b.surfaceNormal,b.maxSurfaceAngle),y.setShape({points:T}),S.__hostTarget.textGuideLineConfig={anchor:new Ya.A(T[0][0],T[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,n){var i=n.getData().getItemLayout(0);if(i){var o=t[0]-i.cx,s=t[1]-i.cy,u=Math.sqrt(o*o+s*s);return u<=i.r&&u>=i.r0}},e.type="pie",e}(ue.A);var xo=_(8152),Xa=_(5967),Ao=_(4076);const _o=function(){function a(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return a.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},a.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},a.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},a.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},a}();var Za=_(6367),Mo=K.$r();const Oo=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return(0,U.C6)(e,a),e.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new _o(m.bind(this.getData,this),m.bind(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return function To(a,e,t){e=(0,m.isArray)(e)&&{coordDimensions:e}||(0,m.extend)({encodeDefine:a.getEncode()},e);var n=a.getSource(),r=(0,xo.A)(n,e).dimensions,i=new Xa.A(r,a);return i.initData(n,t),i}(this,{coordDimensions:["value"],encodeDefaulter:m.curry(Ao.ln,this)})},e.prototype.getDataParams=function(t){var n=this.getData(),r=Mo(n),i=r.seats;if(!i){var o=[];n.each(n.mapDimension("value"),function(u){o.push(u)}),i=r.seats=(0,X.kM)(o,n.hostModel.get("percentPrecision"))}var s=a.prototype.getDataParams.call(this,t);return s.percent=i[t]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(t){K.M5(t,"labelLine",["show"]);var n=t.labelLine,r=t.emphasis.labelLine;n.show=n.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Za.A);var ko=_(5831),Rt=_(54),ht=_(5639);const Lo=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return(0,U.C6)(e,a),e.prototype.getInitialData=function(t){return(0,ko.A)(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var n=new ht.A,r=(0,Rt.v5)("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(r),r.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s="none"===i?"circle":i,u=.8*t.itemHeight,c=(0,Rt.v5)(s,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);return n.add(c),c.setStyle(t.itemStyle),c.rotation=("inherit"===t.iconRotate?o:t.iconRotate||0)*Math.PI/180,c.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Za.A);var ft=_(1231),At=_(6571),Le=_(5603),Ne=_(1441);function zo(a,e){this.parent.drift(a,e)}const ze=function(a){function e(t,n,r,i){var o=a.call(this)||this;return o.updateData(t,n,r,i),o}return(0,U.C6)(e,a),e.prototype._createSymbol=function(t,n,r,i,o){this.removeAll();var s=(0,Rt.v5)(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),s.drift=zo,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){(0,Z.HY)(this.childAt(0))},e.prototype.downplay=function(){(0,Z.SD)(this.childAt(0))},e.prototype.setZ=function(t,n){var r=this.childAt(0);r.zlevel=t,r.z=n},e.prototype.setDraggable=function(t,n){var r=this.childAt(0);r.draggable=t,r.cursor=!n&&t?"move":r.cursor},e.prototype.updateData=function(t,n,r,i){this.silent=!1;var o=t.getItemVisual(n,"symbol")||"circle",s=t.hostModel,u=e.getSymbolSize(t,n),c=o!==this._symbolType,v=i&&i.disableAnimation;if(c){var p=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,t,n,u,p)}else{(h=this.childAt(0)).silent=!1;var f={scaleX:u[0]/2,scaleY:u[1]/2};v?h.attr(f):q.oi(h,f,s,n),(0,q.ap)(h)}if(this._updateCommon(t,n,u,r,i),c){var h=this.childAt(0);v||(f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}},h.scaleX=h.scaleY=0,h.style.opacity=0,q.LW(h,f,s,n))}v&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,n,r,i,o){var c,v,p,h,f,d,g,b,S,s=this.childAt(0),u=t.hostModel;if(i&&(c=i.emphasisItemStyle,v=i.blurItemStyle,p=i.selectItemStyle,h=i.focus,f=i.blurScope,g=i.labelStatesModels,b=i.hoverScale,S=i.cursorStyle,d=i.emphasisDisabled),!i||t.hasItemOption){var y=i&&i.itemModel?i.itemModel:t.getItemModel(n),C=y.getModel("emphasis");c=C.getModel("itemStyle").getItemStyle(),p=y.getModel(["select","itemStyle"]).getItemStyle(),v=y.getModel(["blur","itemStyle"]).getItemStyle(),h=C.get("focus"),f=C.get("blurScope"),d=C.get("disabled"),g=(0,rt.lx)(y),b=C.getShallow("scale"),S=y.getShallow("cursor")}var x=t.getItemVisual(n,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var T=(0,Rt.hV)(t.getItemVisual(n,"symbolOffset"),r);T&&(s.x=T[0],s.y=T[1]),S&&s.attr("cursor",S);var D=t.getItemVisual(n,"style"),A=D.fill;if(s instanceof Ne.Ay){var M=s.style;s.useStyle((0,m.extend)({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},D))}else s.useStyle(s.__isEmptyBrush?(0,m.extend)({},D):D),s.style.decal=null,s.setColor(A,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var O=t.getItemVisual(n,"liftZ"),P=this._z2;null!=O?null==P&&(this._z2=s.z2,s.z2+=O):null!=P&&(s.z2=P,this._z2=null);var k=o&&o.useNameLabel;(0,rt.qM)(s,g,{labelFetcher:u,labelDataIndex:n,defaultText:function w(L){return k?t.getName(L):(0,Le.i)(t,L)},inheritColor:A,defaultOpacity:D.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var I=s.ensureState("emphasis");I.style=c,s.ensureState("select").style=p,s.ensureState("blur").style=v;var z=null==b||!0===b?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;I.scaleX=this._sizeX*z,I.scaleY=this._sizeY*z,this.setSymbolScale(1),(0,Z.Lm)(this,h,f,d)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,n,r){var i=this.childAt(0),o=(0,At.z)(this).dataIndex,s=r&&r.animation;if(this.silent=i.silent=!0,r&&r.fadeLabel){var u=i.getTextContent();u&&q.Nz(u,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){i.removeTextContent()}})}else i.removeTextContent();q.Nz(i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,n){return(0,Rt.xU)(t.getItemVisual(n,"symbolSize"))},e}(ht.A);function Ve(a,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==a.getItemVisual(t,"symbol")}function Wa(a){return null!=a&&!(0,m.isObject)(a)&&(a={isIgnore:a}),a||{}}function Ja(a){var e=a.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:(0,rt.lx)(e),cursorStyle:e.get("cursor")}}const Ka=function(){function a(e){this.group=new ht.A,this._SymbolCtor=e||ze}return a.prototype.updateData=function(e,t){this._progressiveEls=null,t=Wa(t);var n=this.group,r=e.hostModel,i=this._data,o=this._SymbolCtor,s=t.disableAnimation,u=Ja(e),c={disableAnimation:s},v=t.getSymbolPoint||function(p){return e.getItemLayout(p)};i||n.removeAll(),e.diff(i).add(function(p){var h=v(p);if(Ve(e,h,p,t)){var f=new o(e,p,u,c);f.setPosition(h),e.setItemGraphicEl(p,f),n.add(f)}}).update(function(p,h){var f=i.getItemGraphicEl(h),d=v(p);if(Ve(e,d,p,t)){var g=e.getItemVisual(p,"symbol")||"circle",b=f&&f.getSymbolType&&f.getSymbolType();if(!f||b&&b!==g)n.remove(f),(f=new o(e,p,u,c)).setPosition(d);else{f.updateData(e,p,u,c);var S={x:d[0],y:d[1]};s?f.attr(S):q.oi(f,S,r)}n.add(f),e.setItemGraphicEl(p,f)}else n.remove(f)}).remove(function(p){var h=i.getItemGraphicEl(p);h&&h.fadeOut(function(){n.remove(h)},r)}).execute(),this._getSymbolPoint=v,this._data=e},a.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(n,r){var i=e._getSymbolPoint(r);n.setPosition(i),n.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Ja(e),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(e,t,n){function r(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=Wa(n);for(var i=e.start;i<e.end;i++){var o=t.getItemLayout(i);if(Ve(t,o,i,n)){var s=new this._SymbolCtor(t,i,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},a.prototype.eachRendered=function(e){ft.traverseElements(this._progressiveEls||this.group,e)},a.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},n.hostModel)}):t.removeAll()},a}();var Zt=_(2861);function Qa(a,e,t){var n=a.getBaseAxis(),r=a.getOtherAxis(n),i=function Fo(a,e){var t=0,n=a.scale.getExtent();return"start"===e?t=n[0]:"end"===e?t=n[1]:(0,m.isNumber)(e)&&!isNaN(e)?t=e:n[0]>0?t=n[0]:n[1]<0&&(t=n[1]),t}(r,t),o=n.dim,s=r.dim,u=e.mapDimension(s),c=e.mapDimension(o),v="x"===s||"radius"===s?1:0,p=(0,m.map)(a.dimensions,function(d){return e.mapDimension(d)}),h=!1,f=e.getCalculationInfo("stackResultDimension");return(0,Zt.sJ)(e,p[0])&&(h=!0,p[0]=f),(0,Zt.sJ)(e,p[1])&&(h=!0,p[1]=f),{dataDimsForPoint:p,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:u,baseDim:c,baseDataOffset:v,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function qa(a,e,t,n){var r=NaN;a.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=a.valueStart);var i=a.baseDataOffset,o=[];return o[i]=t.get(a.baseDim,n),o[1-i]=r,e.dataToPoint(o)}var Lt=_(8340),Eo=_(9235),Wt=_(975),he=_(6696),gt=Math.min,mt=Math.max;function Dt(a,e){return isNaN(a)||isNaN(e)}function Fe(a,e,t,n,r,i,o,s,u){for(var c,v,p,h,f,d,g=t,b=0;b<n;b++){var S=e[2*g],y=e[2*g+1];if(g>=r||g<0)break;if(Dt(S,y)){if(u){g+=i;continue}break}if(g===t)a[i>0?"moveTo":"lineTo"](S,y),p=S,h=y;else{var C=S-c,x=y-v;if(C*C+x*x<.5){g+=i;continue}if(o>0){for(var T=g+i,D=e[2*T],A=e[2*T+1];D===S&&A===y&&b<n;)b++,D=e[2*(T+=i)],A=e[2*T+1],C=(S=e[2*(g+=i)])-c,x=(y=e[2*g+1])-v;var M=b+1;if(u)for(;Dt(D,A)&&M<n;)M++,D=e[2*(T+=i)],A=e[2*T+1];var O=.5,P=0,k=0,w=void 0,I=void 0;if(M>=n||Dt(D,A))f=S,d=y;else{P=D-c,k=A-v;var z=S-c,L=D-S,B=y-v,G=A-y,F=void 0,R=void 0;if("x"===s){var j=P>0?1:-1;f=S-j*(F=Math.abs(z))*o,d=y,w=S+j*(R=Math.abs(L))*o,I=y}else if("y"===s){var Y=k>0?1:-1;f=S,d=y-Y*(F=Math.abs(B))*o,w=S,I=y+Y*(R=Math.abs(G))*o}else F=Math.sqrt(z*z+B*B),f=S-P*o*(1-(O=(R=Math.sqrt(L*L+G*G))/(R+F))),d=y-k*o*(1-O),I=y+k*o*O,w=gt(w=S+P*o*O,mt(D,S)),I=gt(I,mt(A,y)),w=mt(w,gt(D,S)),d=y-(k=(I=mt(I,gt(A,y)))-y)*F/R,f=gt(f=S-(P=w-S)*F/R,mt(c,S)),d=gt(d,mt(v,y)),w=S+(P=S-(f=mt(f,gt(c,S))))*R/F,I=y+(k=y-(d=mt(d,gt(v,y))))*R/F}a.bezierCurveTo(p,h,f,d,S,y),p=w,h=I}else a.lineTo(S,y)}c=S,v=y,g+=i}return b}var tn=function(){return function a(){this.smooth=0,this.smoothConstraint=!0}}(),Bo=function(a){function e(t){var n=a.call(this,t)||this;return n.type="ec-polyline",n}return(0,U.C6)(e,a),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new tn},e.prototype.buildPath=function(t,n){var r=n.points,i=0,o=r.length/2;if(n.connectNulls){for(;o>0&&Dt(r[2*o-2],r[2*o-1]);o--);for(;i<o&&Dt(r[2*i],r[2*i+1]);i++);}for(;i<o;)i+=Fe(t,r,i,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s,u,i=this.path.data,o=ke.A.CMD,c="x"===n,v=[],p=0;p<i.length;){var f=void 0,d=void 0,g=void 0,b=void 0,S=void 0,y=void 0,C=void 0;switch(i[p++]){case o.M:s=i[p++],u=i[p++];break;case o.L:if(f=i[p++],d=i[p++],(C=c?(t-s)/(f-s):(t-u)/(d-u))<=1&&C>=0){var x=c?(d-u)*C+u:(f-s)*C+s;return c?[t,x]:[x,t]}s=f,u=d;break;case o.C:f=i[p++],d=i[p++],g=i[p++],b=i[p++],S=i[p++],y=i[p++];var T=c?(0,he._E)(s,f,g,S,t,v):(0,he._E)(u,d,b,y,t,v);if(T>0)for(var D=0;D<T;D++){var A=v[D];if(A<=1&&A>=0)return x=c?(0,he.Yb)(u,d,b,y,A):(0,he.Yb)(s,f,g,S,A),c?[t,x]:[x,t]}s=S,u=y}}},e}(Wt.Ay),jo=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return(0,U.C6)(e,a),e}(tn),Yo=function(a){function e(t){var n=a.call(this,t)||this;return n.type="ec-polygon",n}return(0,U.C6)(e,a),e.prototype.getDefaultShape=function(){return new jo},e.prototype.buildPath=function(t,n){var r=n.points,i=n.stackedOnPoints,o=0,s=r.length/2,u=n.smoothMonotone;if(n.connectNulls){for(;s>0&&Dt(r[2*s-2],r[2*s-1]);s--);for(;o<s&&Dt(r[2*o],r[2*o+1]);o++);}for(;o<s;){var c=Fe(t,r,o,s,s,1,n.smooth,u,n.connectNulls);Fe(t,i,o+c-1,c,s,-1,n.stackedOnSmooth,u,n.connectNulls),o+=c+1,t.closePath()}},e}(Wt.Ay),en=_(3902),Ho=_(1830),Ue=_(7361),fe=_(3121);function an(a,e){if(a.length===e.length){for(var t=0;t<a.length;t++)if(a[t]!==e[t])return;return!0}}function nn(a){for(var e=1/0,t=1/0,n=-1/0,r=-1/0,i=0;i<a.length;){var o=a[i++],s=a[i++];isNaN(o)||(e=Math.min(o,e),n=Math.max(o,n)),isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r))}return[[e,t],[n,r]]}function rn(a,e){var t=nn(a),n=t[0],r=t[1],i=nn(e),o=i[0],s=i[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function on(a){return m.isNumber(a)?a:a?.5:0}function yt(a,e,t,n,r){var i=t.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,s=[],u=0,c=[],v=[],p=[],h=[];if(r){for(u=0;u<a.length;u+=2){var f=e||a;!isNaN(f[u])&&!isNaN(f[u+1])&&h.push(a[u],a[u+1])}a=h}for(u=0;u<a.length-2;u+=2)switch(p[0]=a[u+2],p[1]=a[u+3],v[0]=a[u],v[1]=a[u+1],s.push(v[0],v[1]),n){case"end":c[o]=p[o],c[1-o]=v[1-o],s.push(c[0],c[1]);break;case"middle":var g=[];c[o]=g[o]=(v[o]+p[o])/2,c[1-o]=v[1-o],g[1-o]=p[1-o],s.push(c[0],c[1]),s.push(g[0],g[1]);break;default:c[o]=v[o],c[1-o]=p[1-o],s.push(c[0],c[1])}return s.push(a[u++],a[u++]),s}function Ko(a,e){return isNaN(a)||isNaN(e)}function sn(a,e){return[a[2*e],a[2*e+1]]}function ln(a){if(a.get(["endLabel","show"]))return!0;for(var e=0;e<Z.BV.length;e++)if(a.get([Z.BV[e],"endLabel","show"]))return!0;return!1}function Ge(a,e,t,n){if((0,Ho.g)(e,"cartesian2d")){var r=n.getModel("endLabel"),i=r.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},u=ln(n)?function(f,d){a._endLabelOnDuring(f,d,o,s,i,r,e)}:null,c=e.getBaseAxis().isHorizontal(),v=(0,en.SM)(e,t,n,function(){var f=a._endLabel;f&&t&&null!=s.originalX&&f.attr({x:s.originalX,y:s.originalY})},u);if(!n.get("clip",!0)){var p=v.shape,h=Math.max(p.width,p.height);c?(p.y-=h,p.height+=2*h):(p.x-=h,p.width+=2*h)}return u&&u(1,v),v}return(0,en.Mi)(e,t,n)}const as=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return(0,U.C6)(e,a),e.prototype.init=function(){var t=new ht.A,n=new Ka;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t,this._changePolyState=m.bind(this._changePolyState,this)},e.prototype.render=function(t,n,r){var i=t.coordinateSystem,o=this.group,s=t.getData(),u=t.getModel("lineStyle"),c=t.getModel("areaStyle"),v=s.getLayout("points")||[],p="polar"===i.type,h=this._coordSys,f=this._symbolDraw,d=this._polyline,g=this._polygon,b=this._lineGroup,S=!n.ssr&&t.get("animation"),y=!c.isEmpty(),C=c.get("origin"),x=Qa(i,s,C),T=y&&function $o(a,e,t){if(!t.valueDim)return[];for(var n=e.count(),r=(0,Lt.J)(2*n),i=0;i<n;i++){var o=qa(t,a,e,i);r[2*i]=o[0],r[2*i+1]=o[1]}return r}(i,s,x),D=t.get("showSymbol"),A=t.get("connectNulls"),M=D&&!p&&function Wo(a,e,t){var n=a.get("showAllSymbol"),r="auto"===n;if(!n||r){var i=t.getAxesByScale("ordinal")[0];if(i&&(!r||!function Jo(a,e){var t=a.getExtent(),n=Math.abs(t[1]-t[0])/a.scale.count();isNaN(n)&&(n=0);for(var r=e.count(),i=Math.max(1,Math.round(r/5)),o=0;o<r;o+=i)if(1.5*ze.getSymbolSize(e,o)[a.isHorizontal()?1:0]>n)return!1;return!0}(i,e))){var o=e.mapDimension(i.dim),s={};return m.each(i.getViewLabels(),function(u){var c=i.scale.getRawOrdinalNumber(u.tickValue);s[c]=1}),function(u){return!s.hasOwnProperty(e.get(o,u))}}}}(t,s,i),O=this._data;O&&O.eachItemGraphicEl(function(J,St){J.__temp&&(o.remove(J),O.setItemGraphicEl(St,null))}),D||f.remove(),o.add(b);var k,P=!p&&t.get("step");i&&i.getArea&&t.get("clip",!0)&&(null!=(k=i.getArea()).width?(k.x-=.1,k.y-=.1,k.width+=.2,k.height+=.2):k.r0&&(k.r0-=.5,k.r+=.5)),this._clipShapeForSymbol=k;var w=function Zo(a,e,t){var n=a.getVisual("visualMeta");if(n&&n.length&&a.count()&&"cartesian2d"===e.type){for(var r,i,o=n.length-1;o>=0;o--){var s=a.getDimensionInfo(n[o].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){i=n[o];break}}if(i){var u=e.getAxis(r),c=m.map(i.stops,function(C){return{coord:u.toGlobalCoord(u.dataToCoord(C.value)),color:C.color}}),v=c.length,p=i.outerColors.slice();v&&c[0].coord>c[v-1].coord&&(c.reverse(),p.reverse());var h=function Xo(a,e){var r,i,t=[],n=a.length;function o(v,p,h){var f=v.coord;return{coord:h,color:(0,fe.lerp)((h-f)/(p.coord-f),[v.color,p.color])}}for(var s=0;s<n;s++){var u=a[s],c=u.coord;if(c<0)r=u;else{if(c>e){i?t.push(o(i,u,e)):r&&t.push(o(r,u,0),o(r,u,e));break}r&&(t.push(o(r,u,0)),r=null),t.push(u),i=u}}return t}(c,"x"===r?t.getWidth():t.getHeight()),f=h.length;if(!f&&v)return c[0].coord<0?p[1]?p[1]:c[v-1].color:p[0]?p[0]:c[0].color;var g=h[0].coord-10,b=h[f-1].coord+10,S=b-g;if(S<.001)return"transparent";m.each(h,function(C){C.offset=(C.coord-g)/S}),h.push({offset:f?h[f-1].offset:.5,color:p[1]||"transparent"}),h.unshift({offset:f?h[0].offset:.5,color:p[0]||"transparent"});var y=new Eo.A(0,0,0,0,h,!0);return y[r]=g,y[r+"2"]=b,y}}}(s,i,r)||s.getVisual("style")[s.getVisual("drawType")];if(d&&h.type===i.type&&P===this._step){y&&!g?g=this._newPolygon(v,T):g&&!y&&(b.remove(g),g=this._polygon=null),p||this._initOrUpdateEndLabel(t,i,(0,Ue.he)(w));var I=b.getClipPath();if(I){var z=Ge(this,i,!1,t);q.LW(I,{shape:z.shape},t)}else b.setClipPath(Ge(this,i,!0,t));D&&f.updateData(s,{isIgnore:M,clipShape:k,disableAnimation:!0,getSymbolPoint:function(J){return[v[2*J],v[2*J+1]]}}),(!an(this._stackedOnPoints,T)||!an(this._points,v))&&(S?this._doUpdateAnimation(s,T,i,r,P,C,A):(P&&(T&&(T=yt(T,v,i,P,A)),v=yt(v,null,i,P,A)),d.setShape({points:v}),g&&g.setShape({points:v,stackedOnPoints:T})))}else D&&f.updateData(s,{isIgnore:M,clipShape:k,disableAnimation:!0,getSymbolPoint:function(J){return[v[2*J],v[2*J+1]]}}),S&&this._initSymbolLabelAnimation(s,i,k),P&&(T&&(T=yt(T,v,i,P,A)),v=yt(v,null,i,P,A)),d=this._newPolyline(v),y?g=this._newPolygon(v,T):g&&(b.remove(g),g=this._polygon=null),p||this._initOrUpdateEndLabel(t,i,(0,Ue.he)(w)),b.setClipPath(Ge(this,i,!0,t));var L=t.getModel("emphasis"),B=L.get("focus"),G=L.get("blurScope"),F=L.get("disabled");d.useStyle(m.defaults(u.getLineStyle(),{fill:"none",stroke:w,lineJoin:"bevel"})),(0,Z.Mx)(d,t,"lineStyle"),d.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(d.getState("emphasis").style.lineWidth=+d.style.lineWidth+1),(0,At.z)(d).seriesIndex=t.seriesIndex,(0,Z.Lm)(d,B,G,F);var j=on(t.get("smooth")),Y=t.get("smoothMonotone");if(d.setShape({smooth:j,smoothMonotone:Y,connectNulls:A}),g){var E=s.getCalculationInfo("stackedOnSeries"),$=0;g.useStyle(m.defaults(c.getAreaStyle(),{fill:w,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),E&&($=on(E.get("smooth"))),g.setShape({smooth:j,stackedOnSmooth:$,smoothMonotone:Y,connectNulls:A}),(0,Z.Mx)(g,t,"areaStyle"),(0,At.z)(g).seriesIndex=t.seriesIndex,(0,Z.Lm)(g,B,G,F)}var W=this._changePolyState;s.eachItemGraphicEl(function(J){J&&(J.onHoverStateChange=W)}),this._polyline.onHoverStateChange=W,this._data=s,this._coordSys=i,this._stackedOnPoints=T,this._points=v,this._step=P,this._valueOrigin=C,t.get("triggerLineEvent")&&(this.packEventData(t,d),g&&this.packEventData(t,g))},e.prototype.packEventData=function(t,n){(0,At.z)(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,n,r,i){var o=t.getData(),s=K.le(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var u=o.getLayout("points"),c=o.getItemGraphicEl(s);if(!c){var v=u[2*s],p=u[2*s+1];if(isNaN(v)||isNaN(p)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(v,p))return;var h=t.get("zlevel")||0,f=t.get("z")||0;(c=new ze(o,s)).x=v,c.y=p,c.setZ(h,f);var d=c.getSymbolPath().getTextContent();d&&(d.zlevel=h,d.z=f,d.z2=this._polyline.z2+1),c.__temp=!0,o.setItemGraphicEl(s,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else ue.A.prototype.highlight.call(this,t,n,r,i)},e.prototype.downplay=function(t,n,r,i){var o=t.getData(),s=K.le(o,i);if(this._changePolyState("normal"),null!=s&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else ue.A.prototype.downplay.call(this,t,n,r,i)},e.prototype._changePolyState=function(t){var n=this._polygon;(0,Z.Pk)(this._polyline,t),n&&(0,Z.Pk)(n,t)},e.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new Bo({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(t,n){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new Yo({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,n,r){var i,o,s=n.getBaseAxis(),u=s.inverse;"cartesian2d"===n.type?(i=s.isHorizontal(),o=!1):"polar"===n.type&&(i="angle"===s.dim,o=!0);var c=t.hostModel,v=c.get("animationDuration");m.isFunction(v)&&(v=v(null));var p=c.get("animationDelay")||0,h=m.isFunction(p)?p(null):p;t.eachItemGraphicEl(function(f,d){var g=f;if(g){var S=void 0,y=void 0,C=void 0;if(r)if(o){var x=r,T=n.pointToCoord([f.x,f.y]);i?(S=x.startAngle,y=x.endAngle,C=-T[1]/180*Math.PI):(S=x.r0,y=x.r,C=T[0])}else i?(S=r.x,y=r.x+r.width,C=f.x):(S=r.y+r.height,y=r.y,C=f.y);var A=y===S?0:(C-S)/(y-S);u&&(A=1-A);var M=m.isFunction(p)?p(d):v*A+h,O=g.getSymbolPath(),P=O.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:M}),P&&P.animateFrom({style:{opacity:0}},{duration:300,delay:M}),O.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,n,r){var i=t.getModel("endLabel");if(ln(t)){var o=t.getData(),s=this._polyline,u=o.getLayout("points");if(!u)return s.removeTextContent(),void(this._endLabel=null);var c=this._endLabel;c||((c=this._endLabel=new vt.Ay({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var v=function Qo(a){for(var e=a.length/2;e>0&&Ko(a[2*e-2],a[2*e-1]);e--);return e-1}(u);v>=0&&((0,rt.qM)(s,(0,rt.lx)(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:v,defaultText:function(p,h,f){return null!=f?(0,Le.T)(o,f):(0,Le.i)(o,p)},enableTextSetter:!0},function ts(a,e){var t=e.getBaseAxis(),n=t.isHorizontal(),r=t.inverse,i=n?r?"right":"left":"center",o=n?"middle":r?"top":"bottom";return{normal:{align:a.get("align")||i,verticalAlign:a.get("verticalAlign")||o}}}(i,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,n,r,i,o,s,u){var c=this._endLabel,v=this._polyline;if(c){t<1&&null==i.originalX&&(i.originalX=c.x,i.originalY=c.y);var p=r.getLayout("points"),h=r.hostModel,f=h.get("connectNulls"),d=s.get("precision"),g=s.get("distance")||0,b=u.getBaseAxis(),S=b.isHorizontal(),y=b.inverse,C=n.shape,x=y?S?C.x:C.y+C.height:S?C.x+C.width:C.y,T=(S?g:0)*(y?-1:1),D=(S?0:-g)*(y?-1:1),A=S?"x":"y",M=function qo(a,e,t){for(var i,o,n=a.length/2,r="x"===t?0:1,s=0,u=-1,c=0;c<n;c++)if(o=a[2*c+r],!isNaN(o)&&!isNaN(a[2*c+1-r])){if(0===c){i=o;continue}if(i<=e&&o>=e||i>=e&&o<=e){u=c;break}s=c,i=o}return{range:[s,u],t:(e-i)/(o-i)}}(p,x,A),O=M.range,P=O[1]-O[0],k=void 0;if(P>=1){if(P>1&&!f){var w=sn(p,O[0]);c.attr({x:w[0]+T,y:w[1]+D}),o&&(k=h.getRawValue(O[0]))}else{(w=v.getPointOn(x,A))&&c.attr({x:w[0]+T,y:w[1]+D});var I=h.getRawValue(O[0]),z=h.getRawValue(O[1]);o&&(k=K.Il(r,d,I,z,M.t))}i.lastFrameIndex=O[0]}else{var L=1===t||i.lastFrameIndex>0?O[0]:0;w=sn(p,L),o&&(k=h.getRawValue(L)),c.attr({x:w[0]+T,y:w[1]+D})}if(o){var B=(0,rt.Lu)(c);"function"==typeof B.setLabelText&&B.setLabelText(k)}}},e.prototype._doUpdateAnimation=function(t,n,r,i,o,s,u){var c=this._polyline,v=this._polygon,p=t.hostModel,h=function Go(a,e,t,n,r,i,o){for(var u=function Uo(a,e){var t=[];return e.diff(a).add(function(n){t.push({cmd:"+",idx:n})}).update(function(n,r){t.push({cmd:"=",idx:r,idx1:n})}).remove(function(n){t.push({cmd:"-",idx:n})}).execute(),t}(a,e),c=[],v=[],p=[],h=[],f=[],d=[],g=[],b=Qa(r,e,o),S=a.getLayout("points")||[],y=e.getLayout("points")||[],C=0;C<u.length;C++){var x=u[C],T=!0,D=void 0,A=void 0;switch(x.cmd){case"=":var M=S[D=2*x.idx],O=S[D+1],P=y[A=2*x.idx1],k=y[A+1];(isNaN(M)||isNaN(O))&&(M=P,O=k),c.push(M,O),v.push(P,k),p.push(t[D],t[D+1]),h.push(n[A],n[A+1]),g.push(e.getRawIndex(x.idx1));break;case"+":var w=x.idx,I=b.dataDimsForPoint,z=r.dataToPoint([e.get(I[0],w),e.get(I[1],w)]);A=2*w,c.push(z[0],z[1]),v.push(y[A],y[A+1]);var L=qa(b,r,e,w);p.push(L[0],L[1]),h.push(n[A],n[A+1]),g.push(e.getRawIndex(w));break;case"-":T=!1}T&&(f.push(x),d.push(d.length))}d.sort(function(J,St){return g[J]-g[St]});var B=c.length,G=(0,Lt.J)(B),F=(0,Lt.J)(B),R=(0,Lt.J)(B),j=(0,Lt.J)(B),Y=[];for(C=0;C<d.length;C++){var E=d[C],$=2*C,W=2*E;G[$]=c[W],G[$+1]=c[W+1],F[$]=v[W],F[$+1]=v[W+1],R[$]=p[W],R[$+1]=p[W+1],j[$]=h[W],j[$+1]=h[W+1],Y[C]=f[E]}return{current:G,next:F,stackedOnCurrent:R,stackedOnNext:j,status:Y}}(this._data,t,this._stackedOnPoints,n,this._coordSys,0,this._valueOrigin),f=h.current,d=h.stackedOnCurrent,g=h.next,b=h.stackedOnNext;if(o&&(d=yt(h.stackedOnCurrent,h.current,r,o,u),f=yt(h.current,null,r,o,u),b=yt(h.stackedOnNext,h.next,r,o,u),g=yt(h.next,null,r,o,u)),rn(f,g)>3e3||v&&rn(d,b)>3e3)return c.stopAnimation(),c.setShape({points:g}),void(v&&(v.stopAnimation(),v.setShape({points:g,stackedOnPoints:b})));c.shape.__points=h.current,c.shape.points=f;var S={shape:{points:g}};h.current!==f&&(S.shape.__points=h.next),c.stopAnimation(),q.oi(c,S,p),v&&(v.setShape({points:f,stackedOnPoints:d}),v.stopAnimation(),q.oi(v,{shape:{stackedOnPoints:b}},p),c.shape.points!==v.shape.points&&(v.shape.points=c.shape.points));for(var y=[],C=h.status,x=0;x<C.length;x++)if("="===C[x].cmd){var D=t.getItemGraphicEl(C[x].idx1);D&&y.push({el:D,ptIdx:x})}c.animators&&c.animators.length&&c.animators[0].during(function(){v&&v.dirtyShape();for(var A=c.shape.__points,M=0;M<y.length;M++){var O=y[M].el,P=2*y[M].ptIdx;O.x=A[P],O.y=A[P+1],O.markRedraw()}})},e.prototype.remove=function(t){var n=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(i,o){i.__temp&&(n.remove(i),r.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(ue.A);var ns=_(4181),is=_(9688),ss=_(151),un=_(6532),Jt=_(6657);const Ee=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return(0,U.C6)(e,a),e.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,n){a.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},e.prototype._updateSelector=function(t){var n=t.selector,r=this.ecModel;!0===n&&(n=t.selector=["all","inverse"]),m.isArray(n)&&m.each(n,function(i,o){m.isString(i)&&(i={type:i}),n[o]=m.merge(i,function(a,e){return"all"===e?{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(r,i.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var n=!1,r=0;r<t.length;r++){var i=t[r].get("name");if(this.isSelected(i)){this.select(i),n=!0;break}}!n&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var n=[],r=[];t.eachRawSeries(function(u){var v;if(r.push(u.name),u.legendVisualProvider){var h=u.legendVisualProvider.getAllNames();t.isSeriesFiltered(u)||(r=r.concat(h)),h.length?n=n.concat(h):v=!0}else v=!0;v&&(0,K.O0)(u)&&n.push(u.name)}),this._availableNames=r;var i=this.get("data")||n,o=m.createHashMap(),s=m.map(i,function(u){return(m.isString(u)||m.isNumber(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new un.A(u,this,this.ecModel))},this);this._data=m.filter(s,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var n=this.option.selected;"single"===this.get("selectedMode")&&m.each(this._data,function(o){n[o.get("name")]=!1}),n[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var n=this.option.selected;m.each(this._data,function(r){n[r.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var n=this.option.selected;m.each(this._data,function(r){var i=r.get("name",!0);n.hasOwnProperty(i)||(n[i]=!0),n[i]=!n[i]})},e.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&m.indexOf(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Jt.A);var Kt=_(735);function cn(a,e){var t=Ue.QX(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),new Kt.A({shape:{x:a.x-t[3],y:a.y-t[0],width:a.width+t[1]+t[3],height:a.height+t[0]+t[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1})}var Qt=_(7218),vs=_(1965),Nt=m.curry,Be=m.each,pe=ht.A;function vn(a,e,t,n){Ye(a,e,t,n),t.dispatchAction({type:"legendToggleSelect",name:a??e}),je(a,e,t,n)}function hn(a){for(var t,e=a.getZr().storage.getDisplayList(),n=0,r=e.length;n<r&&!(t=e[n].states.emphasis);)n++;return t&&t.hoverLayer}function je(a,e,t,n){hn(t)||t.dispatchAction({type:"highlight",seriesName:a,name:e,excludeSeriesId:n})}function Ye(a,e,t,n){hn(t)||t.dispatchAction({type:"downplay",seriesName:a,name:e,excludeSeriesId:n})}const fn=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return(0,U.C6)(e,a),e.prototype.init=function(){this.group.add(this._contentGroup=new pe),this.group.add(this._selectorGroup=new pe),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,n,r){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||"auto"===o)&&(o="right"===t.get("left")&&"vertical"===s?"right":"left");var u=t.get("selector",!0),c=t.get("selectorPosition",!0);u&&(!c||"auto"===c)&&(c="horizontal"===s?"end":"start"),this.renderInner(o,t,n,r,u,s,c);var v=t.getBoxLayoutParams(),p={width:r.getWidth(),height:r.getHeight()},h=t.get("padding"),f=at.dV(v,p,h),d=this.layoutInner(t,o,f,i,u,c),g=at.dV(m.defaults({width:d.width,height:d.height},v),p,h);this.group.x=g.x-d.x,this.group.y=g.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=cn(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,n,r,i,o,s,u){var c=this.getContentGroup(),v=m.createHashMap(),p=n.get("selectedMode"),h=[];r.eachRawSeries(function(f){!f.get("legendHoverLink")&&h.push(f.id)}),Be(n.getData(),function(f,d){var g=f.get("name");if(!this.newlineDisabled&&(""===g||"\n"===g)){var b=new pe;return b.newline=!0,void c.add(b)}var S=r.getSeriesByName(g)[0];if(!v.get(g))if(S){var y=S.getData(),C=y.getVisual("legendLineStyle")||{},x=y.getVisual("legendIcon"),T=y.getVisual("style"),D=this._createItem(S,g,d,f,n,t,C,T,x,p,i);D.on("click",Nt(vn,g,null,i,h)).on("mouseover",Nt(je,S.name,null,i,h)).on("mouseout",Nt(Ye,S.name,null,i,h)),r.ssr&&D.eachChild(function(A){var M=(0,At.z)(A);M.seriesIndex=S.seriesIndex,M.dataIndex=d,M.ssrType="legend"}),v.set(g,!0)}else r.eachRawSeries(function(A){if(!v.get(g)&&A.legendVisualProvider){var M=A.legendVisualProvider;if(!M.containName(g))return;var O=M.indexOfName(g),P=M.getItemVisual(O,"style"),k=M.getItemVisual(O,"legendIcon"),w=(0,fe.parse)(P.fill);w&&0===w[3]&&(w[3]=.2,P=m.extend(m.extend({},P),{fill:(0,fe.stringify)(w,"rgba")}));var I=this._createItem(A,g,d,f,n,t,{},P,k,p,i);I.on("click",Nt(vn,null,g,i,h)).on("mouseover",Nt(je,null,g,i,h)).on("mouseout",Nt(Ye,null,g,i,h)),r.ssr&&I.eachChild(function(z){var L=(0,At.z)(z);L.seriesIndex=A.seriesIndex,L.dataIndex=d,L.ssrType="legend"}),v.set(g,!0)}},this)},this),o&&this._createSelector(o,n,i,s,u)},e.prototype._createSelector=function(t,n,r,i,o){var s=this.getSelectorGroup();Be(t,function(c){var v=c.type,p=new vt.Ay({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===v?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});s.add(p);var h=n.getModel("selectorLabel"),f=n.getModel(["emphasis","selectorLabel"]);(0,rt.qM)(p,{normal:h,emphasis:f},{defaultText:c.title}),(0,Z.iJ)(p)})},e.prototype._createItem=function(t,n,r,i,o,s,u,c,v,p,h){var f=t.visualDrawType,d=o.get("itemWidth"),g=o.get("itemHeight"),b=o.isSelected(n),S=i.get("symbolRotate"),y=i.get("symbolKeepAspect"),C=i.get("icon"),x=function fs(a,e,t,n,r,i,o){function s(b,S){"auto"===b.lineWidth&&(b.lineWidth=S.lineWidth>0?2:0),Be(b,function(y,C){"inherit"===b[C]&&(b[C]=S[C])})}var u=e.getModel("itemStyle"),c=u.getItemStyle(),v=0===a.lastIndexOf("empty",0)?"fill":"stroke",p=u.getShallow("decal");c.decal=p&&"inherit"!==p?(0,vs.w)(p,o):n.decal,"inherit"===c.fill&&(c.fill=n[r]),"inherit"===c.stroke&&(c.stroke=n[v]),"inherit"===c.opacity&&(c.opacity=("fill"===r?n:t).opacity),s(c,n);var h=e.getModel("lineStyle"),f=h.getLineStyle();if(s(f,t),"auto"===c.fill&&(c.fill=n.fill),"auto"===c.stroke&&(c.stroke=n.fill),"auto"===f.stroke&&(f.stroke=n.fill),!i){var d=e.get("inactiveBorderWidth");c.lineWidth="auto"===d?n.lineWidth>0&&c[v]?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),f.stroke=h.get("inactiveColor"),f.lineWidth=h.get("inactiveWidth")}return{itemStyle:c,lineStyle:f}}(v=C||v||"roundRect",i,u,c,f,b,h),T=new pe,D=i.getModel("textStyle");if(!m.isFunction(t.getLegendIcon)||C&&"inherit"!==C){var A="inherit"===C&&t.getData().getVisual("symbol")?"inherit"===S?t.getData().getVisual("symbolRotate"):S:0;T.add(function ps(a){var e=a.icon||"roundRect",t=(0,Rt.v5)(e,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return t.setStyle(a.itemStyle),t.rotation=(a.iconRotate||0)*Math.PI/180,t.setOrigin([a.itemWidth/2,a.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:d,itemHeight:g,icon:v,iconRotate:A,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}))}else T.add(t.getLegendIcon({itemWidth:d,itemHeight:g,icon:v,iconRotate:S,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}));var M="left"===s?d+5:-5,O=s,P=o.get("formatter"),k=n;m.isString(P)&&P?k=P.replace("{name}",n??""):m.isFunction(P)&&(k=P(n));var w=b?D.getTextColor():i.get("inactiveColor");T.add(new vt.Ay({style:(0,rt.VB)(D,{text:k,x:M,y:g/2,fill:w,align:O,verticalAlign:"middle"},{inheritColor:w})}));var I=new Kt.A({shape:T.getBoundingRect(),style:{fill:"transparent"}}),z=i.getModel("tooltip");return z.get("show")&&ft.setTooltipConfig({el:I,componentModel:o,itemName:n,itemTooltipOption:z.option}),T.add(I),T.eachChild(function(L){L.silent=!0}),I.silent=!p,this.getContentGroup().add(T),(0,Z.iJ)(T),T.__legendDataIndex=r,T},e.prototype.layoutInner=function(t,n,r,i,o,s){var u=this.getContentGroup(),c=this.getSelectorGroup();at.aP(t.get("orient"),u,t.get("itemGap"),r.width,r.height);var v=u.getBoundingRect(),p=[-v.x,-v.y];if(c.markRedraw(),u.markRedraw(),o){at.aP("horizontal",c,t.get("selectorItemGap",!0));var h=c.getBoundingRect(),f=[-h.x,-h.y],d=t.get("selectorButtonGap",!0),g=t.getOrient().index,b=0===g?"width":"height",S=0===g?"height":"width",y=0===g?"y":"x";"end"===s?f[g]+=v[b]+d:p[g]+=h[b]+d,f[1-g]+=v[S]/2-h[S]/2,c.x=f[0],c.y=f[1],u.x=p[0],u.y=p[1];var C={x:0,y:0};return C[b]=v[b]+d+h[b],C[S]=Math.max(v[S],h[S]),C[y]=Math.min(0,h[y]+f[1-g]),C}return u.x=p[0],u.y=p[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(Qt.A);function ds(a){var e=a.findComponents({mainType:"legend"});e&&e.length&&a.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function qt(a,e,t){var n="allSelect"===a||"inverseSelect"===a,r={},i=[];t.eachComponent({mainType:"legend",query:e},function(s){n?s[a]():s[a](e.name),pn(s,r),i.push(s.componentIndex)});var o={};return t.eachComponent("legend",function(s){(0,m.each)(r,function(u,c){s[u?"select":"unSelect"](c)}),pn(s,o)}),n?{selected:o,legendIndex:i}:{name:e.name,selected:o}}function pn(a,e){var t=e||{};return(0,m.each)(a.getData(),function(n){var r=n.get("name");if("\n"!==r&&""!==r){var i=a.isSelected(r);t[r]=(0,m.hasOwn)(t,r)?t[r]&&i:i}}),t}function dn(a){a.registerComponentModel(Ee),a.registerComponentView(fn),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,ds),a.registerSubTypeDefaulter("legend",function(){return"plain"}),function gs(a){a.registerAction("legendToggleSelect","legendselectchanged",(0,m.curry)(qt,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",(0,m.curry)(qt,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",(0,m.curry)(qt,"inverseSelect")),a.registerAction("legendSelect","legendselected",(0,m.curry)(qt,"select")),a.registerAction("legendUnSelect","legendunselected",(0,m.curry)(qt,"unSelect"))}(a)}var gn=_(9899);function mn(a,e,t){var r=[1,1];r[a.getOrient().index]=0,(0,at.YA)(e,t,{type:"box",ignoreSize:!!r})}const ys=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t}return(0,U.C6)(e,a),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,n,r){var i=(0,at.vs)(t);a.prototype.init.call(this,t,n,r),mn(this,t,i)},e.prototype.mergeOption=function(t,n){a.prototype.mergeOption.call(this,t,n),mn(this,this.option,t)},e.type="legend.scroll",e.defaultOption=(0,gn.G_)(Ee.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Ee);var yn=ht.A,He=["width","height"],$e=["x","y"];const bs=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return(0,U.C6)(e,a),e.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new yn),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new yn)},e.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,n,r,i,o,s,u){var c=this;a.prototype.renderInner.call(this,t,n,r,i,o,s,u);var v=this._controllerGroup,p=n.get("pageIconSize",!0),h=m.isArray(p)?p:[p,p];d("pagePrev",0);var f=n.getModel("pageTextStyle");function d(g,b){var S=g+"DataIndex",y=ft.createIcon(n.get("pageIcons",!0)[n.getOrient().name][b],{onclick:m.bind(c._pageGo,c,S,n,i)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});y.name=g,v.add(y)}v.add(new vt.Ay({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1)},e.prototype.layoutInner=function(t,n,r,i,o,s){var u=this.getSelectorGroup(),c=t.getOrient().index,v=He[c],p=$e[c],h=He[1-c],f=$e[1-c];o&&at.aP("horizontal",u,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),g=u.getBoundingRect(),b=[-g.x,-g.y],S=m.clone(r);o&&(S[v]=r[v]-g[v]-d);var y=this._layoutContentAndController(t,i,S,c,v,h,f,p);if(o){if("end"===s)b[c]+=y[v]+d;else{var C=g[v]+d;b[c]-=C,y[p]-=C}y[v]+=g[v]+d,b[1-c]+=y[f]+y[h]/2-g[h]/2,y[h]=Math.max(y[h],g[h]),y[f]=Math.min(y[f],g[f]+b[1-c]),u.x=b[0],u.y=b[1],u.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,n,r,i,o,s,u,c){var v=this.getContentGroup(),p=this._containerGroup,h=this._controllerGroup;at.aP(t.get("orient"),v,t.get("itemGap"),i?r.width:null,i?null:r.height),at.aP("horizontal",h,t.get("pageButtonItemGap",!0));var f=v.getBoundingRect(),d=h.getBoundingRect(),g=this._showController=f[o]>r[o],b=[-f.x,-f.y];n||(b[i]=v[c]);var S=[0,0],y=[-d.x,-d.y],C=m.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));g&&("end"===t.get("pageButtonPosition",!0)?y[i]+=r[o]-d[o]:S[i]+=d[o]+C),y[1-i]+=f[s]/2-d[s]/2,v.setPosition(b),p.setPosition(S),h.setPosition(y);var T={x:0,y:0};if(T[o]=g?r[o]:f[o],T[s]=Math.max(f[s],d[s]),T[u]=Math.min(0,d[u]+y[1-i]),p.__rectSize=r[o],g){var D={x:0,y:0};D[o]=Math.max(r[o]-d[o]-C,0),D[s]=T[s],p.setClipPath(new Kt.A({shape:D})),p.__rectSize=D[o]}else h.eachChild(function(M){M.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(t);return null!=A.pageIndex&&q.oi(v,{x:A.contentPosition[0],y:A.contentPosition[1]},g?t:null),this._updatePageInfoView(t,A),T},e.prototype._pageGo=function(t,n,r){var i=this._getPageInfo(n)[t];null!=i&&r.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:n.id})},e.prototype._updatePageInfoView=function(t,n){var r=this._controllerGroup;m.each(["pagePrev","pageNext"],function(v){var h=null!=n[v+"DataIndex"],f=r.childOfName(v);f&&(f.setStyle("fill",t.get(h?"pageIconColor":"pageIconInactiveColor",!0)),f.cursor=h?"pointer":"default")});var i=r.childOfName("pageText"),o=t.get("pageFormatter"),s=n.pageIndex,u=null!=s?s+1:0,c=n.pageCount;i&&o&&i.setStyle("text",m.isString(o)?o.replace("{current}",null==u?"":u+"").replace("{total}",null==c?"":c+""):o({current:u,total:c}))},e.prototype._getPageInfo=function(t){var n=t.get("scrollDataIndex",!0),r=this.getContentGroup(),i=this._containerGroup.__rectSize,o=t.getOrient().index,s=He[o],u=$e[o],c=this._findTargetItemIndex(n),v=r.children(),p=v[c],h=v.length,f=h?1:0,d={contentPosition:[r.x,r.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!p)return d;var g=x(p);d.contentPosition[o]=-g.s;for(var b=c+1,S=g,y=g,C=null;b<=h;++b)(!(C=x(v[b]))&&y.e>S.s+i||C&&!T(C,S.s))&&(S=y.i>S.i?y:C)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=S.i),++d.pageCount),y=C;for(b=c-1,S=g,y=g,C=null;b>=-1;--b)(!(C=x(v[b]))||!T(y,C.s))&&S.i<y.i&&(y=S,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=S.i),++d.pageCount,++d.pageIndex),S=C;return d;function x(D){if(D){var A=D.getBoundingRect(),M=A[u]+D[u];return{s:M,e:M+A[s],i:D.__legendDataIndex}}}function T(D,A){return D.e>=A&&D.s<=A+i}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(o,s){var u=o.__legendDataIndex;null==i&&null!=u&&(i=s),u===t&&(n=s)}),n??i):0;var n,i},e.type="legend.scroll",e}(fn);function xs(a){(0,Xt.Y)(dn),a.registerComponentModel(ys),a.registerComponentView(bs),function Cs(a){a.registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(r){r.setScrollDataIndex(n)})})}(a)}var Sn=_(8372),bn=_(8128),Cn=_(3748);function de(a){(0,K.M5)(a,"label",["show"])}var ge=(0,K.$r)(),xn=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return(0,U.C6)(e,a),e.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Sn.A.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,n){this._mergeOption(t,n,!1,!1)},e.prototype._mergeOption=function(t,n,r,i){var o=this.mainType;r||n.eachSeries(function(s){var u=s.get(this.mainType,!0),c=ge(s)[o];u&&u.data?(c?c._mergeOption(u,n,!0):(i&&de(u),m.each(u.data,function(v){v instanceof Array?(de(v[0]),de(v[1])):de(v)}),c=this.createMarkerModelFromSeries(u,this,n),m.extend(c,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),c.__hostSeries=s),ge(s)[o]=c):ge(s)[o]=null},this)},e.prototype.formatTooltip=function(t,n,r){var i=this.getData(),o=this.getRawValue(t),s=i.getName(t);return(0,Cn.Qx)("section",{header:this.name,blocks:[(0,Cn.Qx)("nameValue",{name:s,value:o,noName:!s,noValue:null==o})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,n){var r=bn.J.prototype.getDataParams.call(this,t,n),i=this.__hostSeries;return i&&(r.seriesId=i.id,r.seriesName=i.name,r.seriesType=i.subType),r},e.getMarkerModelFromSeries=function(t,n){return ge(t)[n]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(Jt.A);m.mixin(xn,bn.J.prototype);const me=xn,_s=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t}return(0,U.C6)(e,a),e.prototype.createMarkerModelFromSeries=function(t,n,r){return new e(t,n,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(me);var Tn=_(5048);function ye(a,e,t,n,r,i){var o=[],u=(0,Zt.sJ)(e,n)?e.getCalculationInfo("stackResultDimension"):n,c=An(e,u,a),v=e.indicesOfNearest(u,c)[0];o[r]=e.get(t,v),o[i]=e.get(u,v);var p=e.get(n,v),h=X.XV(e.get(n,v));return(h=Math.min(h,20))>=0&&(o[i]=+o[i].toFixed(h)),[o,p]}var Ze={min:(0,m.curry)(ye,"min"),max:(0,m.curry)(ye,"max"),average:(0,m.curry)(ye,"average"),median:(0,m.curry)(ye,"median")};function Ps(a,e){if(e){var t=a.getData(),n=a.coordinateSystem,r=n&&n.dimensions;if(!function Ms(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}(e)&&!(0,m.isArray)(e.coord)&&(0,m.isArray)(r)){var i=function Os(a,e,t,n){var r={};return null!=a.valueIndex||null!=a.valueDim?(r.valueDataDim=null!=a.valueIndex?e.getDimension(a.valueIndex):a.valueDim,r.valueAxis=t.getAxis(function Is(a,e){var t=a.getData().getDimensionInfo(e);return t&&t.coordDim}(n,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=n.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}(e,t,n,a);if((e=(0,m.clone)(e)).type&&Ze[e.type]&&i.baseAxis&&i.valueAxis){var o=(0,m.indexOf)(r,i.baseAxis.dim),s=(0,m.indexOf)(r,i.valueAxis.dim),u=Ze[e.type](t,i.baseDataDim,i.valueDataDim,o,s);e.coord=u[0],e.value=u[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null!=e.coord&&(0,m.isArray)(r))for(var c=e.coord,v=0;v<2;v++)Ze[c[v]]&&(c[v]=An(t,t.mapDimension(r[v]),c[v]));else e.coord=[];return e}}function ws(a,e){return!(a&&a.containData&&e.coord&&!function Xe(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}(e))||a.containData(e.coord)}function An(a,e,t){if("average"===t){var n=0,r=0;return a.each(e,function(i,o){isNaN(i)||(n+=i,r++)}),n/r}return"median"===t?a.getMedian(e):a.getDataExtent(e)["max"===t?1:0]}var We=(0,K.$r)();const Ls=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t}return(0,U.C6)(e,a),e.prototype.init=function(){this.markerGroupMap=(0,m.createHashMap)()},e.prototype.render=function(t,n,r){var i=this,o=this.markerGroupMap;o.each(function(s){We(s).keep=!1}),n.eachSeries(function(s){var u=me.getMarkerModelFromSeries(s,i.type);u&&i.renderSeries(s,u,n,r)}),o.each(function(s){!We(s).keep&&i.group.remove(s.group)})},e.prototype.markKeep=function(t){We(t).keep=!0},e.prototype.toggleBlurSeries=function(t,n){var r=this;(0,m.each)(t,function(i){var o=me.getMarkerModelFromSeries(i,r.type);o&&o.getData().eachItemGraphicEl(function(u){u&&(n?(0,Z.QX)(u):(0,Z.JC)(u))})})},e.type="marker",e}(Qt.A);var Ns=_(7946);function Dn(a,e,t){var n=e.coordinateSystem;a.each(function(r){var o,i=a.getItemModel(r),s=X.lo(i.get("x"),t.getWidth()),u=X.lo(i.get("y"),t.getHeight());if(isNaN(s)||isNaN(u)){if(e.getMarkerPosition)o=e.getMarkerPosition(a.getValues(a.dimensions,r));else if(n){var c=a.get(n.dimensions[0],r),v=a.get(n.dimensions[1],r);o=n.dataToPoint([c,v])}}else o=[s,u];isNaN(s)||(o[0]=s),isNaN(u)||(o[1]=u),a.setItemLayout(r,o)})}const Fs=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t}return(0,U.C6)(e,a),e.prototype.updateTransform=function(t,n,r){n.eachSeries(function(i){var o=me.getMarkerModelFromSeries(i,"markPoint");o&&(Dn(o.getData(),i,r),this.markerGroupMap.get(i.id).updateLayout())},this)},e.prototype.renderSeries=function(t,n,r,i){var o=t.coordinateSystem,s=t.id,u=t.getData(),c=this.markerGroupMap,v=c.get(s)||c.set(s,new Ka),p=function Vs(a,e,t){var n;n=a?(0,m.map)(a&&a.dimensions,function(s){var u=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return(0,m.extend)((0,m.extend)({},u),{name:s,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new Xa.A(n,t),i=(0,m.map)(t.get("data"),(0,m.curry)(Ps,e));a&&(i=(0,m.filter)(i,(0,m.curry)(ws,a)));var o=function ks(a,e){return a?function(t,n,r,i){return(0,Tn.Pn)(i<2?t.coord&&t.coord[i]:t.value,e[i])}:function(t,n,r,i){return(0,Tn.Pn)(t.value,e[i])}}(!!a,n);return r.initData(i,null,o),r}(o,t,n);n.setData(p),Dn(n.getData(),t,i),p.each(function(h){var f=p.getItemModel(h),d=f.getShallow("symbol"),g=f.getShallow("symbolSize"),b=f.getShallow("symbolRotate"),S=f.getShallow("symbolOffset"),y=f.getShallow("symbolKeepAspect");if((0,m.isFunction)(d)||(0,m.isFunction)(g)||(0,m.isFunction)(b)||(0,m.isFunction)(S)){var C=n.getRawValue(h),x=n.getDataParams(h);(0,m.isFunction)(d)&&(d=d(C,x)),(0,m.isFunction)(g)&&(g=g(C,x)),(0,m.isFunction)(b)&&(b=b(C,x)),(0,m.isFunction)(S)&&(S=S(C,x))}var T=f.getModel("itemStyle").getItemStyle(),D=(0,Ns.rI)(u,"color");T.fill||(T.fill=D),p.setItemVisual(h,{symbol:d,symbolSize:g,symbolRotate:b,symbolOffset:S,symbolKeepAspect:y,style:T})}),v.updateData(p),this.group.add(v.group),p.eachItemGraphicEl(function(h){h.traverse(function(f){(0,At.z)(f).dataModel=n})}),this.markKeep(v),v.group.silent=n.get("silent")||t.get("silent")},e.type="markPoint",e}(Ls);var Gs=_(4838),Es=_(9881),Je=_(2429),Bs=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="dataset",t}return(0,U.C6)(e,a),e.prototype.init=function(t,n,r){a.prototype.init.call(this,t,n,r),this._sourceManager=new Je.R(this),(0,Je.A)(this)},e.prototype.mergeOption=function(t,n){a.prototype.mergeOption.call(this,t,n),(0,Je.A)(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Es.i_},e}(Jt.A),js=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type="dataset",t}return(0,U.C6)(e,a),e.type="dataset",e}(Qt.A),_n=["x","y","radius","angle","single"],Hs=["cartesian2d","polar","singleAxis"];function _t(a){return a+"Axis"}var Ke=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},a}();function Mn(a){var e={};return(0,m.each)(["start","end","startValue","endValue","throttle"],function(t){a.hasOwnProperty(t)&&(e[t]=a[t])}),e}const Js=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t}return(0,U.C6)(e,a),e.type="dataZoom.select",e}(function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return(0,U.C6)(e,a),e.prototype.init=function(t,n,r){var i=Mn(t);this.settledOption=i,this.mergeDefaultAndTheme(t,r),this._doInit(i)},e.prototype.mergeOption=function(t){var n=Mn(t);(0,m.merge)(this.option,t,!0),(0,m.merge)(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(t){var n=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;(0,m.each)([["start","startValue"],["end","endValue"]],function(i,o){"value"===this._rangePropMode[o]&&(n[i[0]]=r[i[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),n=this._targetAxisInfoMap=(0,m.createHashMap)();this._fillSpecifiedTargetAxis(n)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var n=!1;return(0,m.each)(_n,function(r){var i=this.getReferringComponents(_t(r),K.UW);if(i.specified){n=!0;var o=new Ke;(0,m.each)(i.models,function(s){o.add(s.componentIndex)}),t.set(r,o)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(t,n){var r=this.ecModel,i=!0;if(i){var o="vertical"===n?"y":"x";u(r.findComponents({mainType:o+"Axis"}),o)}function u(c,v){var p=c[0];if(p){var h=new Ke;if(h.add(p.componentIndex),t.set(v,h),i=!1,"x"===v||"y"===v){var f=p.getReferringComponents("grid",K.US).models[0];f&&(0,m.each)(c,function(d){p.componentIndex!==d.componentIndex&&f===d.getReferringComponents("grid",K.US).models[0]&&h.add(d.componentIndex)})}}}i&&u(r.findComponents({mainType:"singleAxis",filter:function(v){return v.get("orient",!0)===n}}),"single"),i&&(0,m.each)(_n,function(c){if(i){var v=r.findComponents({mainType:_t(c),filter:function(h){return"category"===h.get("type",!0)}});if(v[0]){var p=new Ke;p.add(v[0].componentIndex),t.set(c,p),i=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(n){!t&&(t=n)},this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var n=this._rangePropMode,r=this.get("rangeMode");(0,m.each)([["start","startValue"],["end","endValue"]],function(i,o){var s=null!=t[i[0]],u=null!=t[i[1]];s&&!u?n[o]="percent":!s&&u?n[o]="value":r?n[o]=r[o]:s&&(n[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(n,r){null==t&&(t=this.ecModel.getComponent(_t(n),r))},this),t},e.prototype.eachTargetAxis=function(t,n){this._targetAxisInfoMap.each(function(r,i){(0,m.each)(r.indexList,function(o){t.call(n,i,o)})})},e.prototype.getAxisProxy=function(t,n){var r=this.getAxisModel(t,n);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,n){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[n])return this.ecModel.getComponent(_t(t),n)},e.prototype.setRawRange=function(t){var n=this.option,r=this.settledOption;(0,m.each)([["start","startValue"],["end","endValue"]],function(i){(null!=t[i[0]]||null!=t[i[1]])&&(n[i[0]]=r[i[0]]=t[i[0]],n[i[1]]=r[i[1]]=t[i[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var n=this.option;(0,m.each)(["start","startValue","end","endValue"],function(r){n[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,n){if(null!=t||null!=n)return this.getAxisProxy(t,n).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var n,r=this._targetAxisInfoMap.keys(),i=0;i<r.length;i++)for(var o=r[i],s=this._targetAxisInfoMap.get(o),u=0;u<s.indexList.length;u++){var c=this.getAxisProxy(o,s.indexList[u]);if(c.hostedBy(this))return c;n||(n=c)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Jt.A)),qs=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t}return(0,U.C6)(e,a),e.type="dataZoom.select",e}(function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t}return(0,U.C6)(e,a),e.prototype.render=function(t,n,r,i){this.dataZoomModel=t,this.ecModel=n,this.api=r},e.type="dataZoom",e}(Qt.A));function Pn(a,e,t,n,r,i){a=a||0;var o=t[1]-t[0];if(null!=r&&(r=zt(r,[0,o])),null!=i&&(i=Math.max(i,r??0)),"all"===n){var s=Math.abs(e[1]-e[0]);s=zt(s,[0,o]),r=i=zt(s,[r,i]),n=0}e[0]=zt(e[0],t),e[1]=zt(e[1],t);var u=Qe(e,n);e[n]+=a;var p,c=r||0,v=t.slice();return u.sign<0?v[0]+=c:v[1]-=c,e[n]=zt(e[n],v),p=Qe(e,n),null!=r&&(p.sign!==u.sign||p.span<r)&&(e[1-n]=e[n]+u.sign*r),p=Qe(e,n),null!=i&&p.span>i&&(e[1-n]=e[n]+p.sign*i),e}function Qe(a,e){var t=a[e]-a[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function zt(a,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,a))}var tl=_(4110),el=_(4389),Vt=m.each,On=X.Y6;const rl=function(){function a(e,t,n,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=n}return a.prototype.hostedBy=function(e){return this._dataZoomModel===e},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(function $s(a){var e=a.get("coordinateSystem");return(0,m.indexOf)(Hs,e)>=0}(t)){var n=_t(this._dimName),r=t.getReferringComponents(n,K.US).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return m.clone(this._minMaxSpan)},a.prototype.calculateDataWindow=function(e){var c,t=this._dataExtent,r=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],u=[];Vt(["start","end"],function(h,f){var d=e[h],g=e[h+"Value"];"percent"===i[f]?(null==d&&(d=o[f]),g=r.parse(X.Cb(d,o,t))):(c=!0,g=null==g?t[f]:r.parse(g),d=X.Cb(g,t,o)),u[f]=null==g||isNaN(g)?t[f]:g,s[f]=null==d||isNaN(d)?o[f]:d}),On(u),On(s);var v=this._minMaxSpan;function p(h,f,d,g,b){var S=b?"Span":"ValueSpan";Pn(0,h,d,"all",v["min"+S],v["max"+S]);for(var y=0;y<2;y++)f[y]=X.Cb(h[y],d,g,!0),b&&(f[y]=r.parse(f[y]))}return c?p(u,s,t,o,!1):p(s,u,o,t,!0),{valueWindow:u,percentWindow:s}},a.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function nl(a,e,t){var n=[1/0,-1/0];Vt(t,function(o){(0,tl.PN)(n,o.getData(),e)});var r=a.getAxisModel(),i=(0,el.Tc)(r.axis.scale,r,n).calculate();return[i.min,i.max]}(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=e.get("filterMode"),o=this._valueWindow;"none"!==i&&Vt(r,function(u){var c=u.getData(),v=c.mapDimensionsAll(n);if(v.length){if("weakFilter"===i){var p=c.getStore(),h=m.map(v,function(f){return c.getDimensionIndex(f)},c);c.filterSelf(function(f){for(var d,g,b,S=0;S<v.length;S++){var y=p.get(h[S],f),C=!isNaN(y),x=y<o[0],T=y>o[1];if(C&&!x&&!T)return!0;C&&(b=!0),x&&(d=!0),T&&(g=!0)}return b&&d&&g})}else Vt(v,function(f){if("empty"===i)u.setData(c=c.map(f,function(g){return function s(u){return u>=o[0]&&u<=o[1]}(g)?g:NaN}));else{var d={};d[f]=o,c.selectRange(d)}});Vt(v,function(f){c.setApproximateExtent(o,f)})}})}},a.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;Vt(["min","max"],function(r){var i=t.get(r+"Span"),o=t.get(r+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?i=X.Cb(n[0]+o,n,[0,100],!0):null!=i&&(o=X.Cb(i,[0,100],n,!0)-n[0]),e[r+"Span"]=i,e[r+"ValueSpan"]=o},this)},a.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var r=X.hb(n,[0,500]);r=Math.min(r,20);var i=e.axis.scale.rawExtentInfo;0!==t[0]&&i.setDeterminedMinMax("min",+n[0].toFixed(r)),100!==t[1]&&i.setDeterminedMinMax("max",+n[1].toFixed(r)),i.freeze()}},a}(),ol={getTargetSeries:function(a){function e(r){a.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var u=a.getComponent(_t(o),s);r(o,s,u,i)})})}e(function(r,i,o,s){o.__dzAxisProxy=null});var t=[];e(function(r,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new rl(r,i,s,a),t.push(o.__dzAxisProxy))});var n=(0,m.createHashMap)();return(0,m.each)(t,function(r){(0,m.each)(r.getTargetSeriesModels(),function(i){n.set(i.uid,i)})}),n},overallReset:function(a,e){a.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(n,r){t.getAxisProxy(n,r).reset(t)}),t.eachTargetAxis(function(n,r){t.getAxisProxy(n,r).filterData(t,e)})}),a.eachComponent("dataZoom",function(t){var n=t.findRepresentativeAxisProxy();if(n){var r=n.getDataPercentWindow(),i=n.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:i[0],endValue:i[1]})}})}};var In=!1;function ll(a){In||(In=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,ol),function sl(a){a.registerAction("dataZoom",function(e,t){var n=function Xs(a,e){var i,t=(0,m.createHashMap)(),n=[],r=(0,m.createHashMap)();a.eachComponent({mainType:"dataZoom",query:e},function(v){r.get(v.uid)||s(v)});do{i=!1,a.eachComponent("dataZoom",o)}while(i);function o(v){!r.get(v.uid)&&function u(v){var p=!1;return v.eachTargetAxis(function(h,f){var d=t.get(h);d&&d[f]&&(p=!0)}),p}(v)&&(s(v),i=!0)}function s(v){r.set(v.uid,!0),n.push(v),function c(v){v.eachTargetAxis(function(p,h){(t.get(p)||t.set(p,[]))[h]=!0})}(v)}return n}(t,e);(0,m.each)(n,function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function ul(a){a.registerComponentModel(Js),a.registerComponentView(qs),ll(a)}var it=function(){return function a(){}}(),wn={};function te(a,e){wn[a]=e}function kn(a){return wn[a]}const vl=function(a){function e(){var t=null!==a&&a.apply(this,arguments)||this;return t.type=e.type,t}return(0,U.C6)(e,a),e.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;m.each(this.option.feature,function(n,r){var i=kn(r);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(t)),m.merge(n,i.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Jt.A);var Rn=_(7929),Ln=_(8310);const pl=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return(0,U.C6)(e,a),e.prototype.render=function(t,n,r,i){var o=this.group;if(o.removeAll(),t.get("show")){var s=+t.get("itemSize"),u="vertical"===t.get("orient"),c=t.get("feature")||{},v=this._features||(this._features={}),p=[];m.each(c,function(d,g){p.push(g)}),new Ln.A(this._featureNames||[],p).add(h).update(h).remove(m.curry(h,null)).execute(),this._featureNames=p,function cs(a,e,t){var n=e.getBoxLayoutParams(),r=e.get("padding"),i={width:t.getWidth(),height:t.getHeight()},o=(0,at.dV)(n,i,r);(0,at.aP)(e.get("orient"),a,e.get("itemGap"),o.width,o.height),(0,at.m$)(a,n,i,r)}(o,t,r),o.add(cn(o.getBoundingRect(),t)),u||o.eachChild(function(d){var g=d.__title,b=d.ensureState("emphasis"),S=b.textConfig||(b.textConfig={}),y=d.getTextContent(),C=y&&y.ensureState("emphasis");if(C&&!m.isFunction(C)&&g){var x=C.style||(C.style={}),T=Rn.NO(g,vt.Ay.makeFont(x)),D=d.x+o.x,M=!1;d.y+o.y+s+T.height>r.getHeight()&&(S.position="top",M=!0);var O=M?-5-T.height:s+10;D+T.width/2>r.getWidth()?(S.position=["100%",O],x.align="right"):D-T.width/2<0&&(S.position=[0,O],x.align="left")}})}function h(d,g){var x,b=p[d],S=p[g],y=c[b],C=new un.A(y,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===b&&(y.title=i.newTitle),b&&!S){if(function fl(a){return 0===a.indexOf("my")}(b))x={onclick:C.option.onclick,featureName:b};else{var T=kn(b);if(!T)return;x=new T}v[b]=x}else if(!(x=v[S]))return;x.uid=(0,gn.$Q)("toolbox-feature"),x.model=C,x.ecModel=n,x.api=r;var D=x instanceof it;b||!S?!C.get("show")||D&&x.unusable?D&&x.remove&&x.remove(n,r):(function f(d,g,b){var T,D,S=d.getModel("iconStyle"),y=d.getModel(["emphasis","iconStyle"]),C=g instanceof it&&g.getIcons?g.getIcons():d.get("icon"),x=d.get("title")||{};m.isString(C)?(T={})[b]=C:T=C,m.isString(x)?(D={})[b]=x:D=x;var A=d.iconPaths={};m.each(T,function(M,O){var P=ft.createIcon(M,{},{x:-s/2,y:-s/2,width:s,height:s});P.setStyle(S.getItemStyle()),P.ensureState("emphasis").style=y.getItemStyle();var w=new vt.Ay({style:{text:D[O],align:y.get("textAlign"),borderRadius:y.get("textBorderRadius"),padding:y.get("textPadding"),fill:null,font:(0,rt.c8)({fontStyle:y.get("textFontStyle"),fontFamily:y.get("textFontFamily"),fontSize:y.get("textFontSize"),fontWeight:y.get("textFontWeight")},n)},ignore:!0});P.setTextContent(w),ft.setTooltipConfig({el:P,componentModel:t,itemName:O,formatterParamsExtra:{title:D[O]}}),P.__title=D[O],P.on("mouseover",function(){var I=y.getItemStyle(),z=u?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";w.setStyle({fill:y.get("textFill")||I.fill||I.stroke||"#000",backgroundColor:y.get("textBackgroundColor")}),P.setTextConfig({position:y.get("textPosition")||z}),w.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==d.get(["iconStatus",O])&&r.leaveEmphasis(this),w.hide()}),("emphasis"===d.get(["iconStatus",O])?Z.HY:Z.SD)(P),o.add(P),P.on("click",m.bind(g.onclick,g,n,r,O)),A[O]=P})}(C,x,b),C.setIconStatus=function(A,M){var O=this.option,P=this.iconPaths;O.iconStatus=O.iconStatus||{},O.iconStatus[A]=M,P[A]&&("emphasis"===M?Z.HY:Z.SD)(P[A])},x instanceof it&&x.render&&x.render(C,n,r,i)):D&&x.dispose&&x.dispose(n,r)}},e.prototype.updateView=function(t,n,r,i){m.each(this._features,function(o){o instanceof it&&o.updateView&&o.updateView(o.model,n,r,i)})},e.prototype.remove=function(t,n){m.each(this._features,function(r){r instanceof it&&r.remove&&r.remove(t,n)}),this.group.removeAll()},e.prototype.dispose=function(t,n){m.each(this._features,function(r){r instanceof it&&r.dispose&&r.dispose(t,n)})},e.type="toolbox",e}(Qt.A),gl=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return(0,U.C6)(e,a),e.prototype.onclick=function(t,n){var r=this.model,i=r.get("name")||t.get("title.0.text")||"echarts",o="svg"===n.getZr().painter.getType(),s=o?"svg":r.get("type",!0)||"png",u=n.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),c=Sn.A.browser;if("function"!=typeof MouseEvent||!c.newEdge&&(c.ie||c.edge))if(window.navigator.msSaveOrOpenBlob||o){var h=u.split(","),f=h[0].indexOf("base64")>-1,d=o?decodeURIComponent(h[1]):h[1];f&&(d=window.atob(d));var g=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var b=d.length,S=new Uint8Array(b);b--;)S[b]=d.charCodeAt(b);var y=new Blob([S]);window.navigator.msSaveOrOpenBlob(y,g)}else{var C=document.createElement("iframe");document.body.appendChild(C);var x=C.contentWindow,T=x.document;T.open("image/svg+xml","replace"),T.write(d),T.close(),x.focus(),T.execCommand("SaveAs",!0,g),document.body.removeChild(C)}}else{var D=r.get("lang"),A='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(D&&D[0]||"")+'" /></body>',M=window.open();M.document.write(A),M.document.title=i}else{var v=document.createElement("a");v.download=i+"."+s,v.target="_blank",v.href=u;var p=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});v.dispatchEvent(p)}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(it);var Se=_(5080),Nn="__ec_magicType_stack__",ml=[["line","bar"],["stack"]],yl=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return(0,U.C6)(e,a),e.prototype.getIcons=function(){var t=this.model,n=t.get("icon"),r={};return m.each(t.get("type"),function(i){n[i]&&(r[i]=n[i])}),r},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,n,r){var i=this.model,o=i.get(["seriesIndex",r]);if(zn[r]){var s={series:[]};m.each(ml,function(p){m.indexOf(p,r)>=0&&m.each(p,function(h){i.setIconStatus(h,"normal")})}),i.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},function(p){var d=zn[r](p.subType,p.id,p,i);d&&(m.defaults(d,p.option),s.series.push(d));var g=p.coordinateSystem;if(g&&"cartesian2d"===g.type&&("line"===r||"bar"===r)){var b=g.getAxesByScale("ordinal")[0];if(b){var y=b.dim+"Axis",x=p.getReferringComponents(y,K.US).models[0].componentIndex;s[y]=s[y]||[];for(var T=0;T<=x;T++)s[y][x]=s[y][x]||{};s[y][x].boundaryGap="bar"===r}}});var c,v=r;"stack"===r&&(c=m.merge({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",r])&&(v="tiled")),n.dispatchAction({type:"changeMagicType",currentType:v,newOption:s,newTitle:c,featureName:"magicType"})}},e}(it),zn={line:function(a,e,t,n){if("bar"===a)return m.merge({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(a,e,t,n){if("line"===a)return m.merge({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(a,e,t,n){var r=t.get("stack")===Nn;if("line"===a||"bar"===a)return n.setIconStatus("stack",r?"normal":"emphasis"),m.merge({id:e,stack:r?"":Nn},n.get(["option","stack"])||{},!0)}};Se.OH({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,e){e.mergeOption(a.newOption)});const Sl=yl;var Vn=_(6687),be=new Array(60).join("-");function Cl(a){var e=[];return m.each(a,function(t,n){var r=t.categoryAxis,o=t.valueAxis.dim,s=[" "].concat(m.map(t.series,function(f){return f.name})),u=[r.model.getCategories()];m.each(t.series,function(f){var d=f.getRawData();u.push(f.getRawData().mapArray(d.mapDimension(o),function(g){return g}))});for(var c=[s.join("\t")],v=0;v<u[0].length;v++){for(var p=[],h=0;h<u.length;h++)p.push(u[h][v]);c.push(p.join("\t"))}e.push(c.join("\n"))}),e.join("\n\n"+be+"\n\n")}function xl(a){return m.map(a,function(e){var t=e.getRawData(),n=[e.name],r=[];return t.each(t.dimensions,function(){for(var i=arguments.length,s=t.getName(arguments[i-1]),u=0;u<i-1;u++)r[u]=arguments[u];n.push((s?s+"\t":"")+r.join("\t"))}),n.join("\n")}).join("\n\n"+be+"\n\n")}function Ce(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var qe=new RegExp("[\t]+","g");var Pl=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return(0,U.C6)(e,a),e.prototype.onclick=function(t,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var r=n.getDom(),i=this.model;this._dom&&r.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=i.get("lang")||[];s.innerHTML=u[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var c=document.createElement("div"),v=document.createElement("textarea");c.style.cssText="overflow:auto";var p=i.get("optionToContent"),h=i.get("contentToOption"),f=function Tl(a){var e=function bl(a){var e={},t=[],n=[];return a.eachRawSeries(function(r){var i=r.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)t.push(r);else{var o=i.getBaseAxis();if("category"===o.type){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(r)}else t.push(r)}}),{seriesGroupByCategoryAxis:e,other:t,meta:n}}(a);return{value:m.filter([Cl(e.seriesGroupByCategoryAxis),xl(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+be+"\n\n"),meta:e.meta}}(t);if(m.isFunction(p)){var d=p(n.getOption());m.isString(d)?c.innerHTML=d:m.isDom(d)&&c.appendChild(d)}else{v.readOnly=i.get("readOnly");var g=v.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=i.get("textColor"),g.borderColor=i.get("textareaBorderColor"),g.backgroundColor=i.get("textareaColor"),v.value=f.value,c.appendChild(v)}var b=f.meta,S=document.createElement("div");S.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",C=document.createElement("div"),x=document.createElement("div");y+=";background-color:"+i.get("buttonColor"),y+=";color:"+i.get("buttonTextColor");var T=this;function D(){r.removeChild(o),T._dom=null}(0,Vn.q2)(C,"click",D),(0,Vn.q2)(x,"click",function(){if(null==h&&null!=p||null!=h&&null==p)D();else{var A;try{A=m.isFunction(h)?h(c,n.getOption()):function Ml(a,e){var t=a.split(new RegExp("\n*"+be+"\n*","g")),n={series:[]};return m.each(t,function(r,i){if(function Al(a){if(a.slice(0,a.indexOf("\n")).indexOf("\t")>=0)return!0}(r)){var o=function Dl(a){for(var e=a.split(/\n+/g),t=Ce(e.shift()).split(qe),n=[],r=m.map(t,function(u){return{name:u,data:[]}}),i=0;i<e.length;i++){var o=Ce(e[i]).split(qe);n.push(o.shift());for(var s=0;s<o.length;s++)r[s]&&(r[s].data[i]=o[s])}return{series:r,categories:n}}(r),s=e[i],u=s.axisDim+"Axis";s&&(n[u]=n[u]||[],n[u][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else o=function _l(a){for(var e=a.split(/\n+/g),t=Ce(e.shift()),n=[],r=0;r<e.length;r++){var i=Ce(e[r]);if(i){var o=i.split(qe),s="",u=void 0,c=!1;isNaN(o[0])?(c=!0,s=o[0],o=o.slice(1),n[r]={name:s,value:[]},u=n[r].value):u=n[r]=[];for(var v=0;v<o.length;v++)u.push(+o[v]);1===u.length&&(c?n[r].value=u[0]:n[r]=u[0])}}return{name:t,data:n}}(r),n.series.push(o)}),n}(v.value,b)}catch(M){throw D(),new Error("Data view format error "+M)}A&&n.dispatchAction({type:"changeDataView",newOption:A}),D()}}),C.innerHTML=u[1],x.innerHTML=u[2],x.style.cssText=C.style.cssText=y,!i.get("readOnly")&&S.appendChild(x),S.appendChild(C),o.appendChild(s),o.appendChild(c),o.appendChild(S),c.style.height=r.clientHeight-80+"px",r.appendChild(o),this._dom=o},e.prototype.remove=function(t,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(it);function Ol(a,e){return m.map(a,function(t,n){var r=e&&e[n];if(m.isObject(r)&&!m.isArray(r)){m.isObject(t)&&!m.isArray(t)||(t={value:t});var o=null!=r.name&&null==t.name;return t=m.defaults(t,r),o&&delete t.name,t}return t})}Se.OH({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,e){var t=[];m.each(a.newOption.series,function(n){var r=e.getSeriesByName(n.name)[0];if(r){var i=r.get("data");t.push({name:n.name,data:Ol(n.data,i)})}else t.push(m.extend({type:"scatter"},n))}),e.mergeOption(m.defaults({series:t},a.newOption))});const Il=Pl;var Fn=m.each,Un=(0,K.$r)();function ta(a){var e=Un(a);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Nl=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return(0,U.C6)(e,a),e.prototype.onclick=function(t,n){(function Rl(a){Un(a).snapshots=null})(t),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(it);Se.OH({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,e){e.resetOption("recreate")});const zl=Nl;var Vl=_(2928),Fl=_(8612),Gn="\0_ec_interaction_mutex";function ea(a){return a[Gn]||(a[Gn]={})}Se.OH({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},m.noop);var Mt=!0,ee=Math.min,Ut=Math.max,El=Math.pow,En="globalPan",Hl={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},$l={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Bn={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Xl=0,Zl=function(a){function e(t){var n=a.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new ht.A,n._uid="brushController_"+Xl++,(0,m.each)(eu,function(r,i){this._handlers[i]=(0,m.bind)(r,this)},n),n}return(0,U.C6)(e,a),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var n=this._zr;this._enableGlobalPan||function Ul(a,e,t){ea(a)[e]=t}(n,En,this._uid),(0,m.each)(this._handlers,function(r,i){n.on(i,r)}),this._brushType=t.brushType,this._brushOption=(0,m.merge)((0,m.clone)(Bn),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;(function Gl(a,e,t){var n=ea(a);n[e]===t&&(n[e]=null)})(t,En,this._uid),(0,m.each)(this._handlers,function(n,r){t.off(r,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var n=this._panels={};(0,m.each)(t,function(r){n[r.panelId]=(0,m.clone)(r)})}else this._panels=null;return this},e.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=(0,m.map)(t,function(h){return(0,m.merge)((0,m.clone)(Bn),h,!0)});var r=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new Ln.A(r,t,function c(h,f){return u(h.__brushOption,f)},u).add(v).update(v).remove(function p(h){r[h]!==s&&o.group.remove(r[h])}).execute(),this;function u(h,f){return(null!=h.id?h.id:"\0-brush-index-"+f)+"-"+h.brushType}function v(h,f){var d=t[h];if(null!=f&&r[f]===s)i[h]=r[f];else{var g=i[h]=null!=f?(r[f].__brushOption=d,r[f]):Yn(o,jn(o,d));aa(o,g)}}},e.prototype.unmount=function(){return this.enableBrush(!1),ia(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Vl.A);function jn(a,e){var t=xe[e.brushType].createCover(a,e);return t.__brushOption=e,$n(t,e),a.group.add(t),t}function Yn(a,e){var t=na(e);return t.endCreating&&(t.endCreating(a,e),$n(e,e.__brushOption)),e}function Hn(a,e){var t=e.__brushOption;na(e).updateCoverShape(a,e,t.range,t)}function $n(a,e){var t=e.z;null==t&&(t=1e4),a.traverse(function(n){n.z=t,n.z2=t})}function aa(a,e){na(e).updateCommon(a,e),Hn(a,e)}function na(a){return xe[a.__brushOption.brushType]}function ra(a,e,t){var n=a._panels;if(!n)return Mt;var r,i=a._transform;return(0,m.each)(n,function(o){o.isTargetByCursor(e,t,i)&&(r=o)}),r}function Xn(a,e){var t=a._panels;if(!t)return Mt;var n=e.__brushOption.panelId;return null!=n?t[n]:Mt}function ia(a){var e=a._covers,t=e.length;return(0,m.each)(e,function(n){a.group.remove(n)},a),e.length=0,!!t}function Pt(a,e){var t=(0,m.map)(a._covers,function(n){var r=n.__brushOption,i=(0,m.clone)(r.range);return{brushType:r.brushType,panelId:r.panelId,range:i}});a.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Zn(a){var e=a.length-1;return e<0&&(e=0),[a[0],a[e]]}function Wn(a,e,t,n){var r=new ht.A;return r.add(new Kt.A({name:"main",style:sa(t),silent:!0,draggable:!0,cursor:"move",drift:(0,m.curry)(Qn,a,e,r,["n","s","w","e"]),ondragend:(0,m.curry)(Pt,e,{isEnd:!0})})),(0,m.each)(n,function(i){r.add(new Kt.A({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,m.curry)(Qn,a,e,r,i),ondragend:(0,m.curry)(Pt,e,{isEnd:!0})}))}),r}function Jn(a,e,t,n){var r=n.brushStyle.lineWidth||0,i=Ut(r,6),o=t[0][0],s=t[1][0],u=o-r/2,c=s-r/2,v=t[0][1],p=t[1][1],h=v-i+r/2,f=p-i+r/2,d=v-o,g=p-s,b=d+r,S=g+r;pt(a,e,"main",o,s,d,g),n.transformable&&(pt(a,e,"w",u,c,i,S),pt(a,e,"e",h,c,i,S),pt(a,e,"n",u,c,b,i),pt(a,e,"s",u,f,b,i),pt(a,e,"nw",u,c,i,i),pt(a,e,"ne",h,c,i,i),pt(a,e,"sw",u,f,i,i),pt(a,e,"se",h,f,i,i))}function oa(a,e){var t=e.__brushOption,n=t.transformable,r=e.childAt(0);r.useStyle(sa(t)),r.attr({silent:!n,cursor:n?"move":"default"}),(0,m.each)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=e.childOfName(i.join("")),s=1===i.length?la(a,i[0]):function Kl(a,e){var t=[la(a,e[0]),la(a,e[1])];return("e"===t[0]||"w"===t[0])&&t.reverse(),t.join("")}(a,i);o&&o.attr({silent:!n,invisible:!n,cursor:n?$l[s]+"-resize":null})})}function pt(a,e,t,n,r,i,o){var s=e.childOfName(t);s&&s.setShape(function ql(a){var e=ee(a[0][0],a[1][0]),t=ee(a[0][1],a[1][1]);return{x:e,y:t,width:Ut(a[0][0],a[1][0])-e,height:Ut(a[0][1],a[1][1])-t}}(ua(a,e,[[n,r],[n+i,r+o]])))}function sa(a){return(0,m.defaults)({strokeNoScale:!0},a.brushStyle)}function Kn(a,e,t,n){var r=[ee(a,t),ee(e,n)],i=[Ut(a,t),Ut(e,n)];return[[r[0],i[0]],[r[1],i[1]]]}function la(a,e){var r=ft.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[e],function Jl(a){return ft.getTransform(a.group)}(a));return{left:"w",right:"e",top:"n",bottom:"s"}[r]}function Qn(a,e,t,n,r,i){var o=t.__brushOption,s=a.toRectRange(o.range),u=qn(e,r,i);(0,m.each)(n,function(c){var v=Hl[c];s[v[0]][v[1]]+=u[v[0]]}),o.range=a.fromRectRange(Kn(s[0][0],s[1][0],s[0][1],s[1][1])),aa(e,t),Pt(e,{isEnd:!1})}function Ql(a,e,t,n){var r=e.__brushOption.range,i=qn(a,t,n);(0,m.each)(r,function(o){o[0]+=i[0],o[1]+=i[1]}),aa(a,e),Pt(a,{isEnd:!1})}function qn(a,e,t){var n=a.group,r=n.transformCoordToLocal(e,t),i=n.transformCoordToLocal(0,0);return[r[0]-i[0],r[1]-i[1]]}function ua(a,e,t){var n=Xn(a,e);return n&&n!==Mt?n.clipPath(t,a._transform):(0,m.clone)(t)}function ca(a){var e=a.event;e.preventDefault&&e.preventDefault()}function va(a,e,t){return a.childOfName("main").contain(e,t)}function tr(a,e,t,n){var s,r=a._creatingCover,i=a._creatingPanel,o=a._brushOption;if(a._track.push(t.slice()),function Wl(a){var e=a._track;if(!e.length)return!1;var t=e[e.length-1],n=e[0],r=t[0]-n[0],i=t[1]-n[1];return El(r*r+i*i,.5)>6}(a)||r){if(i&&!r){"single"===o.brushMode&&ia(a);var u=(0,m.clone)(o);u.brushType=er(u.brushType,i),u.panelId=i===Mt?null:i.panelId,r=a._creatingCover=jn(a,u),a._covers.push(r)}if(r){var c=xe[er(a._brushType,i)];r.__brushOption.range=c.getCreatingRange(ua(a,r,a._track)),n&&(Yn(a,r),c.updateCommon(a,r)),Hn(a,r),s={isEnd:n}}}else n&&"single"===o.brushMode&&o.removeOnClick&&ra(a,e,t)&&ia(a)&&(s={isEnd:n,removeOnClick:!0});return s}function er(a,e){return"auto"===a?e.defaultBrushType:a}var eu={mousedown:function(a){if(this._dragging)ar(this,a);else if(!a.target||!a.target.draggable){ca(a);var e=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null,(this._creatingPanel=ra(this,a,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(a){var n=this.group.transformCoordToLocal(a.offsetX,a.offsetY);if(function tu(a,e,t){if(a._brushType&&!function au(a,e,t){var n=a._zr;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}(a,e.offsetX,e.offsetY)){var n=a._zr,r=a._covers,i=ra(a,e,t);if(!a._dragging)for(var o=0;o<r.length;o++){var s=r[o].__brushOption;if(i&&(i===Mt||s.panelId===i.panelId)&&xe[s.brushType].contain(r[o],t[0],t[1]))return}i&&n.setCursorStyle("crosshair")}}(this,a,n),this._dragging){ca(a);var r=tr(this,a,n,!1);r&&Pt(this,r)}},mouseup:function(a){ar(this,a)}};function ar(a,e){if(a._dragging){ca(e);var r=a.group.transformCoordToLocal(e.offsetX,e.offsetY),i=tr(a,e,r,!0);a._dragging=!1,a._track=[],a._creatingCover=null,i&&Pt(a,i)}}var xe={lineX:nr(0),lineY:nr(1),rect:{createCover:function(a,e){function t(n){return n}return Wn({toRectRange:t,fromRectRange:t},a,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var e=Zn(a);return Kn(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(a,e,t,n){Jn(a,e,t,n)},updateCommon:oa,contain:va},polygon:{createCover:function(a,e){var t=new ht.A;return t.add(new Ba.A({name:"main",style:sa(e),silent:!0})),t},getCreatingRange:function(a){return a},endCreating:function(a,e){e.remove(e.childAt(0)),e.add(new Fl.A({name:"main",draggable:!0,drift:(0,m.curry)(Ql,a,e),ondragend:(0,m.curry)(Pt,a,{isEnd:!0})}))},updateCoverShape:function(a,e,t,n){e.childAt(0).setShape({points:ua(a,e,t)})},updateCommon:oa,contain:va}};function nr(a){return{createCover:function(e,t){return Wn({toRectRange:function(n){var r=[n,[0,100]];return a&&r.reverse(),r},fromRectRange:function(n){return n[a]}},e,t,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(e){var t=Zn(e);return[ee(t[0][a],t[1][a]),Ut(t[0][a],t[1][a])]},updateCoverShape:function(e,t,n,r){var i,o=Xn(e,t);if(o!==Mt&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(a);else{var s=e._zr;i=[0,[s.getWidth(),s.getHeight()][1-a]]}var u=[n,i];a&&u.reverse(),Jn(e,t,u,r)},updateCommon:oa,contain:va}}const nu=Zl;var ru=_(1489),iu={axisPointer:1,tooltip:1,brush:1};function su(a){return a=ha(a),function(e){return ft.clipPointsByRect(e,a)}}function lu(a,e){return a=ha(a),function(t){var n=e??t,i=n?a.x:a.y;return[i,i+((n?a.width:a.height)||0)]}}function uu(a,e,t){var n=ha(a);return function(r,i){return n.contain(i[0],i[1])&&!function ou(a,e,t){var n=e.getComponentByElement(a.topTarget),r=n&&n.coordinateSystem;return n&&n!==t&&!iu.hasOwnProperty(n.mainType)&&r&&r.model!==t}(r,e,t)}}function ha(a){return ru.A.create(a)}var cu=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],vu=function(){function a(e,t,n){var r=this;this._targetInfoList=[];var i=rr(t,e);(0,m.each)(hu,function(o,s){(!n||!n.include||(0,m.indexOf)(n.include,s)>=0)&&o(i,r._targetInfoList)})}return a.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(n,r,i){if((n.coordRanges||(n.coordRanges=[])).push(r),!n.coordRange){n.coordRange=r;var o=pa[n.brushType](0,i,r);n.__rangeOffset={offset:lr[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},a.prototype.matchOutputRanges=function(e,t,n){(0,m.each)(e,function(r){var i=this.findTargetInfo(r,t);i&&!0!==i&&(0,m.each)(i.coordSyses,function(o){var s=pa[r.brushType](1,o,r.range,!0);n(r,s.values,o,t)})},this)},a.prototype.setInputRanges=function(e,t){(0,m.each)(e,function(n){var r=this.findTargetInfo(n,t);if(n.range=n.range||[],r&&!0!==r){n.panelId=r.panelId;var i=pa[n.brushType](0,r.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?lr[n.brushType](i.values,o.offset,function fu(a,e){var t=cr(a),n=cr(e),r=[t[0]/n[0],t[1]/n[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}(i.xyMinMax,o.xyMinMax)):i.values}},this)},a.prototype.makePanelOpts=function(e,t){return(0,m.map)(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:su(r),isTargetByCursor:uu(r,e,n.coordSysModel),getLinearBrushOtherExtent:lu(r)}})},a.prototype.controlSeries=function(e,t,n){var r=this.findTargetInfo(e,n);return!0===r||r&&(0,m.indexOf)(r.coordSyses,t.coordinateSystem)>=0},a.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,r=rr(t,e),i=0;i<n.length;i++){var o=n[i],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var u=0;u<ir.length;u++)if(ir[u](r,o))return o}return!0},a}();function fa(a){return a[0]>a[1]&&a.reverse(),a}function rr(a,e){return(0,K._e)(a,e,{includeMainTypes:cu})}var hu={grid:function(a,e){var t=a.xAxisModels,n=a.yAxisModels,r=a.gridModels,i=(0,m.createHashMap)(),o={},s={};!t&&!n&&!r||((0,m.each)(t,function(u){var c=u.axis.grid.model;i.set(c.id,c),o[c.id]=!0}),(0,m.each)(n,function(u){var c=u.axis.grid.model;i.set(c.id,c),s[c.id]=!0}),(0,m.each)(r,function(u){i.set(u.id,u),o[u.id]=!0,s[u.id]=!0}),i.each(function(u){var v=[];(0,m.each)(u.coordinateSystem.getCartesians(),function(p,h){((0,m.indexOf)(t,p.getAxis("x").model)>=0||(0,m.indexOf)(n,p.getAxis("y").model)>=0)&&v.push(p)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:v[0],coordSyses:v,getPanelRect:or.grid,xAxisDeclared:o[u.id],yAxisDeclared:s[u.id]})}))},geo:function(a,e){(0,m.each)(a.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:or.geo})})}},ir=[function(a,e){var t=a.xAxisModel,n=a.yAxisModel,r=a.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&n&&(r=n.axis.grid.model),r&&r===e.gridModel},function(a,e){var t=a.geoModel;return t&&t===e.geoModel}],or={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,e=a.getBoundingRect().clone();return e.applyTransform(ft.getTransform(a)),e}},pa={lineX:(0,m.curry)(sr,0),lineY:(0,m.curry)(sr,1),rect:function(a,e,t,n){var r=a?e.pointToData([t[0][0],t[1][0]],n):e.dataToPoint([t[0][0],t[1][0]],n),i=a?e.pointToData([t[0][1],t[1][1]],n):e.dataToPoint([t[0][1],t[1][1]],n),o=[fa([r[0],i[0]]),fa([r[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(a,e,t,n){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:(0,m.map)(t,function(o){var s=a?e.pointToData(o,n):e.dataToPoint(o,n);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s}),xyMinMax:r}}};function sr(a,e,t,n){var r=t.getAxis(["x","y"][a]),i=fa((0,m.map)([0,1],function(s){return e?r.coordToData(r.toLocalCoord(n[s]),!0):r.toGlobalCoord(r.dataToCoord(n[s]))})),o=[];return o[a]=i,o[1-a]=[NaN,NaN],{values:i,xyMinMax:o}}var lr={lineX:(0,m.curry)(ur,0),lineY:(0,m.curry)(ur,1),rect:function(a,e,t){return[[a[0][0]-t[0]*e[0][0],a[0][1]-t[0]*e[0][1]],[a[1][0]-t[1]*e[1][0],a[1][1]-t[1]*e[1][1]]]},polygon:function(a,e,t){return(0,m.map)(a,function(n,r){return[n[0]-t[0]*e[r][0],n[1]-t[1]*e[r][1]]})}};function ur(a,e,t,n){return[e[0]-n[a]*t[0],e[1]-n[a]*t[1]]}function cr(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}const vr=vu;var pu=_(1285),da=m.each,du=(0,K.S_)("toolbox-dataZoom_"),gu=function(a){function e(){return null!==a&&a.apply(this,arguments)||this}return(0,U.C6)(e,a),e.prototype.render=function(t,n,r,i){this._brushController||(this._brushController=new nu(r.getZr()),this._brushController.on("brush",m.bind(this._onBrush,this)).mount()),function Su(a,e,t,n,r){var i=t._isZoomActive;n&&"takeGlobalCursor"===n.type&&(i="dataZoomSelect"===n.key&&n.dataZoomSelectActive),t._isZoomActive=i,a.setIconStatus("zoom",i?"emphasis":"normal");var s=new vr(ga(a),e,{include:["grid"]}).makePanelOpts(r,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(!(!i||!s.length)&&{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()})}(t,n,this,i,r),function yu(a,e){a.setIconStatus("back",function Ll(a){return ta(a).length}(e)>1?"emphasis":"normal")}(t,n)},e.prototype.onclick=function(t,n,r){mu[r].call(this)},e.prototype.remove=function(t,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var n=t.areas;if(t.isEnd&&n.length){var r={},i=this.ecModel;this._brushController.updateCovers([]),new vr(ga(this.model),i,{include:["grid"]}).matchOutputRanges(n,i,function(c,v,p){if("cartesian2d"===p.type){var h=c.brushType;"rect"===h?(s("x",p,v[0]),s("y",p,v[1])):s({lineX:"x",lineY:"y"}[h],p,v)}}),function wl(a,e){var t=ta(a);Fn(e,function(n,r){for(var i=t.length-1;i>=0&&!t[i][r];i--);if(i<0){var s=a.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var u=s.getPercentRange();t[0][r]={dataZoomId:r,start:u[0],end:u[1]}}}}),t.push(e)}(i,r),this._dispatchZoomAction(r)}function s(c,v,p){var h=v.getAxis(c),f=h.model,d=function u(c,v,p){var h;return p.eachComponent({mainType:"dataZoom",subType:"select"},function(f){f.getAxisModel(c,v.componentIndex)&&(h=f)}),h}(c,f,i),g=d.findRepresentativeAxisProxy(f).getMinMaxSpan();(null!=g.minValueSpan||null!=g.maxValueSpan)&&(p=Pn(0,p.slice(),h.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),d&&(r[d.id]={dataZoomId:d.id,startValue:p[0],endValue:p[1]})}},e.prototype._dispatchZoomAction=function(t){var n=[];da(t,function(r,i){n.push(m.clone(r))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(it),mu={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function kl(a){var e=ta(a),t=e[e.length-1];e.length>1&&e.pop();var n={};return Fn(t,function(r,i){for(var o=e.length-1;o>=0;o--)if(r=e[o][i]){n[i]=r;break}}),n}(this.ecModel))}};function ga(a){var e={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}(0,pu.S)("dataZoom",function(a){var e=a.getComponent("toolbox",0),t=["feature","dataZoom"];if(e&&null!=e.get(t)){var n=e.getModel(t),r=[],i=ga(n),o=(0,K._e)(a,i);return da(o.xAxisModels,function(u){return s(u,"xAxis","xAxisIndex")}),da(o.yAxisModels,function(u){return s(u,"yAxis","yAxisIndex")}),r}function s(u,c,v){var p=u.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:du+c+p};h[v]=p,r.push(h)}});const bu=gu;var V=_(2908),xu=_(4680),ma=Math.sin,ya=Math.cos,hr=Math.PI,Ot=2*Math.PI,Tu=180/hr;const fr=function(){function a(){}return a.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},a.prototype.moveTo=function(e,t){this._add("M",e,t)},a.prototype.lineTo=function(e,t){this._add("L",e,t)},a.prototype.bezierCurveTo=function(e,t,n,r,i,o){this._add("C",e,t,n,r,i,o)},a.prototype.quadraticCurveTo=function(e,t,n,r){this._add("Q",e,t,n,r)},a.prototype.arc=function(e,t,n,r,i,o){this.ellipse(e,t,n,n,0,r,i,o)},a.prototype.ellipse=function(e,t,n,r,i,o,s,u){var d,c=s-o,v=!u,p=Math.abs(c),h=(0,V.Cv)(p-Ot)||(v?c>=Ot:-c>=Ot),f=c>0?c%Ot:c%Ot+Ot;d=!!h||!(0,V.Cv)(p)&&f>=hr==!!v;var g=e+n*ya(o),b=t+r*ma(o);this._start&&this._add("M",g,b);var S=Math.round(i*Tu);if(h){var y=1/this._p,C=(v?1:-1)*(Ot-y);this._add("A",n,r,S,1,+v,e+n*ya(o+C),t+r*ma(o+C)),y>.01&&this._add("A",n,r,S,0,+v,g,b)}else{var x=e+n*ya(s),T=t+r*ma(s);this._add("A",n,r,S,+d,+v,x,T)}},a.prototype.rect=function(e,t,n,r){this._add("M",e,t),this._add("l",n,0),this._add("l",0,r),this._add("l",-n,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(e,t,n,r,i,o,s,u,c){for(var v=[],p=this._p,h=1;h<arguments.length;h++){var f=arguments[h];if(isNaN(f))return void(this._invalid=!0);v.push(Math.round(f*p)/p)}this._d.push(e+v.join(" ")),this._start="Z"===e},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a}();var Du=_(5925),ae="none",_u=Math.round,Sa=["lineCap","miterLimit","lineJoin"],Ou=(0,m.map)(Sa,function(a){return"stroke-"+a.toLowerCase()});var wu=_(9746),pr="http://www.w3.org/2000/svg",dr="http://www.w3.org/1999/xlink",gr="ecmeta_";function mr(a){return document.createElementNS(pr,a)}function Q(a,e,t,n,r){return{tag:a,attrs:t||{},children:n,text:r,key:e}}function ba(a,e){var t=(e=e||{}).newline?"\n":"";return function n(r){var i=r.children,o=r.tag,u=r.text;return function Lu(a,e){var t=[];if(e)for(var n in e){var r=e[n],i=n;!1!==r&&(!0!==r&&null!=r&&(i+='="'+r+'"'),t.push(i))}return"<"+a+" "+t.join(" ")+">"}(o,r.attrs)+("style"!==o?(0,wu.Me)(u):u||"")+(i?""+t+(0,m.map)(i,function(c){return n(c)}).join(t)+t:"")+function Nu(a){return"</"+a+">"}(o)}(a)}function Ca(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function yr(a,e,t,n){return Q("svg","root",{width:a,height:e,xmlns:pr,"xmlns:xlink":dr,version:"1.1",baseProfile:"full",viewBox:!!n&&"0 0 "+a+" "+e},t)}var Vu=_(6548),Fu=_(291),Uu=_(916),Gu=_(13),Eu=0;function Sr(){return Eu++}var br={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},It="transform-origin";function Bu(a,e,t){var n=(0,m.extend)({},a.shape);(0,m.extend)(n,e),a.buildPath(t,n);var r=new fr;return r.reset((0,V.MD)(a)),t.rebuildPath(r,1),r.generateStr(),r.getStr()}function ju(a,e){var t=e.originX,n=e.originY;(t||n)&&(a[It]=t+"px "+n+"px")}var Yu={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Cr(a,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=a,t}function xr(a){return(0,m.isString)(a)?br[a]?"cubic-bezier("+br[a]+")":(0,Gu.w)(a)?a:"":""}function Te(a,e,t,n){var r=a.animators,i=r.length,o=[];if(a instanceof Uu.A){var s=function Hu(a,e,t){var i,o,r={};if((0,m.each)(a.shape.paths,function(u){var c=Ca(t.zrId);c.animation=!0,Te(u,{},c,!0);var v=c.cssAnims,p=c.cssNodes,h=(0,m.keys)(v),f=h.length;if(f){var d=v[o=h[f-1]];for(var g in d){var b=d[g];r[g]=r[g]||{d:""},r[g].d+=b.d||""}for(var S in p){var y=p[S].animation;y.indexOf(o)>=0&&(i=y)}}}),i){e.d=!1;var s=Cr(r,t);return i.replace(o,s)}}(a,e,t);if(s)o.push(s);else if(!i)return}else if(!i)return;for(var u={},c=0;c<i;c++){var v=r[c],p=[v.getMaxTime()/1e3+"s"],h=xr(v.getClip().easing),f=v.getDelay();p.push(h||"linear"),f&&p.push(f/1e3+"s"),v.getLoop()&&p.push("infinite");var d=p.join(" ");u[d]=u[d]||[d,[]],u[d][1].push(v)}function g(y){var C=y[1],x=C.length,T={},D={},A={},M="animation-timing-function";function O(ot,bt,Bt){for(var kt=ot.getTracks(),De=ot.getMaxTime(),jt=0;jt<kt.length;jt++){var Yt=kt[jt];if(Yt.needsAnimate()){var Ct=Yt.keyframes,st=Yt.propName;if(Bt&&(st=Bt(st)),st)for(var dt=0;dt<Ct.length;dt++){var Ht=Ct[dt],lt=Math.round(Ht.time/De*100)+"%",_e=xr(Ht.easing),xt=Ht.rawValue;((0,m.isString)(xt)||(0,m.isNumber)(xt))&&(bt[lt]=bt[lt]||{},bt[lt][st]=Ht.rawValue,_e&&(bt[lt][M]=_e))}}}}for(var P=0;P<x;P++)(w=(k=C[P]).targetName)?"shape"===w&&O(k,D):!n&&O(k,T);for(var I in T){var z={};(0,Fu.IT)(z,a),(0,m.extend)(z,T[I]);var L=(0,V.Z1)(z),B=T[I][M];A[I]=L?{transform:L}:{},ju(A[I],z),B&&(A[I][M]=B)}var G,F=!0;for(var I in D){A[I]=A[I]||{};var R=!G;B=D[I][M],R&&(G=new ke.A);var j=G.len();G.reset(),A[I].d=Bu(a,D[I],G);var Y=G.len();if(!R&&j!==Y){F=!1;break}B&&(A[I][M]=B)}if(!F)for(var I in A)delete A[I].d;if(!n)for(P=0;P<x;P++){var k,w;"style"===(w=(k=C[P]).targetName)&&O(k,A,function(kt){return Yu[kt]})}var W,E=(0,m.keys)(A),$=!0;for(P=1;P<E.length;P++){var J=E[P-1];if(A[J][It]!==A[E[P]][It]){$=!1;break}W=A[J][It]}if($&&W){for(var I in A)A[I][It]&&delete A[I][It];e[It]=W}if((0,m.filter)(E,function(ot){return(0,m.keys)(A[ot]).length>0}).length)return Cr(A,t)+" "+y[0]+" both"}for(var b in u)(s=g(u[b]))&&o.push(s);if(o.length){var S=t.zrId+"-cls-"+Sr();t.cssNodes["."+S]={animation:o.join(",")},e.class=S}}var Tr=_(5440);function Ar(a,e,t,n){var r=JSON.stringify(a),i=t.cssStyleCache[r];i||(i=t.zrId+"-cls-"+Sr(),t.cssStyleCache[r]=i,t.cssNodes["."+i+(n?":hover":"")]=a),e.class=e.class?e.class+" "+i:i}var Xu=_(7377),ne=Math.round;function Dr(a){return a&&(0,m.isString)(a.src)}function _r(a){return a&&(0,m.isFunction)(a.toDataURL)}function xa(a,e,t,n){(function Iu(a,e,t,n){var r=null==e.opacity?1:e.opacity;if(t instanceof Ne.Ay)a("opacity",r);else{if(function Mu(a){var e=a.fill;return null!=e&&e!==ae}(e)){var i=(0,V.$2)(e.fill);a("fill",i.color);var o=null!=e.fillOpacity?e.fillOpacity*i.opacity*r:i.opacity*r;(n||o<1)&&a("fill-opacity",o)}else a("fill",ae);if(function Pu(a){var e=a.stroke;return null!=e&&e!==ae}(e)){var s=(0,V.$2)(e.stroke);a("stroke",s.color);var u=e.strokeNoScale?t.getLineScale():1,c=u?(e.lineWidth||0)/u:0,v=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*r:s.opacity*r,p=e.strokeFirst;if((n||1!==c)&&a("stroke-width",c),(n||p)&&a("paint-order",p?"stroke":"fill"),(n||v<1)&&a("stroke-opacity",v),e.lineDash){var h=(0,Du.V)(t),f=h[0],d=h[1];f&&(d=_u(d||0),a("stroke-dasharray",f.join(",")),(d||n)&&a("stroke-dashoffset",d))}else n&&a("stroke-dasharray",ae);for(var g=0;g<Sa.length;g++){var b=Sa[g];if(n||e[b]!==Wt.MW[b]){var S=e[b]||Wt.MW[b];S&&a(Ou[g],S)}}}else n&&a("stroke",ae)}})(function(r,i){var o="fill"===r||"stroke"===r;o&&(0,V.bn)(i)?kr(e,a,r,n):o&&(0,V.Pt)(i)?Rr(t,a,r,n):a[r]=i,o&&n.ssr&&"none"===i&&(a["pointer-events"]="visible")},e,t,!1),function tc(a,e,t){var n=a.style;if((0,V.dX)(n)){var r=(0,V.si)(a),i=t.shadowCache,o=i[r];if(!o){var s=a.getGlobalScale(),u=s[0],c=s[1];if(!u||!c)return;var v=n.shadowOffsetX||0,p=n.shadowOffsetY||0,h=n.shadowBlur,f=(0,V.$2)(n.shadowColor),d=f.opacity,g=f.color,y=h/2/u+" "+h/2/c;o=t.zrId+"-s"+t.shadowIdx++,t.defs[o]=Q("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Q("feDropShadow","",{dx:v/u,dy:p/c,stdDeviation:y,"flood-color":g,"flood-opacity":d})]),i[r]=o}e.filter=(0,V.Xu)(o)}}(t,a,n)}function Ta(a,e){var t=(0,Xu.getElementSSRData)(e);t&&(t.each(function(n,r){null!=n&&(a[(gr+r).toLowerCase()]=n+"")}),e.isSilent()&&(a[gr+"silent"]="true"))}function Mr(a){return(0,V.Cv)(a[0]-1)&&(0,V.Cv)(a[1])&&(0,V.Cv)(a[2])&&(0,V.Cv)(a[3]-1)}function Aa(a,e,t){if(e&&(!function Zu(a){return(0,V.Cv)(a[4])&&(0,V.Cv)(a[5])}(e)||!Mr(e))){var n=t?10:1e4;a.transform=Mr(e)?"translate("+ne(e[4]*n)/n+" "+ne(e[5]*n)/n+")":(0,V.nV)(e)}}function Pr(a,e,t){for(var n=a.points,r=[],i=0;i<n.length;i++)r.push(ne(n[i][0]*t)/t),r.push(ne(n[i][1]*t)/t);e.points=r.join(" ")}function Or(a){return!a.smooth}var Ju={circle:[function Wu(a){var e=(0,m.map)(a,function(t){return"string"==typeof t?[t,t]:t});return function(t,n,r){for(var i=0;i<e.length;i++){var o=e[i],s=t[o[0]];null!=s&&(n[o[1]]=ne(s*r)/r)}}}(["cx","cy","r"])],polyline:[Pr,Or],polygon:[Pr,Or]};function Ir(a,e){var t=a.style,n=a.shape,r=Ju[a.type],i={},o=e.animation,s="path",u=a.style.strokePercent,c=e.compress&&(0,V.MD)(a)||4;if(!r||e.willUpdate||r[1]&&!r[1](n)||o&&function Ku(a){for(var e=a.animators,t=0;t<e.length;t++)if("shape"===e[t].targetName)return!0;return!1}(a)||u<1){var p=!a.path||a.shapeChanged();a.path||a.createPathProxy();var h=a.path;p&&(h.beginPath(),a.buildPath(h,a.shape),a.pathUpdated());var f=h.getVersion(),d=a,g=d.__svgPathBuilder;(d.__svgPathVersion!==f||!g||u!==d.__svgPathStrokePercent)&&(g||(g=d.__svgPathBuilder=new fr),g.reset(c),h.rebuildPath(g,u),g.generateStr(),d.__svgPathVersion=f,d.__svgPathStrokePercent=u),i.d=g.getStr()}else{s=a.type;var v=Math.pow(10,c);r[0](n,i,v)}return Aa(i,a.transform),xa(i,t,a,e),Ta(i,a),e.animation&&Te(a,i,e),e.emphasis&&function $u(a,e,t){if(!a.ignore)if(a.isSilent())Ar(n={"pointer-events":"none"},e,t,!0);else{var r=a.states.emphasis&&a.states.emphasis.style?a.states.emphasis.style:{},i=r.fill;if(!i){var o=a.style&&a.style.fill,s=a.states.select&&a.states.select.style&&a.states.select.style.fill,u=a.currentStates.indexOf("select")>=0&&s||o;u&&(i=(0,fe.liftColor)(u))}var c=r.lineWidth;c&&(c/=!r.strokeNoScale&&a.transform?a.transform[0]:1);var n={cursor:"pointer"};i&&(n.fill=i),r.stroke&&(n.stroke=r.stroke),c&&(n["stroke-width"]=c),Ar(n,e,t,!0)}}(a,i,e),Q(s,a.id+"",i)}function wr(a,e){return a instanceof Wt.Ay?Ir(a,e):a instanceof Ne.Ay?function Qu(a,e){var t=a.style,n=t.image;if(n&&!(0,m.isString)(n)&&(Dr(n)?n=n.src:_r(n)&&(n=n.toDataURL())),n){var r=t.x||0,i=t.y||0,u={href:n,width:t.width,height:t.height};return r&&(u.x=r),i&&(u.y=i),Aa(u,a.transform),xa(u,t,a,e),Ta(u,a),e.animation&&Te(a,u,e),Q("image",a.id+"",u)}}(a,e):a instanceof xu.A?function qu(a,e){var t=a.style,n=t.text;if(null!=n&&(n+=""),n&&!isNaN(t.x)&&!isNaN(t.y)){var r=t.font||Tr.OH,i=t.x||0,o=(0,V.sZ)(t.y||0,(0,Rn.ks)(r),t.textBaseline),u={"dominant-baseline":"central","text-anchor":V.eQ[t.textAlign]||t.textAlign};if((0,vt.XE)(t)){var c="",v=t.fontStyle,p=(0,vt.I5)(t.fontSize);if(!parseFloat(p))return;var f=t.fontWeight;c+="font-size:"+p+";font-family:"+(t.fontFamily||Tr.zs)+";",v&&"normal"!==v&&(c+="font-style:"+v+";"),f&&"normal"!==f&&(c+="font-weight:"+f+";"),u.style=c}else u.style="font: "+r;return n.match(/\s/)&&(u["xml:space"]="preserve"),i&&(u.x=i),o&&(u.y=o),Aa(u,a.transform),xa(u,t,a,e),Ta(u,a),e.animation&&Te(a,u,e),Q("text",a.id+"",u,void 0,n)}}(a,e):void 0}function kr(a,e,t,n){var i,r=a[t],o={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if((0,V.OS)(r))i="linearGradient",o.x1=r.x,o.y1=r.y,o.x2=r.x2,o.y2=r.y2;else{if(!(0,V.OH)(r))return;i="radialGradient",o.cx=(0,m.retrieve2)(r.x,.5),o.cy=(0,m.retrieve2)(r.y,.5),o.r=(0,m.retrieve2)(r.r,.5)}for(var s=r.colorStops,u=[],c=0,v=s.length;c<v;++c){var p=100*(0,V.XP)(s[c].offset)+"%",f=(0,V.$2)(s[c].color),g=f.opacity,b={offset:p};b["stop-color"]=f.color,g<1&&(b["stop-opacity"]=g),u.push(Q("stop",c+"",b))}var y=ba(Q(i,"",o,u)),C=n.gradientCache,x=C[y];x||(x=n.zrId+"-g"+n.gradientIdx++,C[y]=x,o.id=x,n.defs[x]=Q(i,x,o,u)),e[t]=(0,V.Xu)(x)}function Rr(a,e,t,n){var p,r=a.style[t],i=a.getBoundingRect(),o={},s=r.repeat,u="no-repeat"===s,c="repeat-x"===s,v="repeat-y"===s;if((0,V.sL)(r)){var h=r.imageWidth,f=r.imageHeight,d=void 0,g=r.image;if((0,m.isString)(g)?d=g:Dr(g)?d=g.src:_r(g)&&(d=g.toDataURL()),typeof Image>"u"){var b="Image width/height must been given explictly in svg-ssr renderer.";(0,m.assert)(h,b),(0,m.assert)(f,b)}else if(null==h||null==f){var S=function(P,k){if(P){var w=P.elm,I=h||k.width,z=f||k.height;"pattern"===P.tag&&(c?(z=1,I/=i.width):v&&(I=1,z/=i.height)),P.attrs.width=I,P.attrs.height=z,w&&(w.setAttribute("width",I),w.setAttribute("height",z))}},y=(0,Vu.OD)(d,null,a,function(P){u||S(D,P),S(p,P)});y&&y.width&&y.height&&(h=h||y.width,f=f||y.height)}p=Q("image","img",{href:d,width:h,height:f}),o.width=h,o.height=f}else r.svgElement&&(p=(0,m.clone)(r.svgElement),o.width=r.svgWidth,o.height=r.svgHeight);if(p){var C,x;u?C=x=1:c?(x=1,C=o.width/i.width):v?(C=1,x=o.height/i.height):o.patternUnits="userSpaceOnUse",null!=C&&!isNaN(C)&&(o.width=C),null!=x&&!isNaN(x)&&(o.height=x);var T=(0,V.Z1)(r);T&&(o.patternTransform=T);var D=Q("pattern","",o,[p]),A=ba(D),M=n.patternCache,O=M[A];O||(O=n.zrId+"-p"+n.patternIdx++,M[A]=O,o.id=O,D=n.defs[O]=Q("pattern",O,o,[p])),e[t]=(0,V.Xu)(O)}}function ec(a,e,t){var n=t.clipPathCache,r=t.defs,i=n[a.id];if(!i){var o={id:i=t.zrId+"-c"+t.clipPathIdx++};n[a.id]=i,r[i]=Q("clipPath",i,o,[Ir(a,t)])}e["clip-path"]=(0,V.Xu)(i)}function Lr(a){return document.createTextNode(a)}function wt(a,e,t){a.insertBefore(e,t)}function Nr(a,e){a.removeChild(e)}function zr(a,e){a.appendChild(e)}function Vr(a){return a.parentNode}function Fr(a){return a.nextSibling}function Da(a,e){a.textContent=e}var nc=Q("","");function _a(a){return void 0===a}function ut(a){return void 0!==a}function rc(a,e,t){for(var n={},r=e;r<=t;++r){var i=a[r].key;void 0!==i&&(n[i]=r)}return n}function re(a,e){return a.tag===e.tag&&a.key===e.key}function ie(a){var e,t=a.children,n=a.tag;if(ut(n)){var r=a.elm=mr(n);if(Ma(nc,a),(0,m.isArray)(t))for(e=0;e<t.length;++e){var i=t[e];null!=i&&zr(r,ie(i))}else ut(a.text)&&!(0,m.isObject)(a.text)&&zr(r,Lr(a.text))}else a.elm=Lr(a.text);return a.elm}function Gr(a,e,t,n,r){for(;n<=r;++n){var i=t[n];null!=i&&wt(a,ie(i),e)}}function Ae(a,e,t,n){for(;t<=n;++t){var r=e[t];null!=r&&(ut(r.tag)?Nr(Vr(r.elm),r.elm):Nr(a,r.elm))}}function Ma(a,e){var t,n=e.elm,r=a&&a.attrs||{},i=e.attrs||{};if(r!==i){for(t in i){var o=i[t];r[t]!==o&&(!0===o?n.setAttribute(t,""):!1===o?n.removeAttribute(t):"style"===t?n.style.cssText=o:120!==t.charCodeAt(0)?n.setAttribute(t,o):"xmlns:xlink"===t||"xmlns"===t?n.setAttributeNS("http://www.w3.org/2000/xmlns/",t,o):58===t.charCodeAt(3)?n.setAttributeNS("http://www.w3.org/XML/1998/namespace",t,o):58===t.charCodeAt(5)?n.setAttributeNS(dr,t,o):n.setAttribute(t,o))}for(t in r)t in i||n.removeAttribute(t)}}function Gt(a,e){var t=e.elm=a.elm,n=a.children,r=e.children;a!==e&&(Ma(a,e),_a(e.text)?ut(n)&&ut(r)?n!==r&&function ic(a,e,t){for(var p,h,f,n=0,r=0,i=e.length-1,o=e[0],s=e[i],u=t.length-1,c=t[0],v=t[u];n<=i&&r<=u;)null==o?o=e[++n]:null==s?s=e[--i]:null==c?c=t[++r]:null==v?v=t[--u]:re(o,c)?(Gt(o,c),o=e[++n],c=t[++r]):re(s,v)?(Gt(s,v),s=e[--i],v=t[--u]):re(o,v)?(Gt(o,v),wt(a,o.elm,Fr(s.elm)),o=e[++n],v=t[--u]):re(s,c)?(Gt(s,c),wt(a,s.elm,o.elm),s=e[--i],c=t[++r]):(_a(p)&&(p=rc(e,n,i)),_a(h=p[c.key])||(f=e[h]).tag!==c.tag?wt(a,ie(c),o.elm):(Gt(f,c),e[h]=void 0,wt(a,f.elm,o.elm)),c=t[++r]);(n<=i||r<=u)&&(n>i?Gr(a,null==t[u+1]?null:t[u+1].elm,t,r,u):Ae(a,e,n,i))}(t,n,r):ut(r)?(ut(a.text)&&Da(t,""),Gr(t,null,r,0,r.length-1)):ut(n)?Ae(t,n,0,n.length-1):ut(a.text)&&Da(t,""):a.text!==e.text&&(ut(n)&&Ae(t,n,0,n.length-1),Da(t,e.text)))}var Er=_(6754),sc=0;const cc=function(){function a(e,t,n){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=n=(0,m.extend)({},n),this.root=e,this._id="zr"+sc++,this._oldVNode=yr(n.width,n.height),e&&!n.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=mr("svg");Ma(null,this._oldVNode),r.appendChild(i),e.appendChild(r)}this.resize(n.width,n.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",function oc(a,e){if(re(a,e))Gt(a,e);else{var t=a.elm,n=Vr(t);ie(e),null!==n&&(wt(n,e.elm,Fr(t)),Ae(n,[a],0,0))}}(this._oldVNode,e),this._oldVNode=e}},a.prototype.renderOneToVNode=function(e){return wr(e,Ca(this._id))},a.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,r=this._height,i=Ca(this._id);i.animation=e.animation,i.willUpdate=e.willUpdate,i.compress=e.compress,i.emphasis=e.emphasis,i.ssr=this._opts.ssr;var o=[],s=this._bgVNode=function uc(a,e,t,n){var r;if(t&&"none"!==t)if(r=Q("rect","bg",{width:a,height:e,x:"0",y:"0"}),(0,V.bn)(t))kr({fill:t},r.attrs,"fill",n);else if((0,V.Pt)(t))Rr({style:{fill:t},dirty:m.noop,getBoundingRect:function(){return{width:a,height:e}}},r.attrs,"fill",n);else{var i=(0,V.$2)(t),s=i.opacity;r.attrs.fill=i.color,s<1&&(r.attrs["fill-opacity"]=s)}return r}(n,r,this._backgroundColor,i);s&&o.push(s);var u=e.compress?null:this._mainVNode=Q("g","main",{},[]);this._paintList(t,i,u?u.children:o),u&&o.push(u);var c=(0,m.map)((0,m.keys)(i.defs),function(h){return i.defs[h]});if(c.length&&o.push(Q("defs","defs",{},c)),e.animation){var v=function zu(a,e,t){var n=(t=t||{}).newline?"\n":"",r=" {"+n,i=n+"}",o=(0,m.map)((0,m.keys)(a),function(u){return u+r+(0,m.map)((0,m.keys)(a[u]),function(c){return c+":"+a[u][c]+";"}).join(n)+i}).join(n),s=(0,m.map)((0,m.keys)(e),function(u){return"@keyframes "+u+r+(0,m.map)((0,m.keys)(e[u]),function(c){return c+r+(0,m.map)((0,m.keys)(e[u][c]),function(v){var p=e[u][c][v];return"d"===v&&(p='path("'+p+'")'),v+":"+p+";"}).join(n)+i}).join(n)+i}).join(n);return o||s?["<![CDATA[",o,s,"]]>"].join(n):""}(i.cssNodes,i.cssAnims,{newline:!0});if(v){var p=Q("style","stl",{},[],v);o.push(p)}}return yr(n,r,o,e.useViewBox)},a.prototype.renderToString=function(e){return ba(this.renderToVNode({animation:(0,m.retrieve2)((e=e||{}).cssAnimation,!0),emphasis:(0,m.retrieve2)(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:(0,m.retrieve2)(e.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(e){this._backgroundColor=e},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(e,t,n){for(var s,u,r=e.length,i=[],o=0,c=0,v=0;v<r;v++){var p=e[v];if(!p.invisible){var h=p.__clipPaths,f=h&&h.length||0,d=u&&u.length||0,g=void 0;for(g=Math.max(f-1,d-1);g>=0&&(!h||!u||h[g]!==u[g]);g--);for(var b=d-1;b>g;b--)s=i[--o-1];for(var S=g+1;S<f;S++){var y={};ec(h[S],y,t);var C=Q("g","clip-g-"+c++,y,[]);(s?s.children:n).push(C),i[o++]=C,s=C}u=h;var x=wr(p,t);x&&(s?s.children:n).push(x)}}},a.prototype.resize=function(e,t){var n=this._opts,r=this.root,i=this._viewport;if(null!=e&&(n.width=e),null!=t&&(n.height=t),r&&i&&(i.style.display="none",e=(0,Er.YC)(r,0,n),t=(0,Er.YC)(r,1,n),i.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,i){var o=i.style;o.width=e+"px",o.height=t+"px"}if((0,V.Pt)(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var u=this._bgVNode&&this._bgVNode.elm;u&&(u.setAttribute("width",e),u.setAttribute("height",t))}}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(e){var t=this.renderToString(),n="data:image/svg+xml;";return e?(t=(0,V.WG)(t))&&n+"base64,"+t:n+"charset=UTF-8,"+encodeURIComponent(t)},a}();Xt.Y([co.a,function wo(a){a.registerChartView(Co),a.registerSeriesModel(Oo),(0,vo.I)("pie",a.registerAction),a.registerLayout((0,m.curry)(ho,"pie")),a.registerProcessor(function fo(a){return{seriesType:a,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var r=e.getData();r.filterSelf(function(i){for(var o=r.getName(i),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}("pie")),a.registerProcessor(function Io(a){return{seriesType:a,reset:function(e,t){var n=e.getData();n.filterSelf(function(r){var i=n.mapDimension("value"),o=n.get(i,r);return!((0,m.isNumber)(o)&&!isNaN(o)&&o<0)})}}}("pie"))},function os(a){a.registerChartView(as),a.registerSeriesModel(Lo),a.registerLayout(function rs(a,e){return{seriesType:a,plan:(0,ns.A)(),reset:function(t){var n=t.getData(),r=t.coordinateSystem,o=e||t.pipelineContext.large;if(r){var s=(0,m.map)(r.dimensions,function(f){return n.mapDimension(f)}).slice(0,2),u=s.length,c=n.getCalculationInfo("stackResultDimension");(0,Zt.sJ)(n,s[0])&&(s[0]=c),(0,Zt.sJ)(n,s[1])&&(s[1]=c);var v=n.getStore(),p=n.getDimensionIndex(s[0]),h=n.getDimensionIndex(s[1]);return u&&{progress:function(f,d){for(var b=o&&(0,Lt.J)((f.end-f.start)*u),S=[],y=[],C=f.start,x=0;C<f.end;C++){var T=void 0;if(1===u){var D=v.get(p,C);T=r.dataToPoint(D,null,y)}else S[0]=v.get(p,C),S[1]=v.get(h,C),T=r.dataToPoint(S,null,y);o?(b[x++]=T[0],b[x++]=T[1]):d.setItemLayout(C,T.slice())}o&&d.setLayout("points",b)}}}}}}("line",!0)),a.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,(0,is.A)("line"))},ss.a,function Ts(a){(0,Xt.Y)(dn),(0,Xt.Y)(xs)},function Us(a){a.registerComponentModel(_s),a.registerComponentView(Fs),a.registerPreprocessor(function(e){(function As(a,e){if(!a)return!1;for(var t=(0,m.isArray)(a)?a:[a],n=0;n<t.length;n++)if(t[n]&&t[n][e])return!0;return!1})(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})},Gs.a,function Ys(a){a.registerComponentModel(Bs),a.registerComponentView(js)},function Cu(a){a.registerComponentModel(vl),a.registerComponentView(pl),te("saveAsImage",gl),te("magicType",Sl),te("dataView",Il),te("dataZoom",bu),te("restore",zl),(0,Xt.Y)(ul)},function vc(a){a.registerPainter("svg",cc)}]);const hc=[{path:"",component:lo}];let fc=(()=>{var a;class e{static#t=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275mod=l.$C({type:e}),this.\u0275inj=N.G2t({imports:[Yr._,et.MD,Hr.w,$r.P,nt.YN,H.iZ,Tt.Pv,Me.sN.forRoot({echarts:uo}),Xr,Ia.iI.forChild(hc),H.WN,H.WU,H.LL,Zr,Ia.iI]}))}return a(),e})()}}]);