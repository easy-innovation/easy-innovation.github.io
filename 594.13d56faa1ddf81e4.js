"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[594],{536:(Q,I,r)=>{r.d(I,{X:()=>v});var d=r(6780),f=r(8359);const b={schedule(l){let R=requestAnimationFrame,u=cancelAnimationFrame;const{delegate:N}=b;N&&(R=N.requestAnimationFrame,u=N.cancelAnimationFrame);const $=R(H=>{u=void 0,l(H)});return new f.yU(()=>u?.($))},requestAnimationFrame(...l){const{delegate:R}=b;return(R?.requestAnimationFrame||requestAnimationFrame)(...l)},cancelAnimationFrame(...l){const{delegate:R}=b;return(R?.cancelAnimationFrame||cancelAnimationFrame)(...l)},delegate:void 0};var C=r(9687);const v=new class w extends C.q{flush(R){let u;this._active=!0,R?u=R.id:(u=this._scheduled,this._scheduled=void 0);const{actions:N}=this;let $;R=R||N.shift();do{if($=R.execute(R.state,R.delay))break}while((R=N[0])&&R.id===u&&N.shift());if(this._active=!1,$){for(;(R=N[0])&&R.id===u&&N.shift();)R.unsubscribe();throw $}}}(class D extends d.R{constructor(R,u){super(R,u),this.scheduler=R,this.work=u}requestAsyncId(R,u,N=0){return null!==N&&N>0?super.requestAsyncId(R,u,N):(R.actions.push(this),R._scheduled||(R._scheduled=b.requestAnimationFrame(()=>R.flush(void 0))))}recycleAsyncId(R,u,N=0){var $;if(null!=N?N>0:this.delay>0)return super.recycleAsyncId(R,u,N);const{actions:H}=R;null!=u&&u===R._scheduled&&(null===($=H[H.length-1])||void 0===$?void 0:$.id)!==u&&(b.cancelAnimationFrame(u),R._scheduled=void 0)}})},1397:(Q,I,r)=>{r.d(I,{F:()=>b});var d=r(9763),f=r(2615);let b=(()=>{var D;class C{constructor(v){this.profileService=v}filterItem(v){if(!v.permission||this.profileService.hasAtLeastOnePermission(v.permission)){if(v.subroutes&&v.subroutes.content){const e=[];for(const l of v.subroutes.content)l.permission&&!this.profileService.hasAtLeastOnePermission(l.permission)||e.push(l);return 0===e.length?void 0:{...v,subroutes:{collapsed:!0,content:e}}}return v}}static#t=D=()=>(this.\u0275fac=function(e){return new(e||C)(f.KVO(d.p))},this.\u0275prov=f.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}))}return D(),C})()},1577:(Q,I,r)=>{r.d(I,{dS:()=>v});var d=r(2615),f=r(3664);const b=new d.nKC("cdk-dir-doc",{providedIn:"root",factory:function D(){return(0,d.WQX)(d.qQL)}}),C=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let v=(()=>{class e{get value(){return this.valueSignal()}valueSignal=(0,d.vPA)("ltr");change=new f.bkB;constructor(){const R=(0,d.WQX)(b,{optional:!0});R&&this.valueSignal.set(function w(e){const l=e?.toLowerCase()||"";return"auto"===l&&typeof navigator<"u"&&navigator?.language?C.test(navigator.language)?"rtl":"ltr":"rtl"===l?"rtl":"ltr"}((R.body?R.body.dir:null)||(R.documentElement?R.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(u){return new(u||e)};static \u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},1949:(Q,I,r)=>{r.d(I,{CB:()=>f,Eq:()=>w,Hy:()=>b,I2:()=>D,Tj:()=>C,wP:()=>d});var d=function(v){return v.FFB="ffb",v.FFM="ffm",v.NB="nb",v.OTHER="other",v}(d||{}),f=function(v){return v.FORUM="FORUM",v.USER="USER",v}(f||{}),b=function(v){return v.FORUM="FORUM",v.USER="USER",v.PROFILE="PROFILE",v.ALL="ALL",v}(b||{}),D=function(v){return v.INSTALL="INSTALL",v.UNINSTALL="UNINSTALL",v}(D||{}),C=function(v){return v.QUIRKS="Quirks",v.STANDARD="Standard",v.FFMOBILE="FFMobile",v}(C||{}),w=function(v){return v.MANAGE="MANAGE",v.EDIT="EDIT",v.SETTINGS="SETTINGS",v}(w||{})},2102:(Q,I,r)=>{r.d(I,{i:()=>b});var d=r(4412),f=r(2615);let b=(()=>{var D;class C{constructor(){this.behaviorSubject=new d.t(void 0),this.state={}}get observable(){return this.behaviorSubject.asObservable()}pushEntity(v){this.behaviorSubject.next(v)}close(){this.pushEntity(void 0)}get closeOnAction(){return!0===this.state.closeOnAction}set closeOnAction(v){this.state.closeOnAction=v}static#t=D=()=>(this.\u0275fac=function(e){return new(e||C)},this.\u0275prov=f.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}))}return D(),C})()},2133:(Q,I,r)=>{r.d(I,{M:()=>d});var d=function(f){return f.SCRIPTS_ADMIN="scriptsAdmin",f.FORUM_LIST="forumList",f}(d||{})},2417:(Q,I,r)=>{r.d(I,{T:()=>b});var f=r(3664);let b=(()=>{var D;class C{transform(v){return(D=>D.startsWith("https://uploads.forumfree.it/")?D.replace("https://uploads.forumfree.it/","https://script.forumfree.it/uploadsff/"):D.startsWith("https://uploads.forumcommunity.it/")?D.replace("https://uploads.forumcommunity.it/","https://script.forumfree.it/uploadsfc/"):D.startsWith("https://uploads.blogfree.net/")?D.replace("https://uploads.blogfree.net/","https://script.forumfree.it/uploadsbf/"):D.startsWith("https://upload.forumfree.net/i/")?D.replace("https://upload.forumfree.net/i/","https://script.forumfree.it/ffupload/"):D.startsWith("https://image.forumfree.it/")?D.replace("https://image.forumfree.it/","https://script.forumfree.it/imageff/"):D.startsWith("https://image.forumcommunity.it/")?D.replace("https://image.forumcommunity.it/","https://script.forumfree.it/imagefc/"):D.startsWith("https://image.blogfree.net/")?D.replace("https://image.blogfree.net/","https://script.forumfree.it/imagebf/"):D)(v)}static#t=D=()=>(this.\u0275fac=function(e){return new(e||C)},this.\u0275pipe=f.EJ8({name:"uploadsreplace",type:C,pure:!0,standalone:!1}))}return D(),C})()},2777:(Q,I,r)=>{r.d(I,{P:()=>D});var d=r(2200),f=r(2615),b=r(3664);let D=(()=>{var C;class w{static#t=C=()=>(this.\u0275fac=function(l){return new(l||w)},this.\u0275mod=b.$C({type:w}),this.\u0275inj=f.G2t({imports:[d.MD]}))}return C(),w})()},3654:(Q,I,r)=>{r.d(I,{H4:()=>w,NI:()=>D,QE:()=>v,QW:()=>b,ql:()=>f,uL:()=>C});var d=r(1949);const f={ff500:{active:!0,id:7482873,ffuid:"ff500",name:"Nicoxys",tabs:[d.wP.FFB,d.wP.FFM,d.wP.NB,d.wP.OTHER]},ff11674905:{active:!0,id:11674905,ffuid:"ff11674905",name:"Steb",tabs:[d.wP.FFB,d.wP.FFM,d.wP.NB,d.wP.OTHER]},ff3169571:{active:!0,id:3169571,ffuid:"ff3169571",name:"Paralizer",tabs:[d.wP.FFM,d.wP.OTHER]},ff1823168:{active:!0,id:1823168,ffuid:"ff1823168",name:"Kakashi",tabs:[d.wP.NB,d.wP.OTHER]},ff7594520:{active:!0,id:7594520,ffuid:"ff7594520",name:"Kohei",tabs:[d.wP.OTHER]},ff7255317:{active:!0,id:7255317,ffuid:"ff7255317",name:"PiloZ",tabs:[d.wP.OTHER],otherTabCustom:{url:"https://graficarulez.forumfree.it",name:"GraficaRuleZ"}},ff13433781:{active:!0,id:13433781,ffuid:"ff13433781",name:"iam0day",tabs:[d.wP.OTHER],otherTabCustom:{url:"https://graficarulez.forumfree.it",name:"GraficaRuleZ"}},ff12844794:{active:!1,id:12844794,ffuid:"ff12844794",name:"Steb95FF",tabs:[d.wP.OTHER]}},b={[d.wP.FFB]:{id:d.wP.FFB,name:"FFBoard",url:"https://ffboard.forumfree.it/"},[d.wP.FFM]:{id:d.wP.FFM,name:"FFMagazine",url:"https://ffmagazine.forumfree.it/"},[d.wP.NB]:{id:d.wP.NB,name:"Newsboard",url:"https://newsboard.forumfree.it/"},[d.wP.OTHER]:{id:d.wP.OTHER,name:"Altri",url:"https://supporto.forumfree.it/"}},D={type:"card",orderBy:"az",reverse:!1,installedFirst:!0,ffmobileFirst:!1},C={redirectAfterSaving:!0},w="Nessuna descrizione disponibile.",v="/assets/default_script.png"},4522:(Q,I,r)=>{let d;function b(w){if(function f(){if(null==d){const w=typeof document<"u"?document.head:null;d=!(!w||!w.createShadowRoot&&!w.attachShadow)}return d}()){const v=w.getRootNode?w.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&v instanceof ShadowRoot)return v}return null}function D(){let w=typeof document<"u"&&document?document.activeElement:null;for(;w&&w.shadowRoot;){const v=w.shadowRoot.activeElement;if(v===w)break;w=v}return w}function C(w){return w.composedPath?w.composedPath()[0]:w.target}r.d(I,{Fb:()=>C,KT:()=>b,vc:()=>D})},4594:(Q,I,r)=>{r.r(I),r.d(I,{MainModule:()=>Ps});var d=r(2200),f=r(7640),b=r(9417),D=r(2777),C=r(9935),w=r(1171),v=r(352),e=r(3664),l=r(2615),R=r(7705),u=r(1413),N=r(9030);class st{_attachedHost;attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class pt extends st{component;viewContainerRef;injector;projectableNodes;constructor(n,t,i,o){super(),this.component=n,this.viewContainerRef=t,this.injector=i,this.projectableNodes=o}}class q extends st{templateRef;viewContainerRef;context;injector;constructor(n,t,i,o){super(),this.templateRef=n,this.viewContainerRef=t,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class vt extends st{element;constructor(n){super(),this.element=n instanceof e.aKT?n.nativeElement:n}}class rt{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof pt?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof q?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof vt?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class at extends rt{outletElement;_appRef;_defaultInjector;constructor(n,t,i){super(),this.outletElement=n,this._appRef=t,this._defaultInjector=i}attachComponentPortal(n){let t;if(n.viewContainerRef){const i=n.injector||n.viewContainerRef.injector,o=i.get(e.Ab1,null,{optional:!0})||void 0;t=n.viewContainerRef.createComponent(n.component,{index:n.viewContainerRef.length,injector:i,ngModuleRef:o,projectableNodes:n.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{const i=this._appRef,o=n.injector||this._defaultInjector||l.zZn.NULL,a=o.get(l.uvJ,i.injector);t=(0,R.a0P)(n.component,{elementInjector:o,environmentInjector:a,projectableNodes:n.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=n,t}attachTemplatePortal(n){let t=n.viewContainerRef,i=t.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(i);-1!==o&&t.remove(o)}),this._attachedPortal=n,i}attachDomPortal=n=>{const t=n.element,i=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=n,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let P=(()=>{class s extends rt{_moduleRef=(0,l.WQX)(e.Ab1,{optional:!0});_document=(0,l.WQX)(l.qQL);_viewContainerRef=(0,l.WQX)(e.c1b);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new e.bkB;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=i.createComponent(t.component,{index:i.length,injector:t.injector||i.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=t=>{const i=t.element,o=this._document.createComment("dom-portal");t.setAttachedHost(this),i.parentNode.insertBefore(o,i),this._getRootNode().appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(i,o)})};_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(i){return new(i||s)};static \u0275dir=e.FsC({type:s,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.Vt3]})}return s})(),_=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.$C({type:s});static \u0275inj=l.G2t({})}return s})();var m=r(9842),g=r(8968);let x=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,o){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}\n"],encapsulation:2,changeDetection:0})}return s})();var F=r(4330);let V=(()=>{class s{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),et=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.$C({type:s});static \u0275inj=l.G2t({providers:[V]})}return s})(),it=(()=>{class s{_platform=(0,l.WQX)(m.O);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Rt(s){return!!(s.offsetWidth||s.offsetHeight||"function"==typeof s.getClientRects&&s.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Ct(s){try{return s.frameElement}catch{return null}}(function de(s){return s.ownerDocument&&s.ownerDocument.defaultView||window}(t));if(i&&(-1===Et(i)||!this.isVisible(i)))return!1;let o=t.nodeName.toLowerCase(),a=Et(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function zt(s){let n=s.nodeName.toLowerCase(),t="input"===n&&s.type;return"text"===t||"password"===t||"select"===n||"textarea"===n}(t))&&("audio"===o?!!t.hasAttribute("controls")&&-1!==a:"video"===o?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function ce(s){return!function ft(s){return function ae(s){return"input"==s.nodeName.toLowerCase()}(s)&&"hidden"==s.type}(s)&&(function nt(s){let n=s.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(s)||function re(s){return function le(s){return"a"==s.nodeName.toLowerCase()}(s)&&s.hasAttribute("href")}(s)||s.hasAttribute("contenteditable")||Xt(s))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Xt(s){if(!s.hasAttribute("tabindex")||void 0===s.tabIndex)return!1;let n=s.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function Et(s){if(!Xt(s))return null;const n=parseInt(s.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class he{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_enabled=!0;constructor(n,t,i,o,a=!1,p){this._element=n,this._checker=t,this._ngZone=i,this._document=o,this._injector=p,a||this.attachAnchors()}destroy(){const n=this._startAnchor,t=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const t=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(n),!!i}return t.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const t=this._getRegionBoundary("start");return t&&t.focus(n),!!t}focusLastTabbableElement(n){const t=this._getRegionBoundary("end");return t&&t.focus(n),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const t=n.children;for(let i=0;i<t.length;i++){const o=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(o)return o}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const t=n.children;for(let i=t.length-1;i>=0;i--){const o=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(o)return o}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,t){n?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._injector?(0,e.mal)(n,{injector:this._injector}):setTimeout(n)}}let Lt=(()=>{class s{_checker=(0,l.WQX)(it);_ngZone=(0,l.WQX)(e.SKi);_document=(0,l.WQX)(l.qQL);_injector=(0,l.WQX)(l.zZn);constructor(){(0,l.WQX)(g.l).load(x)}create(t,i=!1){return new he(t,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var St=function(s){return s[s.NONE=0]="NONE",s[s.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",s[s.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",s}(St||{});const Mt="cdk-high-contrast-black-on-white",kt="cdk-high-contrast-white-on-black",Bt="cdk-high-contrast-active";let Ut=(()=>{class s{_platform=(0,l.WQX)(m.O);_hasCheckedHighContrastMode;_document=(0,l.WQX)(l.qQL);_breakpointSubscription;constructor(){this._breakpointSubscription=(0,l.WQX)(F.Q).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return St.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return St.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return St.BLACK_ON_WHITE}return St.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Bt,Mt,kt),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===St.BLACK_ON_WHITE?t.add(Bt,Mt):i===St.WHITE_ON_BLACK&&t.add(Bt,kt)}}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Gt=(()=>{class s{constructor(){(0,l.WQX)(Ut)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.$C({type:s});static \u0275inj=l.G2t({imports:[et]})}return s})();var Qt=r(4412),fe=r(7673),me=r(5245),ge=r(3294),dt=r(6977),$t=r(5735),yt=r(4522);let Nt;function Ai(s){return function Ti(){if(null==Nt&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nt=!0}))}finally{Nt=Nt||!1}return Nt}()?s:!!s.capture}var Vt=r(7847);const xi=new l.nKC("cdk-input-modality-detector-options"),ki={ignoreKeys:[18,17,224,91,16]},_e={passive:!0,capture:!0};let Pi=(()=>{class s{_platform=(0,l.WQX)(m.O);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Qt.t(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,yt.Fb)(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next((0,$t._)(t)?"keyboard":"mouse"),this._mostRecentTarget=(0,yt.Fb)(t))};_onTouchstart=t=>{(0,$t.w)(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,yt.Fb)(t))};constructor(){const t=(0,l.WQX)(e.SKi),i=(0,l.WQX)(l.qQL),o=(0,l.WQX)(xi,{optional:!0});if(this._options={...ki,...o},this.modalityDetected=this._modality.pipe((0,me.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ge.F)()),this._platform.isBrowser){const a=(0,l.WQX)(e._9s).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[a.listen(i,"keydown",this._onKeydown,_e),a.listen(i,"mousedown",this._onMousedown,_e),a.listen(i,"touchstart",this._onTouchstart,_e)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Kt=function(s){return s[s.IMMEDIATE=0]="IMMEDIATE",s[s.EVENTUAL=1]="EVENTUAL",s}(Kt||{});const Fi=new l.nKC("cdk-focus-monitor-default-options"),Yt=Ai({passive:!0,capture:!0});let ze=(()=>{class s{_ngZone=(0,l.WQX)(e.SKi);_platform=(0,l.WQX)(m.O);_inputModalityDetector=(0,l.WQX)(Pi);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=(0,l.WQX)(l.qQL);_stopInputModalityDetector=new u.B;constructor(){const t=(0,l.WQX)(Fi,{optional:!0});this._detectionMode=t?.detectionMode||Kt.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{for(let o=(0,yt.Fb)(t);o;o=o.parentElement)"focus"===t.type?this._onFocus(t,o):this._onBlur(t,o)};monitor(t,i=!1){const o=(0,Vt.i8)(t);if(!this._platform.isBrowser||1!==o.nodeType)return(0,fe.of)();const a=(0,yt.KT)(o)||this._document,p=this._elementInfo.get(o);if(p)return i&&(p.checkChildren=!0),p.subject;const y={checkChildren:i,subject:new u.B,rootNode:a};return this._elementInfo.set(o,y),this._registerGlobalListeners(y),y.subject}stopMonitoring(t){const i=(0,Vt.i8)(t),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(t,i,o){const a=(0,Vt.i8)(t);a===this._document.activeElement?this._getClosestElementsInfo(a).forEach(([y,k])=>this._originChanged(y,i,k)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Kt.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===Kt.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const o=this._elementInfo.get(i),a=(0,yt.Fb)(t);!o||!o.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),o)}_onBlur(t,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Yt),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Yt)}),this._rootNodeFocusListenerCount.set(i,o+1),1===++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,dt.Q)(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Yt),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Yt),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,o){this._setClasses(t,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((o,a)=>{(a===t||o.checkChildren&&a.contains(t))&&i.push([a,o])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let p=0;p<a.length;p++)if(a[p].contains(i))return!0;return!1}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function ve(s,...n){return n.length?n.some(t=>s[t]):s.altKey||s.shiftKey||s.ctrlKey||s.metaKey}var ye=r(9172),jt=r(6697),Ii=r(7303);function He(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Ue=r(8359);function ct(s){return null==s?"":"string"==typeof s?s:`${s}px`}var Ge=r(408),ht=r(9944),Li=r(7860),_t=r(5964),Qe=r(9726),Zt=r(1577),be=r(8203);const $e=(0,Li.CZ)();function Ce(s){return new Bi(s.get(ht.Xj),s.get(l.qQL))}class Bi{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(n,t){this._viewportRuler=n,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=ct(-this._previousScrollPosition.left),n.style.top=ct(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,o=this._document.body.style,a=i.scrollBehavior||"",p=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),$e&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$e&&(i.scrollBehavior=a,o.scrollBehavior=p)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Vi{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(n,t,i,o){this._scrollDispatcher=n,this._ngZone=t,this._viewportRuler=i,this._config=o}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe((0,_t.p)(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}class Se{enable(){}disable(){}attach(){}}function we(s,n){return n.some(t=>s.bottom<t.top||s.top>t.bottom||s.right<t.left||s.left>t.right)}function Ke(s,n){return n.some(t=>s.top<t.top||s.bottom>t.bottom||s.left<t.left||s.right>t.right)}function Oe(s,n){return new ji(s.get(ht.R),s.get(ht.Xj),s.get(e.SKi),n)}class ji{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(n,t,i,o){this._scrollDispatcher=n,this._viewportRuler=t,this._ngZone=i,this._config=o}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();we(t,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Wi=(()=>{class s{_injector=(0,l.WQX)(l.zZn);constructor(){}noop=()=>new Se;close=t=>function Ni(s,n){return new Vi(s.get(ht.R),s.get(e.SKi),s.get(ht.Xj),n)}(this._injector,t);block=()=>Ce(this._injector);reposition=t=>Oe(this._injector,t);static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class Ye{positionStrategy;scrollStrategy=new Se;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(n){if(n){const t=Object.keys(n);for(const i of t)void 0!==n[i]&&(this[i]=n[i])}}}class Xi{connectionPair;scrollableViewProperties;constructor(n,t){this.connectionPair=n,this.scrollableViewProperties=t}}let Ze=(()=>{class s{_attachedOverlays=[];_document=(0,l.WQX)(l.qQL);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),zi=(()=>{class s extends Ze{_ngZone=(0,l.WQX)(e.SKi);_renderer=(0,l.WQX)(e._9s).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{const i=this._attachedOverlays;for(let o=i.length-1;o>-1;o--)if(i[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[o]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(s)))(o||s)}})();static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Hi=(()=>{class s extends Ze{_platform=(0,l.WQX)(m.O);_ngZone=(0,l.WQX)(e.SKi);_renderer=(0,l.WQX)(e._9s).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){const i=this._document.body,o={capture:!0},a=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[a.listen(i,"pointerdown",this._pointerDownListener,o),a.listen(i,"click",this._clickListener,o),a.listen(i,"auxclick",this._clickListener,o),a.listen(i,"contextmenu",this._clickListener,o)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=(0,yt.Fb)(t)};_clickListener=t=>{const i=(0,yt.Fb)(t),o="click"===t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let p=a.length-1;p>-1;p--){const y=a[p];if(y._outsidePointerEvents.observers.length<1||!y.hasAttached())continue;if(Je(y.overlayElement,i)||Je(y.overlayElement,o))break;const k=y._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>k.next(t)):k.next(t)}};static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(s)))(o||s)}})();static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Je(s,n){const t=typeof ShadowRoot<"u"&&ShadowRoot;let i=n;for(;i;){if(i===s)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}let qe=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,o){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}\n"],encapsulation:2,changeDetection:0})}return s})(),Ee=(()=>{class s{_platform=(0,l.WQX)(m.O);_containerElement;_document=(0,l.WQX)(l.qQL);_styleLoader=(0,l.WQX)(g.l);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||He()){const o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<o.length;a++)o[a].remove()}const i=this._document.createElement("div");i.classList.add(t),He()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(qe)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class Ui{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(n,t,i,o){this._renderer=t,this._ngZone=i,this.element=n.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{const n=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(n,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),n.style.pointerEvents="none",n.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}}class ti{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new u.B;_attachments=new u.B;_detachments=new u.B;_positionStrategy;_scrollStrategy;_locationChanges=Ue.yU.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new u.B;_outsidePointerEvents=new u.B;_afterNextRenderRef;constructor(n,t,i,o,a,p,y,k,G,W=!1,tt,bt){this._portalOutlet=n,this._host=t,this._pane=i,this._config=o,this._ngZone=a,this._keyboardDispatcher=p,this._document=y,this._location=k,this._outsideClickDispatcher=G,this._animationsDisabled=W,this._injector=tt,this._renderer=bt,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=(0,e.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,n&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=ct(this._config.width),n.height=ct(this._config.height),n.minWidth=ct(this._config.minWidth),n.minHeight=ct(this._config.minHeight),n.maxWidth=ct(this._config.maxWidth),n.maxHeight=ct(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Ui(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(n))}):this._backdropRef.element.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(n,t,i){const o=(0,Ge.F)(t||[]).filter(a=>!!a);o.length&&(i?n.classList.add(...o):n.classList.remove(...o))}_detachContentWhenEmpty(){let n=!1;try{this._detachContentAfterRenderRef=(0,e.mal)(()=>{n=!0,this._detachContent()},{injector:this._injector})}catch(t){if(n)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){const n=this._scrollStrategy;n?.disable(),n?.detach?.()}}const ei="cdk-overlay-connected-position-bounding-box",Gi=/([A-Za-z%]+)$/;class $i{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new u.B;_resizeSubscription=Ue.yU.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(n,t,i,o,a){this._viewportRuler=t,this._document=i,this._platform=o,this._overlayContainer=a,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(ei),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,t=this._overlayRect,i=this._viewportRect,o=this._containerRect,a=[];let p;for(let y of this._preferredPositions){let k=this._getOriginPoint(n,o,y),G=this._getOverlayPoint(k,t,y),W=this._getOverlayFit(G,t,i,y);if(W.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(y,k);this._canFitWithFlexibleDimensions(W,G,i)?a.push({position:y,origin:k,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(k,y)}):(!p||p.overlayFit.visibleArea<W.visibleArea)&&(p={overlayFit:W,overlayPoint:G,originPoint:k,position:y,overlayRect:t})}if(a.length){let y=null,k=-1;for(const G of a){const W=G.boundingBoxRect.width*G.boundingBoxRect.height*(G.position.weight||1);W>k&&(k=W,y=G)}return this._isPushed=!1,void this._applyPosition(y.position,y.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(p.position,p.originPoint);this._applyPosition(p.position,p.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ei),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,t)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,t,i){let o,a;if("center"==i.originX)o=n.left+n.width/2;else{const p=this._isRtl()?n.right:n.left,y=this._isRtl()?n.left:n.right;o="start"==i.originX?p:y}return t.left<0&&(o-=t.left),a="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,t.top<0&&(a-=t.top),{x:o,y:a}}_getOverlayPoint(n,t,i){let o,a;return o="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:n.x+o,y:n.y+a}}_getOverlayFit(n,t,i,o){const a=ni(t);let{x:p,y}=n,k=this._getOffset(o,"x"),G=this._getOffset(o,"y");k&&(p+=k),G&&(y+=G);let bt=0-y,mt=y+a.height-i.height,ut=this._subtractOverflows(a.width,0-p,p+a.width-i.width),Ot=this._subtractOverflows(a.height,bt,mt),Di=ut*Ot;return{visibleArea:Di,isCompletelyWithinViewport:a.width*a.height===Di,fitsInViewportVertically:Ot===a.height,fitsInViewportHorizontally:ut==a.width}}_canFitWithFlexibleDimensions(n,t,i){if(this._hasFlexibleDimensions){const o=i.bottom-t.y,a=i.right-t.x,p=ii(this._overlayRef.getConfig().minHeight),y=ii(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=p&&p<=o)&&(n.fitsInViewportHorizontally||null!=y&&y<=a)}return!1}_pushOverlayOnScreen(n,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const o=ni(t),a=this._viewportRect,p=Math.max(n.x+o.width-a.width,0),y=Math.max(n.y+o.height-a.height,0),k=Math.max(a.top-i.top-n.y,0),G=Math.max(a.left-i.left-n.x,0);let W=0,tt=0;return W=o.width<=a.width?G||-p:n.x<this._viewportMargin?a.left-i.left-n.x:0,tt=o.height<=a.height?k||-y:n.y<this._viewportMargin?a.top-i.top-n.y:0,this._previousPushAmount={x:W,y:tt},{x:n.x+W,y:n.y+tt}}_applyPosition(n,t){if(this._setTransformOrigin(n),this._setOverlayElementStyles(t,n),this._setBoundingBoxStyles(t,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!function Ki(s,n){return s===n||s.isOriginClipped===n.isOriginClipped&&s.isOriginOutsideView===n.isOriginOutsideView&&s.isOverlayClipped===n.isOverlayClipped&&s.isOverlayOutsideView===n.isOverlayOutsideView}(this._lastScrollVisibility,i)){const o=new Xi(n,i);this._positionChanges.next(o)}this._lastScrollVisibility=i}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,o=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(n,t){const i=this._viewportRect,o=this._isRtl();let a,p,y,W,tt,bt;if("top"===t.overlayY)p=n.y,a=i.height-p+this._viewportMargin;else if("bottom"===t.overlayY)y=i.height-n.y+2*this._viewportMargin,a=i.height-y+this._viewportMargin;else{const mt=Math.min(i.bottom-n.y+i.top,n.y),ut=this._lastBoundingBoxSize.height;a=2*mt,p=n.y-mt,a>ut&&!this._isInitialRender&&!this._growAfterOpen&&(p=n.y-ut/2)}if("end"===t.overlayX&&!o||"start"===t.overlayX&&o)bt=i.width-n.x+2*this._viewportMargin,W=n.x-this._viewportMargin;else if("start"===t.overlayX&&!o||"end"===t.overlayX&&o)tt=n.x,W=i.right-n.x;else{const mt=Math.min(i.right-n.x+i.left,n.x),ut=this._lastBoundingBoxSize.width;W=2*mt,tt=n.x-mt,W>ut&&!this._isInitialRender&&!this._growAfterOpen&&(tt=n.x-ut/2)}return{top:p,left:tt,bottom:y,right:bt,width:W,height:a}}_setBoundingBoxStyles(n,t){const i=this._calculateBoundingBoxRect(n,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,p=this._overlayRef.getConfig().maxWidth;o.height=ct(i.height),o.top=ct(i.top),o.bottom=ct(i.bottom),o.width=ct(i.width),o.left=ct(i.left),o.right=ct(i.right),o.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",o.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(o.maxHeight=ct(a)),p&&(o.maxWidth=ct(p))}this._lastBoundingBoxSize=i,Tt(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Tt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,t){const i={},o=this._hasExactPosition(),a=this._hasFlexibleDimensions,p=this._overlayRef.getConfig();if(o){const W=this._viewportRuler.getViewportScrollPosition();Tt(i,this._getExactOverlayY(t,n,W)),Tt(i,this._getExactOverlayX(t,n,W))}else i.position="static";let y="",k=this._getOffset(t,"x"),G=this._getOffset(t,"y");k&&(y+=`translateX(${k}px) `),G&&(y+=`translateY(${G}px)`),i.transform=y.trim(),p.maxHeight&&(o?i.maxHeight=ct(p.maxHeight):a&&(i.maxHeight="")),p.maxWidth&&(o?i.maxWidth=ct(p.maxWidth):a&&(i.maxWidth="")),Tt(this._pane.style,i)}_getExactOverlayY(n,t,i){let o={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===n.overlayY?o.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":o.top=ct(a.y),o}_getExactOverlayX(n,t,i){let p,o={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),p=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===p?o.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":o.left=ct(a.x),o}_getScrollVisibility(){const n=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ke(n,i),isOriginOutsideView:we(n,i),isOverlayClipped:Ke(t,i),isOverlayOutsideView:we(t,i)}}_subtractOverflows(n,...t){return t.reduce((i,o)=>i-Math.max(o,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:n-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,t){return"x"===t?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&(0,Ge.F)(n).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof e.aKT)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const t=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+t,height:i,width:t}}}function Tt(s,n){for(let t in n)n.hasOwnProperty(t)&&(s[t]=n[t]);return s}function ii(s){if("number"!=typeof s&&null!=s){const[n,t]=s.split(Gi);return t&&"px"!==t?null:parseFloat(n)}return s||null}function ni(s){return{top:Math.floor(s.top),right:Math.floor(s.right),bottom:Math.floor(s.bottom),left:Math.floor(s.left),width:Math.floor(s.width),height:Math.floor(s.height)}}const si="cdk-global-overlay-wrapper";function De(s){return new Yi}class Yi{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(n){const t=n.getConfig();this._overlayRef=n,this._width&&!t.width&&n.updateSize({width:this._width}),this._height&&!t.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(si),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:a,maxWidth:p,maxHeight:y}=i,k=!("100%"!==o&&"100vw"!==o||p&&"100%"!==p&&"100vw"!==p),G=!("100%"!==a&&"100vh"!==a||y&&"100%"!==y&&"100vh"!==y),W=this._xPosition,tt=this._xOffset,bt="rtl"===this._overlayRef.getConfig().direction;let mt="",ut="",Ot="";k?Ot="flex-start":"center"===W?(Ot="center",bt?ut=tt:mt=tt):bt?"left"===W||"end"===W?(Ot="flex-end",mt=tt):("right"===W||"start"===W)&&(Ot="flex-start",ut=tt):"left"===W||"start"===W?(Ot="flex-start",mt=tt):("right"===W||"end"===W)&&(Ot="flex-end",ut=tt),n.position=this._cssPosition,n.marginLeft=k?"0":mt,n.marginTop=G?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=k?"0":ut,t.justifyContent=Ot,t.alignItems=G?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(si),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let Zi=(()=>{class s{_injector=(0,l.WQX)(l.zZn);constructor(){}global(){return De()}flexibleConnectedTo(t){return function Qi(s,n){return new $i(n,s.get(ht.Xj),s.get(l.qQL),s.get(m.O),s.get(Ee))}(this._injector,t)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function oi(s,n){s.get(g.l).load(qe);const t=s.get(Ee),i=s.get(l.qQL),o=s.get(Qe.g),a=s.get(e.o8S),p=s.get(Zt.dS),y=i.createElement("div"),k=i.createElement("div");k.id=o.getId("cdk-overlay-"),k.classList.add("cdk-overlay-pane"),y.appendChild(k),t.getContainerElement().appendChild(y);const G=new at(k,a,s),W=new Ye(n),tt=s.get(e.sFG,null,{optional:!0})||s.get(e._9s).createRenderer(null,null);return W.direction=W.direction||p.value,new ti(G,y,k,W,s.get(e.SKi),s.get(zi),i,s.get(Ii.aZ),s.get(Hi),n?.disableAnimations??"NoopAnimations"===s.get(e.bc$,null,{optional:!0}),s.get(l.uvJ),tt)}let Ji=(()=>{class s{scrollStrategies=(0,l.WQX)(Wi);_positionBuilder=(0,l.WQX)(Zi);_injector=(0,l.WQX)(l.zZn);constructor(){}create(t){return oi(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const en={provide:new l.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const s=(0,l.WQX)(l.zZn);return()=>Oe(s)}}),useFactory:function tn(s){const n=(0,l.WQX)(l.zZn);return()=>Oe(n)}};let nn=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.$C({type:s});static \u0275inj=l.G2t({providers:[Ji,en],imports:[be.jI,_,ht.E9,ht.E9]})}return s})();function sn(s,n){}class Jt{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext}let ri=(()=>{class s extends rt{_elementRef=(0,l.WQX)(e.aKT);_focusTrapFactory=(0,l.WQX)(Lt);_config;_interactivityChecker=(0,l.WQX)(it);_ngZone=(0,l.WQX)(e.SKi);_focusMonitor=(0,l.WQX)(ze);_renderer=(0,l.WQX)(e.sFG);_changeDetectorRef=(0,l.WQX)(R.gRc);_injector=(0,l.WQX)(l.zZn);_platform=(0,l.WQX)(m.O);_document=(0,l.WQX)(l.qQL);_portalOutlet;_focusTrapped=new u.B;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=(0,l.WQX)(Jt,{optional:!0})||new Jt,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}attachDomPortal=t=>{this._portalOutlet.hasAttached();const i=this._portalOutlet.attachDomPortal(t);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{a(),p(),t.removeAttribute("tabindex")},a=this._renderer.listen(t,"blur",o),p=this._renderer.listen(t,"mousedown",o)})),t.focus(i)}_focusByCssSelector(t,i){let o=this._elementRef.nativeElement.querySelector(t);o&&this._forceFocus(o,i)}_trapFocus(t){this._isDestroyed||(0,e.mal)(()=>{const i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(t);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(t)||this._focusDialogContainer(t);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',t);break;default:this._focusByCssSelector(this._config.autoFocus,t)}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const o=(0,yt.vc)(),a=this._elementRef.nativeElement;(!o||o===this._document.body||o===a||a.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(t){this._elementRef.nativeElement.focus?.(t)}_containsFocus(){const t=this._elementRef.nativeElement,i=(0,yt.vc)();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,yt.vc)()))}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.VBU({type:s,selectors:[["cdk-dialog-container"]],viewQuery:function(i,o){if(1&i&&e.GBs(P,7),2&i){let a;e.mGM(a=e.lsd())&&(o._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,o){2&i&&e.BMQ("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[e.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){1&i&&e.DNE(0,sn,0,0,"ng-template",0)},dependencies:[P],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}\n"],encapsulation:2})}return s})();class Re{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new u.B;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(n,t){this.overlayRef=n,this.config=t,this.disableClose=t.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ve(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=n.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(n,t){if(this._canClose(n)){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(n),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",t=""){return this.overlayRef.updateSize({width:n,height:t}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}_canClose(n){const t=this.config;return!!this.containerInstance&&(!t.closePredicate||t.closePredicate(n,t,this.componentInstance))}}const on=new l.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const s=(0,l.WQX)(l.zZn);return()=>Ce(s)}}),rn=new l.nKC("DialogData"),an=new l.nKC("DefaultDialogConfig");function ln(s){const n=(0,l.vPA)(s),t=new e.bkB;return{valueSignal:n,get value(){return n()},change:t,ngOnDestroy(){t.complete()}}}let ai=(()=>{class s{_injector=(0,l.WQX)(l.zZn);_defaultOptions=(0,l.WQX)(an,{optional:!0});_parentDialog=(0,l.WQX)(s,{optional:!0,skipSelf:!0});_overlayContainer=(0,l.WQX)(Ee);_idGenerator=(0,l.WQX)(Qe.g);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new u.B;_afterOpenedAtThisLevel=new u.B;_ariaHiddenElements=new Map;_scrollStrategy=(0,l.WQX)(on);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=(0,N.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ye.Z)(void 0)));constructor(){}open(t,i){(i={...this._defaultOptions||new Jt,...i}).id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),p=oi(this._injector,a),y=new Re(p,i),k=this._attachContainer(p,y,i);if(y.containerInstance=k,!this.openDialogs.length){const G=this._overlayContainer.getContainerElement();k._focusTrapped?k._focusTrapped.pipe((0,jt.s)(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(G)}):this._hideNonDialogContentFromAssistiveTechnology(G)}return this._attachDialogContent(t,y,k,i),this.openDialogs.push(y),y.closed.subscribe(()=>this._removeOpenDialog(y,!0)),this.afterOpened.next(y),y}closeAll(){Me(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){Me(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),Me(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new Ye({positionStrategy:t.positionStrategy||De().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation,disableAnimations:t.disableAnimations});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,o){const a=o.injector||o.viewContainerRef?.injector,p=[{provide:Jt,useValue:o},{provide:Re,useValue:i},{provide:ti,useValue:t}];let y;o.container?"function"==typeof o.container?y=o.container:(y=o.container.type,p.push(...o.container.providers(o))):y=ri;const k=new pt(y,o.viewContainerRef,l.zZn.create({parent:a||this._injector,providers:p}));return t.attach(k).instance}_attachDialogContent(t,i,o,a){if(t instanceof e.C4Q){const p=this._createInjector(a,i,o,void 0);let y={$implicit:a.data,dialogRef:i};a.templateContext&&(y={...y,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),o.attachTemplatePortal(new q(t,null,y,p))}else{const p=this._createInjector(a,i,o,this._injector),y=o.attachComponentPortal(new pt(t,a.viewContainerRef,p));i.componentRef=y,i.componentInstance=y.instance}}_createInjector(t,i,o,a){const p=t.injector||t.viewContainerRef?.injector,y=[{provide:rn,useValue:t.data},{provide:Re,useValue:i}];return t.providers&&("function"==typeof t.providers?y.push(...t.providers(i,t,o)):y.push(...t.providers)),t.direction&&(!p||!p.get(Zt.dS,null,{optional:!0}))&&y.push({provide:Zt.dS,useValue:ln(t.direction)}),l.zZn.create({parent:p||a,providers:y})}_removeOpenDialog(t,i){const o=this.openDialogs.indexOf(t);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,p)=>{a?p.setAttribute("aria-hidden",a):p.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(t){if(t.parentElement){const i=t.parentElement.children;for(let o=i.length-1;o>-1;o--){const a=i[o];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Me(s,n){let t=s.length;for(;t--;)n(s[t])}let cn=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.$C({type:s});static \u0275inj=l.G2t({providers:[ai],imports:[nn,_,Gt,_]})}return s})();var wt=r(9327);const dn=new l.nKC("MATERIAL_ANIMATIONS");let li=null;function Te(){return"enabled"!==function hn(){return(0,l.WQX)(dn,{optional:!0})?.animationsDisabled||"NoopAnimations"===(0,l.WQX)(e.bc$,{optional:!0})?"di-disabled":(li??=(0,l.WQX)(F.D).matchMedia("(prefers-reduced-motion)").matches,li?"reduced-motion":"enabled")}()}var ci=r(7786);let qt=(()=>{class s{constructor(){(0,l.WQX)(Ut)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.$C({type:s});static \u0275inj=l.G2t({imports:[be.jI,be.jI]})}return s})();function un(s,n){}const di="_mat-bottom-sheet-enter",hi="_mat-bottom-sheet-exit";let pn=(()=>{class s extends ri{_breakpointSubscription;_animationsDisabled=Te();_animationState="void";_animationStateChanged=new e.bkB;_destroyed;constructor(){super();const t=(0,l.WQX)(F.Q);this._breakpointSubscription=t.observe([wt.Rp.Medium,wt.Rp.Large,wt.Rp.XLarge]).subscribe(()=>{const i=this._elementRef.nativeElement.classList;i.toggle("mat-bottom-sheet-container-medium",t.isMatched(wt.Rp.Medium)),i.toggle("mat-bottom-sheet-container-large",t.isMatched(wt.Rp.Large)),i.toggle("mat-bottom-sheet-container-xlarge",t.isMatched(wt.Rp.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._animationsDisabled&&this._simulateAnimation(di))}exit(){this._destroyed||(this._elementRef.nativeElement.setAttribute("mat-exit",""),this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._animationsDisabled&&this._simulateAnimation(hi))}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_simulateAnimation(t){this._ngZone.run(()=>{this._handleAnimationEvent(!0,t),setTimeout(()=>this._handleAnimationEvent(!1,t))})}_trapFocus(){super._trapFocus({preventScroll:!0})}_handleAnimationEvent(t,i){const o=i===di;(o||i===hi)&&this._animationStateChanged.emit({toState:o?"visible":"hidden",phase:t?"start":"done"})}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.VBU({type:s,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:9,hostBindings:function(i,o){1&i&&e.bIt("animationstart",function(p){return o._handleAnimationEvent(!0,p.animationName)})("animationend",function(p){return o._handleAnimationEvent(!1,p.animationName)})("animationcancel",function(p){return o._handleAnimationEvent(!1,p.animationName)}),2&i&&(e.BMQ("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-label",o._config.ariaLabel),e.AVh("mat-bottom-sheet-container-animations-enabled",!o._animationsDisabled)("mat-bottom-sheet-container-enter","visible"===o._animationState)("mat-bottom-sheet-container-exit","hidden"===o._animationState))},features:[e.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){1&i&&e.DNE(0,un,0,0,"ng-template",0)},dependencies:[P],styles:["@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2})}return s})();const fn=new l.nKC("MatBottomSheetData");class mn{viewContainerRef;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight}class ui{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new u.B;_result;_closeFallbackTimeout;constructor(n,t,i){this._ref=n,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe((0,_t.p)(o=>"done"===o.phase&&"visible"===o.toState),(0,jt.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,_t.p)(o=>"done"===o.phase&&"hidden"===o.toState),(0,jt.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),n.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,ci.h)(this.backdropClick(),this.keydownEvents().pipe((0,_t.p)(o=>27===o.keyCode))).subscribe(o=>{!this.disableClose&&("keydown"!==o.type||!ve(o))&&(o.preventDefault(),this.dismiss())})}dismiss(n){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,_t.p)(t=>"start"===t.phase),(0,jt.s)(1)).subscribe(()=>{this._closeFallbackTimeout=setTimeout(()=>this._ref.close(this._result),500),this._ref.overlayRef.detachBackdrop()}),this._result=n,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const gn=new l.nKC("mat-bottom-sheet-default-options");let _n=(()=>{class s{_injector=(0,l.WQX)(l.zZn);_parentBottomSheet=(0,l.WQX)(s,{optional:!0,skipSelf:!0});_animationsDisabled=Te();_defaultOptions=(0,l.WQX)(gn,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=(0,l.WQX)(ai);get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(){}open(t,i){const o={...this._defaultOptions||new mn,...i};let a;return this._dialog.open(t,{...o,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:pn,scrollStrategy:o.scrollStrategy||Ce(this._injector),positionStrategy:De().centerHorizontally().bottom("0"),disableAnimations:this._animationsDisabled,templateContext:()=>({bottomSheetRef:a}),providers:(p,y,k)=>(a=new ui(p,o,k),[{provide:ui,useValue:a},{provide:fn,useValue:o.data}])}),a.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===a&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>a.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):a.containerInstance.enter(),this._openedBottomSheetRef=a,a}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(i){return new(i||s)};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),vn=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.$C({type:s});static \u0275inj=l.G2t({providers:[_n],imports:[cn,qt,_,qt]})}return s})();function Pt(s){return null!=s&&"false"!=`${s}`}var yn=r(3726),pi=r(6354),fi=r(3703),bn=r(152);const te=["*"],Cn=["content"],Sn=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],wn=["mat-drawer","mat-drawer-content","*"];function On(s,n){if(1&s){const t=e.RV6();e.j41(0,"div",1),e.bIt("click",function(){l.eBV(t);const o=e.XpG();return l.Njj(o._onBackdropClicked())}),e.k0s()}if(2&s){const t=e.XpG();e.AVh("mat-drawer-shown",t._isShowingBackdrop())}}function En(s,n){1&s&&(e.j41(0,"mat-drawer-content"),e.SdG(1,2),e.k0s())}const Dn=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Rn=["mat-sidenav","mat-sidenav-content","*"];function Mn(s,n){if(1&s){const t=e.RV6();e.j41(0,"div",1),e.bIt("click",function(){l.eBV(t);const o=e.XpG();return l.Njj(o._onBackdropClicked())}),e.k0s()}if(2&s){const t=e.XpG();e.AVh("mat-drawer-shown",t._isShowingBackdrop())}}function Tn(s,n){1&s&&(e.j41(0,"mat-sidenav-content"),e.SdG(1,2),e.k0s())}const xn=new l.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function kn(){return!1}}),Ae=new l.nKC("MAT_DRAWER_CONTAINER");let ee=(()=>{class s extends ht.uv{_platform=(0,l.WQX)(m.O);_changeDetectorRef=(0,l.WQX)(R.gRc);_container=(0,l.WQX)(ke);constructor(){super((0,l.WQX)(e.aKT),(0,l.WQX)(ht.R),(0,l.WQX)(e.SKi))}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;const{start:t,end:i}=this._container;return null!=t&&"over"!==t.mode&&t.opened||null!=i&&"over"!==i.mode&&i.opened}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.VBU({type:s,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,o){2&i&&(e.xc7("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px"),e.AVh("mat-drawer-content-hidden",o._shouldBeHidden()))},features:[e.Jv_([{provide:ht.uv,useExisting:s}]),e.Vt3],ngContentSelectors:te,decls:1,vars:0,template:function(i,o){1&i&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})}return s})(),xe=(()=>{class s{_elementRef=(0,l.WQX)(e.aKT);_focusTrapFactory=(0,l.WQX)(Lt);_focusMonitor=(0,l.WQX)(ze);_platform=(0,l.WQX)(m.O);_ngZone=(0,l.WQX)(e.SKi);_renderer=(0,l.WQX)(e.sFG);_interactivityChecker=(0,l.WQX)(it);_doc=(0,l.WQX)(l.qQL);_container=(0,l.WQX)(Ae,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Pt(t)}_disableClose=!1;get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=Pt(t)),this._autoFocus=t}_autoFocus;get opened(){return this._opened()}set opened(t){this.toggle(Pt(t))}_opened=(0,l.vPA)(!1);_openedVia;_animationStarted=new u.B;_animationEnd=new u.B;openedChange=new e.bkB(!0);_openedStream=this.openedChange.pipe((0,_t.p)(t=>t),(0,pi.T)(()=>{}));openedStart=this._animationStarted.pipe((0,_t.p)(()=>this.opened),(0,fi.u)(void 0));_closedStream=this.openedChange.pipe((0,_t.p)(t=>!t),(0,pi.T)(()=>{}));closedStart=this._animationStarted.pipe((0,_t.p)(()=>!this.opened),(0,fi.u)(void 0));_destroyed=new u.B;onPositionChanged=new e.bkB;_content;_modeChanged=new u.B;_injector=(0,l.WQX)(l.zZn);_changeDetectorRef=(0,l.WQX)(R.gRc);constructor(){this.openedChange.pipe((0,dt.Q)(this._destroyed)).subscribe(t=>{t?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{const t=this._elementRef.nativeElement;(0,yn.R)(t,"keydown").pipe((0,_t.p)(i=>27===i.keyCode&&!this.disableClose&&!ve(i)),(0,dt.Q)(this._destroyed)).subscribe(i=>this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})),this._eventCleanups=[this._renderer.listen(t,"transitionrun",this._handleTransitionEvent),this._renderer.listen(t,"transitionend",this._handleTransitionEvent),this._renderer.listen(t,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{a(),p(),t.removeAttribute("tabindex")},a=this._renderer.listen(t,"blur",o),p=this._renderer.listen(t,"mousedown",o)})),t.focus(i)}_focusByCssSelector(t,i){let o=this._elementRef.nativeElement.querySelector(t);o&&this._forceFocus(o,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,e.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof t.focus&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const o=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),o}_setOpen(t,i,o){return t===this.opened?Promise.resolve(t?"open":"close"):(this._opened.set(t),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",t),!t&&i&&this._restoreFocus(o),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,jt.s)(1)).subscribe(p=>a(p?"open":"close"))}))}_setIsAnimating(t){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",t)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;const i=this._elementRef.nativeElement,o=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,i)),o.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=t=>{t.target===this._elementRef.nativeElement&&this._ngZone.run(()=>{"transitionrun"===t.type?this._animationStarted.next(t):("transitionend"===t.type&&this._setIsAnimating(!1),this._animationEnd.next(t))})};static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.VBU({type:s,selectors:[["mat-drawer"]],viewQuery:function(i,o){if(1&i&&e.GBs(Cn,5),2&i){let a;e.mGM(a=e.lsd())&&(o._content=a.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(i,o){2&i&&(e.BMQ("align",null)("tabIndex","side"!==o.mode?"-1":null),e.xc7("visibility",o._container||o.opened?null:"hidden"),e.AVh("mat-drawer-end","end"===o.position)("mat-drawer-over","over"===o.mode)("mat-drawer-push","push"===o.mode)("mat-drawer-side","side"===o.mode))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:te,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,o){1&i&&(e.NAR(),e.j41(0,"div",1,0),e.SdG(2),e.k0s())},dependencies:[ht.uv],encapsulation:2,changeDetection:0})}return s})(),ke=(()=>{class s{_dir=(0,l.WQX)(Zt.dS,{optional:!0});_element=(0,l.WQX)(e.aKT);_ngZone=(0,l.WQX)(e.SKi);_changeDetectorRef=(0,l.WQX)(R.gRc);_animationDisabled=Te();_transitionsEnabled=!1;_allDrawers;_drawers=new e.rOR;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Pt(t)}_autosize=(0,l.WQX)(xn);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:Pt(t)}_backdropOverride;backdropClick=new e.bkB;_start;_end;_left;_right;_destroyed=new u.B;_doCheckSubject=new u.B;_contentMargins={left:null,right:null};_contentMarginChanges=new u.B;get scrollable(){return this._userContent||this._content}_injector=(0,l.WQX)(l.zZn);constructor(){const t=(0,l.WQX)(m.O),i=(0,l.WQX)(ht.Xj);this._dir?.change.pipe((0,dt.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe((0,dt.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&t.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe((0,ye.Z)(this._allDrawers),(0,dt.Q)(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,ye.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,bn.B)(10),(0,dt.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();t+=o,i-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();i+=o,t-=o}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe((0,dt.Q)(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe((0,dt.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t.onPositionChanged.pipe((0,dt.Q)(this._drawers.changes)).subscribe(()=>{(0,e.mal)({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(t){t._modeChanged.pipe((0,dt.Q)((0,ci.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,o="mat-drawer-container-has-open";t?i.add(o):i.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.VBU({type:s,selectors:[["mat-drawer-container"]],contentQueries:function(i,o,a){if(1&i&&(e.wni(a,ee,5),e.wni(a,xe,5)),2&i){let p;e.mGM(p=e.lsd())&&(o._content=p.first),e.mGM(p=e.lsd())&&(o._allDrawers=p)}},viewQuery:function(i,o){if(1&i&&e.GBs(ee,5),2&i){let a;e.mGM(a=e.lsd())&&(o._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,o){2&i&&e.AVh("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[e.Jv_([{provide:Ae,useExisting:s}])],ngContentSelectors:wn,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,o){1&i&&(e.NAR(Sn),e.nVh(0,On,1,2,"div",0),e.SdG(1),e.SdG(2,1),e.nVh(3,En,2,0,"mat-drawer-content")),2&i&&(e.vxM(o.hasBackdrop?0:-1),e.R7$(3),e.vxM(o._content?-1:3))},dependencies:[ee],styles:[".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0})}return s})(),Pe=(()=>{class s extends ee{static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(s)))(o||s)}})();static \u0275cmp=e.VBU({type:s,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[e.Jv_([{provide:ht.uv,useExisting:s}]),e.Vt3],ngContentSelectors:te,decls:1,vars:0,template:function(i,o){1&i&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})}return s})(),Fe=(()=>{class s extends xe{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Pt(t)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=(0,Vt.OE)(t)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=(0,Vt.OE)(t)}_fixedBottomGap=0;static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(s)))(o||s)}})();static \u0275cmp=e.VBU({type:s,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(i,o){2&i&&(e.BMQ("tabIndex","side"!==o.mode?"-1":null)("align",null),e.xc7("top",o.fixedInViewport?o.fixedTopGap:null,"px")("bottom",o.fixedInViewport?o.fixedBottomGap:null,"px"),e.AVh("mat-drawer-end","end"===o.position)("mat-drawer-over","over"===o.mode)("mat-drawer-push","push"===o.mode)("mat-drawer-side","side"===o.mode)("mat-sidenav-fixed",o.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[e.Jv_([{provide:xe,useExisting:s}]),e.Vt3],ngContentSelectors:te,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,o){1&i&&(e.NAR(),e.j41(0,"div",1,0),e.SdG(2),e.k0s())},dependencies:[ht.uv],encapsulation:2,changeDetection:0})}return s})(),mi=(()=>{class s extends ke{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(s)))(o||s)}})();static \u0275cmp=e.VBU({type:s,selectors:[["mat-sidenav-container"]],contentQueries:function(i,o,a){if(1&i&&(e.wni(a,Pe,5),e.wni(a,Fe,5)),2&i){let p;e.mGM(p=e.lsd())&&(o._content=p.first),e.mGM(p=e.lsd())&&(o._allDrawers=p)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,o){2&i&&e.AVh("mat-drawer-container-explicit-backdrop",o._backdropOverride)},exportAs:["matSidenavContainer"],features:[e.Jv_([{provide:Ae,useExisting:s},{provide:ke,useExisting:s}]),e.Vt3],ngContentSelectors:Rn,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,o){1&i&&(e.NAR(Dn),e.nVh(0,Mn,1,2,"div",0),e.SdG(1),e.SdG(2,1),e.nVh(3,Tn,2,0,"mat-sidenav-content")),2&i&&(e.vxM(o.hasBackdrop?0:-1),e.R7$(3),e.vxM(o._content?-1:3))},dependencies:[Pe],styles:[".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0})}return s})(),gi=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.$C({type:s});static \u0275inj=l.G2t({imports:[qt,ht.Gj,ht.Gj,qt]})}return s})();var Ft=r(3391),It=r(8132);let Pn=(()=>{var s;class n{static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275mod=e.$C({type:n}),this.\u0275inj=l.G2t({imports:[d.MD]}))}return s(),n})(),Fn=(()=>{var s;class n{static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275mod=e.$C({type:n}),this.\u0275inj=l.G2t({imports:[d.MD,v.Y,vn,Ft.HC,It.iI,gi,Pn]}))}return s(),n})();var ie=r(467),Wt=r(6350),In=r(6660),ne=r(2881),Ln=r(9763),At=r(2998),Bn=r(1729);let Nn=(()=>{var s;class n{constructor(i,o,a,p){this.forumService=i,this.profileService=o,this.globalsService=a,this.urlQueryParamsService=p}resolve(){var i=this;return(0,ie.A)(function*(){const o=i.urlQueryParamsService.getAndDeleteParam(Wt.FQ.SITE);if(!o||o===i.globalsService.forum?.hostname)return;const a=(0,At.Kv)(o);if(!a)return;let p,y=!1;return a.shortdomain===i.globalsService.credentials?.site.short&&(p=(yield i.forumService.getMyForumList()).find(k=>k.domain===a.subdomain),y=!0),!p&&i.profileService.hasAtLeastOnePermission([At.fo.SCRIPT_DEV])&&(p=yield i.forumService.getForumDetailsFromDomain(`${a.subdomain}.${a.domain}`),y=!1),p?i.forumService.createForumWithAdmin(p,a.domain,y):void 0})()}static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)(l.KVO(In.p),l.KVO(Ln.p),l.KVO(ne.k),l.KVO(Bn.v))},this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}))}return s(),n})();var xt=r(3694);let Vn=(()=>{var s;class n{show(i,o,a=!1,p={}){a&&i.clear();const y=i.createComponent(o);if(p)for(const k in p)(0,At.l$)(p,k)&&(y.instance[k]=p[k]);return y}static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}))}return s(),n})();var jn=r(7201),Wn=r(9888);let _i=(()=>{var s;class n{constructor(i){this.viewContainerRef=i}static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)(e.rXU(e.c1b))},this.\u0275dir=e.FsC({type:n,selectors:[["","appSidenavRight",""]],standalone:!1}))}return s(),n})();var Xn=r(8488),vi=r(2102),zn=r(5079),se=r(5264),Hn=r(1397);let Ie=(()=>{var s;class n{constructor(){this.toggleSubject=new u.B}get toggleObservable(){return this.toggleSubject.asObservable()}pushToggle(){this.toggleSubject.next()}static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}))}return s(),n})();var Le=r(9986),Un=r(8008),Gn=r(9079),yi=r(8493);let Qn=(()=>{var s;class n{transform(i,o,a){return i.startsWith(o,a)}static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275pipe=e.EJ8({name:"stringStartsWith",type:n,pure:!0,standalone:!1}))}return s(),n})();const $n=s=>({"justify-content-center":s}),Kn=s=>({"touch-device":s}),bi=s=>({$implicit:s}),Yn=(s,n)=>({selected:s,"is-expanded":n}),Zn=s=>({current:s}),Jn=s=>({selected:s});function qn(s,n){if(1&s){const t=e.RV6();e.j41(0,"div",8),e.bIt("click",function(){l.eBV(t);const o=e.XpG();return l.Njj(o.toggleSidenavLeft())}),e.EFF(1," close "),e.k0s()}}function ts(s,n){1&s&&e.eu8(0)}function es(s,n){if(1&s&&(e.j41(0,"li"),e.DNE(1,ts,1,0,"ng-container",9),e.k0s()),2&s){const t=n.$implicit;e.XpG();const i=e.sdS(13);e.R7$(),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,bi,t))}}function is(s,n){if(1&s&&e.nrm(0,"li",7),2&s){const t=e.XpG().$implicit;e.Y8G("innerText",t.title)}}function ns(s,n){1&s&&e.eu8(0)}function ss(s,n){if(1&s&&(e.j41(0,"li"),e.DNE(1,ns,1,0,"ng-container",9),e.k0s()),2&s){const t=n.$implicit;e.XpG(2);const i=e.sdS(13);e.R7$(),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,bi,t))}}function os(s,n){if(1&s&&(e.nVh(0,is,1,1,"li",7),e.Z7z(1,ss,2,4,"li",null,e.fX1)),2&s){const t=n.$implicit;e.vxM(t.title?0:-1),e.R7$(),e.Dyx(t.content)}}function rs(s,n){if(1&s&&(e.nrm(0,"div",13),e.j41(1,"div",14),e.EFF(2," Cambia forum "),e.k0s()),2&s){const t=e.XpG(3);e.Y8G("innerHTML",t.selectedForum.name,e.npT)}}function as(s,n){if(1&s&&e.EFF(0),2&s){const t=e.XpG(2).$implicit;e.SpI(" ",t.description," ")}}function ls(s,n){if(1&s&&e.nVh(0,rs,3,1)(1,as,1,1),2&s){const t=e.XpG(2);e.vxM(t.selectedForum?0:1)}}function cs(s,n){if(1&s&&e.nrm(0,"span",12),2&s){const t=e.XpG().$implicit;e.Y8G("innerText",t.description)}}function ds(s,n){if(1&s){const t=e.RV6();e.j41(0,"li")(1,"a",10),e.bIt("click",function(){const o=l.eBV(t).$implicit,a=e.XpG();return l.Njj(a.pushSidenavRightEntity(o.entity))}),e.j41(2,"div"),e.EFF(3),e.k0s(),e.j41(4,"div",11),e.nVh(5,ls,2,1)(6,cs,1,1,"span",12),e.k0s()()()}if(2&s){const t=n.$implicit,i=e.XpG();e.R7$(2),e.HbH(e.VkB("icon ",t.icon.type)),e.R7$(),e.SpI(" ",t.icon.value," "),e.R7$(2),e.vxM(t.type===i.sidebarTypes.FORUM?5:6)}}function hs(s,n){1&s&&(e.j41(0,"div",18)(1,"span",21),e.EFF(2,"Loading..."),e.k0s()())}function us(s,n){1&s&&(e.j41(0,"div",19),e.EFF(1,"chevron_left"),e.k0s())}function ps(s,n){if(1&s){const t=e.RV6();e.j41(0,"li")(1,"a",22),e.bIt("click",function(){l.eBV(t);const o=e.XpG(3);return l.Njj(o.toggleSidenavLeft())}),e.j41(2,"div",23),e.EFF(3),e.k0s()()()}if(2&s){const t=n.$implicit,i=e.XpG(3);e.R7$(),e.Y8G("ngClass",e.eq3(3,Zn,i.selectedPath===t.path))("routerLink",t.path),e.R7$(2),e.JRh(t.description)}}function fs(s,n){if(1&s){const t=e.RV6();e.j41(0,"a",16),e.nI1(1,"stringStartsWith"),e.bIt("click",function(){l.eBV(t);const o=e.sdS(8),a=e.XpG().$implicit,p=e.XpG();return l.Njj(p.loadSubroutes(a,o))}),e.j41(2,"div"),e.EFF(3),e.k0s(),e.nrm(4,"div",17),e.nVh(5,hs,3,0,"div",18)(6,us,2,0,"div",19),e.k0s(),e.j41(7,"ul",20,1),e.mxI("ngbCollapseChange",function(o){l.eBV(t);const a=e.XpG().$implicit;return e.DH7(a.subroutes.collapsed,o)||(a.subroutes.collapsed=o),l.Njj(o)}),e.Z7z(9,ps,4,5,"li",null,e.fX1),e.k0s()}if(2&s){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("ngClass",e.l_i(11,Yn,e.i5U(1,8,i.selectedPath,t.path),!t.subroutes.collapsed)),e.R7$(2),e.HbH(e.VkB("icon ",t.icon.type)),e.R7$(),e.JRh(t.icon.value),e.R7$(),e.Y8G("innerText",t.description),e.R7$(),e.vxM(t.subroutes.contentLoading?5:6),e.R7$(2),e.R50("ngbCollapse",t.subroutes.collapsed),e.R7$(2),e.Dyx(t.subroutes.content)}}function ms(s,n){if(1&s){const t=e.RV6();e.j41(0,"a",24),e.bIt("click",function(){l.eBV(t);const o=e.XpG(2);return l.Njj(o.toggleSidenavLeft())}),e.j41(1,"div"),e.EFF(2),e.k0s(),e.nrm(3,"div",25),e.k0s()}if(2&s){const t=e.XpG().$implicit,i=e.XpG();e.Y8G("ngClass",e.eq3(7,Jn,i.selectedPath===t.path))("routerLink",t.path),e.R7$(),e.HbH(e.VkB("icon ",t.icon.type)),e.R7$(),e.JRh(t.icon.value),e.R7$(),e.Y8G("innerText",t.description)}}function gs(s,n){1&s&&e.nVh(0,fs,11,14)(1,ms,4,9,"a",15),2&s&&e.vxM(n.$implicit.subroutes?0:1)}let _s=(()=>{var s;class n{constructor(i,o,a,p){this.sidenavRightService=i,this.sidenavLeftService=o,this.injector=a,this.destroyRef=p,this.groups=[],this.items=[],this.selectedPath="",this.isSmallScreen=!1,this.sidebarItems=se.CJ,this.sidebarTypes=Un.J,this.touchDevice=Le.CN}pushSidenavRightEntity(i){this.sidenavRightService.pushEntity({entity:i})}toggleSidenavLeft(){this.isSmallScreen&&this.sidenavLeftService.pushToggle()}loadSubroutes(i,o){var a=this;return(0,ie.A)(function*(){if(i.subroutes?.content||!i.subroutes?.collapsed)return void o.toggle();if(!i.subroutes.loadContent||i.subroutes.contentLoading)return;i.subroutes.content=[],i.subroutes.contentLoading=!0;const p=i.subroutes.loadContent;(yield(0,l.N4e)(a.injector,(0,ie.A)(function*(){return p()}))).pipe((0,Gn.pQ)(a.destroyRef)).subscribe(k=>{i.subroutes&&(i.subroutes.content=k)}),i.subroutes.contentLoading=!1,yield new Promise(k=>setTimeout(k,100)),o.toggle()})()}static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)(e.rXU(vi.i),e.rXU(Ie),e.rXU(l.uvJ),e.rXU(l.abz))},this.\u0275cmp=e.VBU({type:n,selectors:[["app-side-nav"]],inputs:{groups:"groups",items:"items",selectedPath:"selectedPath",selectedForum:"selectedForum",isSmallScreen:"isSmallScreen"},standalone:!1,decls:14,vars:9,consts:[["navItemTemplate",""],["collapse","ngbCollapse"],[1,"text-white","mt-4","mb-3","logo-wrapper","position-relative","d-flex","align-items-center",3,"ngClass"],[3,"svgSize"],[1,"material-icons","ms-auto","cursor-pointer","sidenav-btn"],[3,"ngClass"],[1,"nav","flex-column"],[1,"group-title",3,"innerText"],[1,"material-icons","ms-auto","cursor-pointer","sidenav-btn",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","button",1,"button-item","d-flex","align-items-center",3,"click"],[1,"description"],[3,"innerText"],[1,"selected-forum-name","text-truncate","position-relative",3,"innerHTML"],[1,"change-forum","fst-italic","lh-1"],["role","button",1,"router-item","d-flex","align-items-center",3,"ngClass","routerLink"],["role","button",1,"router-item","d-flex","align-items-center","w-100","collapse-btn",3,"click","ngClass"],[1,"description","me-auto",3,"innerText"],["role","status",1,"spinner-border","spinner-border-sm","subroutes-spinner","me-1"],[1,"collapse-icon","material-icons"],[1,"list-unstyled","collapse-content",3,"ngbCollapseChange","ngbCollapse"],[1,"visually-hidden"],["role","button",1,"sub-router-item","d-block",3,"click","ngClass","routerLink"],[1,"description","text-truncate"],["role","button",1,"router-item","d-flex","align-items-center",3,"click","ngClass","routerLink"],[1,"description",3,"innerText"]],template:function(o,a){1&o&&(e.j41(0,"div",2),e.nrm(1,"app-logo",3),e.nVh(2,qn,2,0,"div",4),e.k0s(),e.j41(3,"nav",5)(4,"ul",6),e.Z7z(5,es,2,4,"li",null,e.fX1),e.Z7z(7,os,3,1,null,null,e.fX1),e.nrm(9,"li",7),e.Z7z(10,ds,7,5,"li",null,e.fX1),e.k0s()(),e.DNE(12,gs,2,1,"ng-template",null,0,e.C5r)),2&o&&(e.Y8G("ngClass",e.eq3(5,$n,!a.isSmallScreen)),e.R7$(),e.Y8G("svgSize",a.isSmallScreen?"md":"lg"),e.R7$(),e.vxM(a.isSmallScreen?2:-1),e.R7$(),e.Y8G("ngClass",e.eq3(7,Kn,a.touchDevice)),e.R7$(2),e.Dyx(a.items),e.R7$(2),e.Dyx(a.groups),e.R7$(2),e.Y8G("innerText","Sidenav"),e.R7$(),e.Dyx(a.sidebarItems))},dependencies:[d.YU,d.T3,yi.Z,Ft.$G,It.Wk,Qn],styles:["[_nghost-%COMP%]{display:block;width:100%;background-color:#303844;height:100%;overflow-y:auto}.sidenav-btn[_ngcontent-%COMP%]{color:#8190a1}.logo-wrapper[_ngcontent-%COMP%]{left:-3px;padding:0 1.25rem}.selected-forum-name[_ngcontent-%COMP%]{top:-3px}li[_ngcontent-%COMP%]{position:relative;max-width:100%}li.group-title[_ngcontent-%COMP%]{padding:.75rem 1.25rem;text-transform:uppercase;font-size:.8rem;letter-spacing:.06em;font-weight:600;color:#8190a1}a[_ngcontent-%COMP%]{transition:color .3s!important;outline:none!important}a.router-item[_ngcontent-%COMP%], a.button-item[_ngcontent-%COMP%], a.sub-router-item[_ngcontent-%COMP%]{color:#8190a1}a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px;text-align:left;flex-shrink:0;display:flex}a[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{transition:margin .3s;white-space:nowrap}a[_ngcontent-%COMP%]:not(.sub-router-item)   .description[_ngcontent-%COMP%]{max-width:calc(100% - 45px - .5rem)}a.sub-router-item[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{max-width:calc(100% - .5rem)}a[_ngcontent-%COMP%]   .change-forum[_ngcontent-%COMP%]{font-size:.8em}a[_ngcontent-%COMP%]:not(.sub-router-item){padding:.625rem 1.25rem}a.router-item.selected[_ngcontent-%COMP%]{color:#fff}a.collapse-btn.is-expanded[_ngcontent-%COMP%]:not(.selected){color:#bbcde3}nav[_ngcontent-%COMP%]:not(.touch-device)   a.button-item[_ngcontent-%COMP%]:hover, nav[_ngcontent-%COMP%]:not(.touch-device)   a.router-item[_ngcontent-%COMP%]:not(.selected):hover, nav[_ngcontent-%COMP%]:not(.touch-device)   a.sub-router-item[_ngcontent-%COMP%]:not(.current):hover{color:#bbcde3}nav[_ngcontent-%COMP%]:not(.touch-device)   a.button-item[_ngcontent-%COMP%]:hover   .description[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]:not(.touch-device)   a.router-item[_ngcontent-%COMP%]:not(.selected):hover   .description[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]:not(.touch-device)   a.sub-router-item[_ngcontent-%COMP%]:not(.current):hover   .description[_ngcontent-%COMP%]{margin-left:.5rem}.collapse-content[_ngcontent-%COMP%]{background-color:#262d36;box-shadow:inset 0 -2px .25rem #00000014}.collapse-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type   a[_ngcontent-%COMP%]{padding-top:.75rem}.collapse-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]{padding-bottom:.75rem}.collapse-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem;padding:.375rem 1.25rem .375rem 2rem}.collapse-content[_ngcontent-%COMP%]   a.current[_ngcontent-%COMP%]{color:#fff}.subroutes-spinner[_ngcontent-%COMP%]{--bs-spinner-border-width: .18em}"]}))}return s(),n})();const vs=["sidenav"];let ys=(()=>{var s;class n{constructor(i,o,a,p){this.router=i,this.globalsService=o,this.navService=a,this.sidenavLeftService=p,this.isSmallScreen=!0,this.sidenavToggleEvent=new e.bkB,this.componentDestroyed=new u.B,this.selectedPath="",this.navGroups=[],this.singleItems=[]}updatePath(i){this.selectedPath=i.replace(/\?(.*)?/,"")}ngOnInit(){this.updatePath(this.router.url),this.selectedForum=this.globalsService.forum,this.globalsService.forumObservable.pipe((0,dt.Q)(this.componentDestroyed)).subscribe(i=>this.selectedForum=i),this.router.events.pipe((0,_t.p)(i=>i instanceof xt.wF),(0,dt.Q)(this.componentDestroyed)).subscribe(i=>this.updatePath(i.urlAfterRedirects)),this.sidenavLeftService.toggleObservable.pipe((0,dt.Q)(this.componentDestroyed)).subscribe(()=>this.sidenavRef.toggle()),this.createNavItems()}ngOnChanges(i){i.isSmallScreen&&!i.isSmallScreen.firstChange&&(this.isSmallScreen?this.sidenavRef.close():this.sidenavRef.open())}createNavItems(){const i={},o=[],a="groupSidenav";for(const p of se.Cn){const y=this.navService.filterItem(p);if(y)if(y[a]){const k=y[a];(0,At.l$)(i,k)?i[k].content.push(y):i[k]={title:k,content:[y]}}else o.push(y)}this.navGroups=Object.values(i),this.navGroups.sort((p,y)=>se.Uy.indexOf(p.title)-se.Uy.indexOf(y.title)),this.singleItems=[...o]}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)(e.rXU(xt.Ix),e.rXU(ne.k),e.rXU(Hn.F),e.rXU(Ie))},this.\u0275cmp=e.VBU({type:n,selectors:[["app-main-nav"]],viewQuery:function(o,a){if(1&o&&e.GBs(vs,5),2&o){let p;e.mGM(p=e.lsd())&&(a.sidenavRef=p.first)}},inputs:{isSmallScreen:"isSmallScreen"},outputs:{sidenavToggleEvent:"sidenavToggleEvent"},standalone:!1,features:[e.OA$],decls:4,vars:9,consts:[["sidenav",""],[3,"hasBackdrop"],["mode","over",1,"shadow",3,"openedStart","closedStart","opened","autoFocus","fixedInViewport"],[3,"selectedPath","selectedForum","groups","items","isSmallScreen"]],template:function(o,a){if(1&o){const p=e.RV6();e.j41(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0),e.bIt("openedStart",function(){return l.eBV(p),l.Njj(a.isSmallScreen&&a.sidenavToggleEvent.emit(!0))})("closedStart",function(){return l.eBV(p),l.Njj(a.isSmallScreen&&a.sidenavToggleEvent.emit(!1))}),e.nrm(3,"app-side-nav",3),e.k0s()()}2&o&&(e.Y8G("hasBackdrop",a.isSmallScreen),e.R7$(),e.Y8G("opened",!a.isSmallScreen)("autoFocus",!1)("fixedInViewport",!0),e.R7$(2),e.Y8G("selectedPath",a.selectedPath)("selectedForum",a.selectedForum)("groups",a.navGroups)("items",a.singleItems)("isSmallScreen",a.isSmallScreen))},dependencies:[Fe,mi,_s],styles:["mat-sidenav[_ngcontent-%COMP%]{width:260px;max-width:100%}"]}))}return s(),n})();var Ci=r(9692),Si=r(2417);const bs=s=>[s];function Cs(s,n){if(1&s&&(e.j41(0,"div",5)(1,"div",6)(2,"div",7),e.nrm(3,"div",8),e.j41(4,"div",9)(5,"span"),e.EFF(6),e.nI1(7,"titlecase"),e.k0s()()(),e.j41(8,"div",10),e.nrm(9,"img",11),e.nI1(10,"uploadsreplace"),e.k0s()(),e.j41(11,"div",12)(12,"a",13)(13,"div",14),e.EFF(14," logout "),e.k0s(),e.j41(15,"div"),e.EFF(16,"Logout"),e.k0s()()()()),2&s){const t=e.XpG();e.R7$(),e.HbH(e.VkB("d-flex flex-row align-items-center justify-content-end user user-",t.profile.site.short," cursor-pointer")),e.R7$(2),e.Y8G("innerHTML",t.profile.user.nickname,e.npT),e.R7$(3),e.JRh(e.bMT(7,10,t.profile.site.name)),e.R7$(3),e.Y8G("src",e.mNQ(e.bMT(10,12,t.profile.user.avatar)),e.B4B)("alt",e.VkB("",t.profile.user.nickname,"'s avatar"))("nameDynamicReplace",t.profile.user.nickname)}}let Ss=(()=>{var s;class n{constructor(i,o){this.globalService=i,this.sidenavLeftService=o,this.appName=Le.JB,this.urlFullPaths=Wt.LP}ngOnInit(){this.profile=this.globalService.credentials}toggleSidenavLeft(){this.sidenavLeftService.pushToggle()}static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)(e.rXU(ne.k),e.rXU(Ie))},this.\u0275cmp=e.VBU({type:n,selectors:[["app-navbar"]],standalone:!1,decls:7,vars:5,consts:[[1,"navbar","bg-white","px-2"],[1,"container-fluid"],[1,"material-icons-outlined","sidenav-toggle","me-auto",3,"click"],[1,"text-reset","small-logo","mb-0",3,"routerLink"],[3,"onlySvg"],["ngbDropdown","","display","dynamic","placement","bottom-end",1,"ms-auto","dropdown-no-caret"],["ngbDropdownToggle",""],[1,"text-end"],[1,"nickname","text-truncate","lh-1","mb-1",3,"innerHTML"],[1,"fst-italic","fs-xs","lh-1"],[1,"avatar","ms-2","rounded-circle"],["appImage","",1,"image-cover","rounded-circle",3,"src","alt","nameDynamicReplace"],["ngbDropdownMenu",""],["role","button","routerLink","/login",1,"dropdown-item","d-flex","flex-row","align-items-center"],[1,"material-icons-outlined","d-block","me-1"]],template:function(o,a){1&o&&(e.j41(0,"nav",0)(1,"div",1)(2,"div",2),e.bIt("click",function(){return a.toggleSidenavLeft()}),e.EFF(3,"reorder"),e.k0s(),e.j41(4,"a",3),e.nrm(5,"app-logo",4),e.k0s(),e.nVh(6,Cs,17,14,"div",5),e.k0s()()),2&o&&(e.R7$(4),e.Y8G("routerLink",e.eq3(3,bs,a.urlFullPaths.HOME)),e.R7$(),e.Y8G("onlySvg",!0),e.R7$(),e.vxM(a.profile?6:-1))},dependencies:[Ci.x,yi.Z,Ft.tg,Ft.do,Ft.U0,It.Wk,d.PV,Si.T],styles:[".navbar[_ngcontent-%COMP%]{height:60px;border-bottom:1px solid #dee2e6;box-shadow:0 .125rem .25rem #00000013;position:fixed;top:0;left:0;right:0;z-index:999}h1[_ngcontent-%COMP%]{color:#4864fe}.avatar[_ngcontent-%COMP%]{display:none}.user[_ngcontent-%COMP%]{color:inherit}.user[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:100px}.sidenav-toggle[_ngcontent-%COMP%]{display:block}.sidenav-toggle[_ngcontent-%COMP%], .dropdown-no-caret[_ngcontent-%COMP%]{width:40%}@media (min-width: 576px){.user[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:200px}}@media (min-width: 960px){.navbar[_ngcontent-%COMP%]{margin-left:260px;border-bottom:0;box-shadow:0 .5rem 1rem #00000026;height:64px}.small-logo[_ngcontent-%COMP%], .sidenav-toggle[_ngcontent-%COMP%]{display:none}.avatar[_ngcontent-%COMP%]{display:block;width:50px;height:50px;border:2px solid}.user-ff[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#58a72e}.user-fc[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#0082cd}.user-bf[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#e67f22}}"]}))}return s(),n})();const wi=s=>({active:s});function ws(s,n){if(1&s){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){l.eBV(t),e.XpG();const o=e.sdS(8);return l.Njj(o.close())}),e.EFF(1," close "),e.k0s()}}function Os(s,n){}let Es=(()=>{var s;class n{constructor(i,o,a,p,y,k,G,W,tt,bt,mt){this.loadComponentService=i,this.breakpointObserver=o,this.renderer=a,this.activatedRoute=p,this.globalsService=y,this.router=k,this.sidenavRightService=G,this.changeDetectorRef=W,this.loginService=tt,this.toastService=bt,this.window=mt,this.sidenavRightCurrentContent="",this.sidenavRightComponents=Wn.t,this.sidenavRightOpened=!1,this.isHome=!1,this.lessThanMediumScreenSize=this.breakpointObserver.isMatched([wt.Rp.XSmall,wt.Rp.Small]),this.routerSubscription=this.router.events.pipe((0,_t.p)(ut=>ut instanceof xt.wF)).subscribe(ut=>{this.isHome=ut.urlAfterRedirects.startsWith(Wt.LP.HOME)})}ngOnInit(){var i=this;const o=this.activatedRoute.snapshot.data.forum;o&&(this.globalsService.forum=o),this.breakpointSubscription=this.breakpointObserver.observe([wt.Rp.XSmall,wt.Rp.Small]).subscribe(a=>{this.lessThanMediumScreenSize=a.matches}),this.sidenavRightSubscription=this.sidenavRightService.observable.subscribe(a=>{a?this.showSidenavRightComponent(a):this.sidenavRightOpened&&(this.sidenavRightOpened=!1)}),this.logoutSubscription=this.loginService.logoutObservable.subscribe((0,ie.A)(function*(){yield i.router.navigate([Wt.LP.LOGIN])}))}freeSidenavRightContent(){this.sidenavRightDirective.viewContainerRef.clear(),this.sidenavRightCurrentContent=""}showSidenavRightComponent(i){this.sidenavRightCurrentContent!==i.entity.name&&(this.loadComponentService.show(this.sidenavRightDirective.viewContainerRef,i.entity.component,!0),this.sidenavRightOpened||(this.sidenavRightOpened=!0),this.sidenavRightCurrentContent=i.entity.name,i.detectChanges&&this.changeDetectorRef.detectChanges())}sidenavLeftToggle(i){i?this.sidenavOpening("sidenav-left-opened"):this.sidenavClosing("sidenav-left-opened")}sidenavOpening(i){this.renderer.addClass(document.body,i)}sidenavClosing(i){this.renderer.removeClass(document.body,i)}ngOnDestroy(){this.breakpointSubscription&&this.breakpointSubscription.unsubscribe(),this.routerSubscription?.unsubscribe(),this.sidenavRightSubscription?.unsubscribe(),this.sidenavRightService.pushEntity(void 0),this.logoutSubscription?.unsubscribe()}static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)(e.rXU(Vn),e.rXU(F.Q),e.rXU(e.sFG),e.rXU(xt.nX),e.rXU(ne.k),e.rXU(xt.Ix),e.rXU(vi.i),e.rXU(R.gRc),e.rXU(jn.H),e.rXU(Xn.f),e.rXU(Window))},this.\u0275cmp=e.VBU({type:n,selectors:[["app-root"]],viewQuery:function(o,a){if(1&o&&e.GBs(_i,7),2&o){let p;e.mGM(p=e.lsd())&&(a.sidenavRightDirective=p.first)}},standalone:!1,decls:15,vars:17,consts:[["sidenavRight",""],["autosize","",1,"main-sidenav-container","d-flex","flex-column","flex-grow-1",3,"hasBackdrop"],[1,"d-flex","flex-column","flex-grow-1"],[3,"sidenavToggleEvent","isSmallScreen"],[1,"d-block",3,"blueBackground"],["position","end","mode","over",1,"sidenav-right","mw-100",3,"closed","closedStart","openedStart","openedChange","opened","autoFocus","fixedInViewport"],[1,"sidenav-right-content","d-flex","flex-column","position-relative"],[1,"close-sidenav","material-icons","d-block","text-muted","position-absolute","cursor-pointer"],["appSidenavRight",""],[1,"btn-group","d-flex","flex-row","mt-auto","mb-3","px-3"],[1,"btn","btn-outline-primary","shadow-none","flex-grow-1",3,"click","ngClass","innerText"],[1,"close-sidenav","material-icons","d-block","text-muted","position-absolute","cursor-pointer",3,"click"]],template:function(o,a){if(1&o){const p=e.RV6();e.j41(0,"mat-sidenav-container",1)(1,"mat-sidenav-content",2),e.nrm(2,"app-navbar"),e.j41(3,"app-main-nav",3),e.bIt("sidenavToggleEvent",function(k){return l.eBV(p),l.Njj(a.sidenavLeftToggle(k))}),e.k0s(),e.j41(4,"main",2),e.nrm(5,"router-outlet"),e.k0s(),e.nrm(6,"app-footer",4),e.k0s(),e.j41(7,"mat-sidenav",5,0),e.bIt("closed",function(){return l.eBV(p),l.Njj(a.freeSidenavRightContent())})("closedStart",function(){return l.eBV(p),l.Njj(a.sidenavClosing("sidenav-right-opened"))})("openedStart",function(){return l.eBV(p),l.Njj(a.sidenavOpening("sidenav-right-opened"))}),e.mxI("openedChange",function(k){return l.eBV(p),e.DH7(a.sidenavRightOpened,k)||(a.sidenavRightOpened=k),l.Njj(k)}),e.j41(9,"div",6),e.nVh(10,ws,2,0,"div",7),e.DNE(11,Os,0,0,"ng-template",8),e.j41(12,"div",9)(13,"button",10),e.bIt("click",function(){return l.eBV(p),l.Njj(a.showSidenavRightComponent({entity:a.sidenavRightComponents.forumList}))}),e.k0s(),e.j41(14,"button",10),e.bIt("click",function(){return l.eBV(p),l.Njj(a.showSidenavRightComponent({entity:a.sidenavRightComponents.scriptsAdmin}))}),e.k0s()()()()()}2&o&&(e.Y8G("hasBackdrop",!0),e.R7$(),e.AVh("embedded",a.window!==a.window.parent),e.R7$(2),e.Y8G("isSmallScreen",a.lessThanMediumScreenSize),e.R7$(3),e.Y8G("blueBackground",a.isHome),e.R7$(),e.R50("opened",a.sidenavRightOpened),e.Y8G("autoFocus",!1)("fixedInViewport",!0),e.R7$(3),e.vxM(a.lessThanMediumScreenSize?10:-1),e.R7$(3),e.Y8G("ngClass",e.eq3(13,wi,a.sidenavRightCurrentContent===a.sidenavRightComponents.forumList.name))("innerText","Lista forum"),e.R7$(),e.Y8G("ngClass",e.eq3(15,wi,a.sidenavRightCurrentContent===a.sidenavRightComponents.scriptsAdmin.name))("innerText","Lista admin"))},dependencies:[d.YU,zn.n,ys,xt.n3,Fe,mi,Pe,Ss,_i],styles:["mat-sidenav-content.embedded[_ngcontent-%COMP%]   app-navbar[_ngcontent-%COMP%], mat-sidenav-content.embedded[_ngcontent-%COMP%]   app-main-nav[_ngcontent-%COMP%], mat-sidenav-content.embedded[_ngcontent-%COMP%]   app-footer[_ngcontent-%COMP%]{display:none!important}mat-sidenav-content.embedded[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{margin-left:0;margin-top:0}.mat-drawer-container[_ngcontent-%COMP%]{background-color:transparent}.sidenav-right[_ngcontent-%COMP%]{width:500px}.sidenav-right[_ngcontent-%COMP%]   .sidenav-right-content[_ngcontent-%COMP%]{min-height:100%}.close-sidenav[_ngcontent-%COMP%]{right:.75rem;top:.825rem}main[_ngcontent-%COMP%]{position:relative;padding:1rem 0;margin-top:60px}app-main-nav[_ngcontent-%COMP%]{z-index:1000}@media (min-width: 768px){main[_ngcontent-%COMP%]{padding:1rem}}@media (min-width: 960px){main[_ngcontent-%COMP%]{padding:1.5rem;margin-left:260px;margin-top:64px}app-footer[_ngcontent-%COMP%]{margin-left:260px}}"]}))}return s(),n})();var oe=r(4725);let Oi=(()=>{var s;class n{constructor(i){this.router=i}canActivate(){return!Le.Od||this.router.parseUrl(Wt.LP.FORBIDDEN)}canActivateChild(){return this.canActivate()}static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)(l.KVO(xt.Ix))},this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}))}return s(),n})();const Ds=[{path:"",component:Es,resolve:{forum:Nn},canActivate:[Oi],canActivateChild:[Oi],children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>r.e(338).then(r.bind(r,2338)).then(s=>s.HomeModule),data:{title:"Home"}},{path:"settings",loadChildren:()=>Promise.all([r.e(665),r.e(414)]).then(r.bind(r,2414)).then(s=>s.SettingsModule),data:{title:"Settings"}},{path:"script",loadChildren:()=>r.e(533).then(r.bind(r,6533)).then(s=>s.ScriptModule),data:{title:"Script"}},{path:"admin-panel",loadChildren:()=>Promise.all([r.e(602),r.e(76),r.e(250)]).then(r.bind(r,5386)).then(s=>s.AdminPanelModule),data:{title:"Amministrazione",permissionRequired:[At.fo.ADMIN]},canActivate:[oe.L],canActivateChild:[oe.L]},{path:"upload",loadChildren:()=>Promise.all([r.e(602),r.e(921),r.e(3),r.e(665),r.e(76),r.e(286)]).then(r.bind(r,4286)).then(s=>s.UploadModule),data:{title:"Upload"}},{path:"tools",loadChildren:()=>r.e(201).then(r.bind(r,9201)).then(s=>s.toolsRoutes),data:{title:"Utilit\xe0"}},{path:"stats",loadChildren:()=>r.e(803).then(r.bind(r,3803)).then(s=>s.StatsModule),data:{title:"Statistiche",permissionRequired:[At.fo.ADMIN,At.fo.SUPERUSER]},canActivate:[oe.L],canActivateChild:[oe.L]}]}];let Rs=(()=>{var s;class n{static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275mod=e.$C({type:n}),this.\u0275inj=l.G2t({imports:[It.iI.forChild(Ds),It.iI]}))}return s(),n})();var Ei=r(146);let Ms=(()=>{var s;class n{static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275mod=e.$C({type:n}),this.\u0275inj=l.G2t({imports:[d.MD,C.U,v.Y,Ft.zH,It.iI,Ei.h]}))}return s(),n})();var Ts=r(8398),As=r(9686),xs=r(5652),ks=r(9716);let Ps=(()=>{var s;class n{static#t=s=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275mod=e.$C({type:n}),this.\u0275inj=l.G2t({providers:[{provide:Window,useValue:window}],imports:[d.MD,f.k,b.YN,D.P,C.U,w.iZ,v.Y,Fn,Rs,gi,Ms,Ei.h]}))}return s(),n})();e.wjB(Ts.b,[d.YU,As.E,Ci.x,xs.V,ks.e],[Si.T])},4725:(Q,I,r)=>{r.d(I,{L:()=>w});var d=r(2998),f=r(9763),b=r(6350),D=r(2615),C=r(3694);let w=(()=>{var v;class e{constructor(R,u){this.router=R,this.profileService=u}canActivate(R){return!(!(0,d.l$)(R.data,"permissionRequired")||!this.profileService.hasAtLeastOnePermission(R.data.permissionRequired))||this.router.parseUrl(b.LP.HOME)}canActivateChild(R){return this.canActivate(R)}static#t=v=()=>(this.\u0275fac=function(u){return new(u||e)(D.KVO(C.Ix),D.KVO(f.p))},this.\u0275prov=D.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}))}return v(),e})()},5264:(Q,I,r)=>{r.d(I,{CJ:()=>N,Cn:()=>u,Uy:()=>$});var d=r(467),f=r(8008),b=r(9888),D=r(2133),C=r(6350),w=r(2998),v=r(2615),e=r(6582),l=r(5964),R=r(6354);const u=[{icon:{type:"material-icons-outlined",value:"cottage"},path:C.LP.HOME,description:"Home"},{groupSidenav:f.g.SERVICES,icon:{type:"material-icons-outlined",value:"integration_instructions"},path:C.LP.SCRIPT,description:"Script",subroutes:{collapsed:!0,content:[{description:"Script per forum",path:C.LP.SCRIPT_FORUM},{description:"Script per utenti",path:C.LP.SCRIPT_USER},{description:"Gestione script",path:C.LP.SCRIPT_DEV,permission:[w.fo.SCRIPT_DEV]}]}},{groupSidenav:f.g.SERVICES,icon:{type:"material-icons-outlined",value:"cloud"},path:C.LP.UPLOAD,description:"Upload"},{groupSidenav:f.g.SERVICES,icon:{type:"material-icons-outlined",value:"widgets"},path:C.LP.TOOLS,description:"Utilit\xe0",subroutes:{collapsed:!0,loadContent:()=>(0,d.A)(function*(){const H=(0,v.WQX)(e.H);return yield H.setList(),H.listObservable.pipe((0,l.p)(L=>typeof L<"u"),(0,R.T)(L=>L.map(M=>({description:M.title,path:M.path}))))})()}},{groupSidenav:f.g.ACCOUNT,icon:{type:"material-icons-outlined",value:"settings"},path:C.LP.SETTINGS,description:"Impostazioni"},{groupSidenav:f.g.ADMIN,permission:[w.fo.ADMIN,w.fo.SUPERUSER],icon:{type:"material-icons-outlined",value:"insights"},path:C.LP.STATS,description:"Statistiche",subroutes:{collapsed:!0,content:[{description:"Server Innovation",path:C.LP.STATS_GRAFANA},{description:"Logs Innovation",path:C.LP.LOGS_GRAFANA,permission:[w.fo.ADMIN]},{description:"Servizio Upload",path:C.LP.STATS_UPLOAD}]}},{groupSidenav:f.g.ADMIN,permission:[w.fo.ADMIN],icon:{type:"material-icons-outlined",value:"build_circle"},path:C.LP.ADMIN,description:"Pannello Admin"}],N=[{type:f.J.FORUM_ADMIN,icon:{type:"material-icons-outlined",value:"admin_panel_settings"},description:"Admin degli script",shortDescription:"Script Admin",entity:b.t[D.M.SCRIPTS_ADMIN]},{type:f.J.FORUM,icon:{type:"material-icons-outlined",value:"public"},description:"Seleziona forum",shortDescription:"Forum",entity:b.t[D.M.FORUM_LIST]}],$=[f.g.SERVICES,f.g.ACCOUNT,f.g.ADMIN,f.g.BETA]},5735:(Q,I,r)=>{function d(b){return 0===b.buttons||0===b.detail}function f(b){const D=b.touches&&b.touches[0]||b.changedTouches&&b.changedTouches[0];return!(!D||-1!==D.identifier||null!=D.radiusX&&1!==D.radiusX||null!=D.radiusY&&1!==D.radiusY)}r.d(I,{_:()=>d,w:()=>f})},6582:(Q,I,r)=>{r.d(I,{H:()=>N});var d=r(467),f=r(2615),b=r(8790),D=r(2998),C=r(6350);const w=[{title:"Generatore di tabelle",path:`${C.LP.TOOLS}/table-builder`,resources:[`${D.QR}/sandboxes/table-builder/`]}];var v=r(1949),e=r(4412),l=r(7786),R=r(2881),u=r(9079);let N=(()=>{var $;class H{constructor(){this.scriptListService=(0,f.WQX)(b.j),this.globalsService=(0,f.WQX)(R.k),this.destroyRef=(0,f.WQX)(f.abz),this.listSubject=new e.t(void 0),this.subscriptions=!1}pushList(M){this.listSubject.next(M)}get listObservable(){return this.listSubject.asObservable()}getAll(){var M=this;return(0,d.A)(function*(){return yield M.setList(),M.list})()}refreshList(){var M=this;return(0,d.A)(function*(){M.list=yield M.parse(),M.pushList(M.list),M.subscriptions||(M.subscriptions=!0,(0,l.h)(M.globalsService.forumObservable,M.scriptListService.updatedObservable).pipe((0,u.pQ)(M.destroyRef)).subscribe((0,d.A)(function*(){yield M.refreshList()})))})()}setList(){var M=this;return(0,d.A)(function*(){typeof M.list>"u"&&(yield M.refreshList())})()}parse(){var M=this;return(0,d.A)(function*(){const U=M.globalsService.credentials?.user.ffuid,J=M.globalsService.forum?.cid;if(!U)return[];const st=yield M.scriptListService.getData([{targetId:U,targetType:v.CB.USER},...J?[{targetId:J,targetType:v.CB.FORUM}]:[]],!1),pt=[...new Set(Object.values(st).map(rt=>rt.installed).flat(1))],vt=(yield M.scriptListService.getAllVisibleScripts()).reduce((rt,at)=>{const gt=at.sandboxes.filter(E=>E.standalone||!E.inSettings&&pt.includes(at.id));return gt.length&&rt.push({id:at.id,sandboxes:gt,name:at.name}),rt},[]);return[...w,...vt.map(rt=>rt.sandboxes.map(at=>({title:`${at.name||at.slug} - ${rt.name}`,path:`${C.LP.TOOLS}${C.LP.SCRIPT}/${rt.id}/${at.slug}`,resources:at.value}))).flat(1).sort((rt,at)=>rt.title.localeCompare(at.title))]})()}static#t=$=()=>(this.\u0275fac=function(U){return new(U||H)},this.\u0275prov=f.jDH({token:H,factory:H.\u0275fac,providedIn:"root"}))}return $(),H})()},6660:(Q,I,r)=>{r.d(I,{p:()=>u});var d=r(467),f=r(2881),b=r(2998),R=r(2615);let u=(()=>{var N;class $ extends b.pu{constructor(L,M,U){super(M,U),this.globalsService=L,this.graphqlService=M,this.requestsService=U,this.groupsCache={},this.groupsPendingRequests={},this.sectionsCache={},this.sectionsPendingRequests={},this.myForumsCache={},this.cidToDomainCache={},this.cidToDomainMisses=[],this.searchByNameCache={}}get cid(){return this.globalsService.forum?.cid}get ffuid(){const L=this.globalsService.credentials?.user.ffuid;if(!L)throw new Error("Missing credentials!");return L}getGroups(){var L=this;return(0,d.A)(function*(){const M=L.cid;if(!M)return[];if((0,b.l$)(L.groupsCache,M))return L.groupsCache[M];const U=yield(0,b.l$)(L.groupsPendingRequests,M)?L.groupsPendingRequests[M]:L.groupsPendingRequests[M]=L.graphqlService.query({query:"\nquery ForumGroups($cid: String!) {\n    forumGroups(cid: $cid) {\n        id\n        name\n        preset\n        legenda\n    }\n}",variables:{cid:M}});return delete L.groupsPendingRequests[M],L.groupsCache[M]=U.data.forumGroups})()}getSections(){var L=this;return(0,d.A)(function*(){const M=L.cid;if(!M)return[];if((0,b.l$)(L.sectionsCache,M))return L.sectionsCache[M];const U=yield(0,b.l$)(L.sectionsPendingRequests,M)?L.sectionsPendingRequests[M]:L.sectionsPendingRequests[M]=L.graphqlService.query({query:"\nquery ForumSections($cid: String!) {\n    forumSections(cid: $cid) {\n        id\n        name\n        desc\n        subsections {\n            id\n            name\n            desc\n            subsections {\n                id\n                name\n                desc\n                subsections {\n                    id\n                    name\n                    desc\n                    subsections {\n                        id\n                        name\n                        desc\n                        subsections {\n                            id\n                            name\n                            desc\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",variables:{cid:M}});return L.sectionsCache[M]=U.data.forumSections})()}getDomains(L){var M=this;return(0,d.A)(function*(){const U=[],J=L.filter(st=>(0,b.l$)(M.cidToDomainCache,st)?(U.push(M.cidToDomainCache[st]),!1):-1===M.cidToDomainMisses.indexOf(st));if(J.length>0){const st=yield M.graphqlService.query({query:"\nquery ForumCidToDomain($cids: [String!]!) {\n    forumCidToDomain(cids: $cids) {\n        cid\n        domain\n    }\n}",variables:{cids:J}}),pt=[];for(const q of st.data.forumCidToDomain)M.cidToDomainCache[q.cid]=q,U.push({...q}),pt.push(q.cid);M.cidToDomainMisses.push(...J.filter(q=>-1===pt.indexOf(q)))}return U})()}getMyForumList(){var L=this;return(0,d.A)(function*(){const M=L.ffuid;if((0,b.l$)(L.myForumsCache,M))return L.myForumsCache[M];const U=yield L.graphqlService.query({query:"\nquery MyForumList {\n    myForumList {\n        id, domain, name, preview, site\n    }\n}"});return L.myForumsCache[M]=U.data.myForumList})()}getScriptAdmins(L){var M=this;return(0,d.A)(function*(){return(yield M.graphqlService.query({query:"\nquery ScriptAdmins($cid: String!) {\n    scriptAdmins(cid: $cid) {\n        cid\n        id\n        nickname\n        avatar\n    }\n}",variables:{cid:L}})).data.scriptAdmins})()}createForumWithAdmin(L,M,U){const J=(0,b.lI)(L,M);if(J)return{...J,admin:U}}searchForumByName(L,M){var U=this;return(0,d.A)(function*(){M||(M=(0,b.aQ)(U.globalsService.credentials?.site.domain||b.Zv.FORUMFREE));const J=`${M}${L}`;if((0,b.l$)(U.searchByNameCache,J))return U.searchByNameCache[J];const st=yield U.graphqlService.query({query:"\nquery ForumSearchByDomain($domain: String!, $cid: String) {\n    forumSearchByDomain(domain: $domain, cid: $cid) {\n      id\n      domain\n      name\n      preview\n    }\n}",variables:{domain:L,cid:M}});return U.searchByNameCache[J]=st.data.forumSearchByDomain})()}static#t=N=()=>(this.\u0275fac=function(M){return new(M||$)(R.KVO(f.k),R.KVO(b.Pp),R.KVO(b.km))},this.\u0275prov=R.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}))}return N(),$})()},7847:(Q,I,r)=>{r.d(I,{OE:()=>f,i8:()=>D});var d=r(3664);function f(C,w=0){return function b(C){return!isNaN(parseFloat(C))&&!isNaN(Number(C))}(C)?Number(C):2===arguments.length?w:0}function D(C){return C instanceof d.aKT?C.nativeElement:C}},7860:(Q,I,r)=>{r.d(I,{BD:()=>C,CZ:()=>D,r5:()=>d});var d=function(w){return w[w.NORMAL=0]="NORMAL",w[w.NEGATED=1]="NEGATED",w[w.INVERTED=2]="INVERTED",w}(d||{});let f,b;function D(){if(null==b){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return b=!1,b;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)b=!0;else{const w=Element.prototype.scrollTo;b=!!w&&!/\{\s*\[native code\]\s*\}/.test(w.toString())}}return b}function C(){if("object"!=typeof document||!document)return d.NORMAL;if(null==f){const w=document.createElement("div"),v=w.style;w.dir="rtl",v.width="1px",v.overflow="auto",v.visibility="hidden",v.pointerEvents="none",v.position="absolute";const e=document.createElement("div"),l=e.style;l.width="2px",l.height="1px",w.appendChild(e),document.body.appendChild(w),f=d.NORMAL,0===w.scrollLeft&&(w.scrollLeft=1,f=0===w.scrollLeft?d.NEGATED:d.INVERTED),w.remove()}return f}},8008:(Q,I,r)=>{r.d(I,{J:()=>f,g:()=>d});var d=function(b){return b.SERVICES="Servizi",b.ADMIN="Amministrazione",b.BETA="Beta",b.ACCOUNT="Account",b}(d||{}),f=function(b){return b.FORUM_ADMIN="forum-admin",b.FORUM="forum",b}(f||{})},8203:(Q,I,r)=>{r.d(I,{jI:()=>D});var d=r(2615),f=r(3664);let D=(()=>{class C{static \u0275fac=function(e){return new(e||C)};static \u0275mod=f.$C({type:C});static \u0275inj=d.G2t({})}return C})()},8398:(Q,I,r)=>{r.d(I,{b:()=>gt});var d=r(467),f=r(6660),b=r(2881),D=r(2998),C=r(1413),R=r(8488),u=r(3664),N=r(2615);const $=E=>({"border-bottom":E}),H=()=>({placement:"left",animation:"shift-away"});function L(E,P){if(1&E&&u.nrm(0,"app-loader",4),2&E){const X=u.XpG(2);u.Y8G("message",X.loadingMessage)}}function M(E,P){if(1&E){const X=u.RV6();u.j41(0,"div",5)(1,"input",8,0),u.bIt("keyup.enter",function(){N.eBV(X);const m=u.sdS(2),g=u.XpG(3);return N.Njj(g.userAddScriptsAdmin(g.forum.cid,m.value))}),u.k0s(),u.j41(3,"button",9),u.bIt("click",function(){N.eBV(X);const m=u.sdS(2),g=u.XpG(3);return N.Njj(g.userAddScriptsAdmin(g.forum.cid,m.value))}),u.j41(4,"span",10),u.EFF(5,"add"),u.k0s()()()}}function U(E,P){1&E&&(u.j41(0,"div",6),u.EFF(1," Non hai i permessi per modificare gli admin degli script del forum selezionato! "),u.k0s())}function J(E,P){if(1&E){const X=u.RV6();u.j41(0,"button",19),u.bIt("click",function(){N.eBV(X);const m=u.XpG().$implicit,g=u.XpG(4);return N.Njj(g.userDelScriptsAdmin(g.forum.cid,m.id))}),u.j41(1,"span",20),u.EFF(2,"delete"),u.k0s()()}2&E&&u.Y8G("tippyProps",u.lJ4(1,H))}function st(E,P){if(1&E&&(u.j41(0,"li",11)(1,"div",12),u.nrm(2,"img",13),u.nI1(3,"uploadsreplace"),u.k0s(),u.j41(4,"div",14)(5,"div",15),u.nrm(6,"a",16),u.j41(7,"div",17),u.EFF(8),u.k0s()(),u.nVh(9,J,3,2,"button",18),u.k0s()()),2&E){const X=P.$implicit,_=P.$index,m=P.$count,g=u.XpG(4);u.R7$(2),u.Y8G("src",u.mNQ(u.bMT(3,12,X.avatar)),u.B4B)("alt",u.VkB("",X.nickname,"'s avatar"))("nameDynamicReplace",X.nickname),u.R7$(2),u.Y8G("ngClass",u.eq3(14,$,_!==m-1)),u.R7$(2),u.Y8G("href",u.ai1("",g.forum.url,"/?act=Profile&MID=",X.id),u.B4B)("innerText",X.nickname),u.R7$(2),u.SpI(" User id: ",X.id," "),u.R7$(),u.vxM(g.canManage?9:-1)}}function pt(E,P){if(1&E&&(u.j41(0,"ul",7),u.Z7z(1,st,10,16,"li",11,u.fX1),u.k0s()),2&E){const X=u.XpG(3);u.R7$(),u.Dyx(X.admins)}}function q(E,P){1&E&&(u.j41(0,"div",6),u.EFF(1," Non \xe8 stato inserito alcun admin degli script! "),u.k0s())}function vt(E,P){if(1&E&&(u.nVh(0,M,6,0,"div",5)(1,U,2,0,"div",6),u.nVh(2,pt,3,0,"ul",7)(3,q,2,0,"div",6)),2&E){const X=u.XpG(2);u.vxM(X.canManage?0:1),u.R7$(2),u.vxM(X.admins.length?2:3)}}function rt(E,P){if(1&E&&u.nVh(0,L,1,1,"app-loader",4)(1,vt,4,2),2&E){const X=u.XpG();u.vxM(X.loading?0:1)}}function at(E,P){1&E&&u.nrm(0,"app-forum-required")}let gt=(()=>{var E;class P{constructor(_,m,g,x){if(this.globalsService=_,this.graphqlService=m,this.toastService=g,this.forumService=x,this.componentDestroyed=new C.B,this.callOnDestroy=[],this.toastMessage="Inserisci <strong>l'ID o lo username</strong> dell'utente che vuoi rendere admin degli script!",this.admins=[],this.loading=!0,this.loadingMessage="Inizializzazione",this.canManage=!0,this.componentDestroyed.subscribe(()=>{this.callOnDestroy.forEach(B=>B())}),!this.globalsService.credentials)throw new Error("Missing credentials!");this.forum=this.globalsService.forum}ngOnInit(){var _=this;return(0,d.A)(function*(){if(!_.forum)return;_.canManage=_.forum.admin||!1;const m=_.forum.cid;_.admins=yield _.forumService.getScriptAdmins(m),_.load(),_.callOnDestroy.push(yield _.graphqlService.subscribe({query:"\nsubscription ChangesScriptAdmins($cid: String!) {\n    changesScriptAdmins(cid: $cid) {\n        eventType\n    }\n}",variables:{cid:m}},(0,d.A)(function*(){_.load("Sincronizzazione lista admin"),_.admins=yield _.forumService.getScriptAdmins(m),_.load()})))})()}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}userAddScriptsAdmin(_,m){var g=this;return(0,d.A)(function*(){if(g.loading)throw new Error("Loading already in progress");if(0===m.length)return g.toastService.show({content:g.toastMessage}),!1;g.load("Inserimento admin");const x=yield g.addScriptsAdmin(_,{name:m,id:+m});return g.load("Caricamento lista admin"),g.admins=yield g.forumService.getScriptAdmins(_),g.load(),x})()}userDelScriptsAdmin(_,m){var g=this;return(0,d.A)(function*(){if(g.loading)throw new Error("Loading already in progress");g.load("Rimozione admin");const x=yield g.delScriptsAdmin(_,m);return g.load("Caricamento lista admin"),g.admins=yield g.forumService.getScriptAdmins(_),g.load(),x})()}addScriptsAdmin(_,m){var g=this;return(0,d.A)(function*(){const x={cid:_,...m};if(!m.id&&!m.name)throw new Error;const F=x.id?"\nmutation AddScriptAdminById($cid: String!, $id: Int!) {\n    addScriptAdminById(cid: $cid, id: $id)\n}":"\nmutation AddScriptAdminByName($cid: String!, $name: String!) {\n    addScriptAdminByName(cid: $cid, name: $name)\n}";return void 0===(yield g.graphqlService.mutate({mutation:F,variables:x})).errors})()}delScriptsAdmin(_,m){var g=this;return(0,d.A)(function*(){return void 0===(yield g.graphqlService.mutate({mutation:"\nmutation DelScriptAdmin($cid: String!, $id: Int!) {\n    delScriptAdmin(cid: $cid, id: $id)\n}",variables:{cid:_,id:m}})).errors})()}load(_){_?(this.loading=!0,this.loadingMessage=_):(this.loading=!1,this.loadingMessage="")}static#t=E=()=>(this.\u0275fac=function(m){return new(m||P)(u.rXU(b.k),u.rXU(D.Pp),u.rXU(R.f),u.rXU(f.p))},this.\u0275cmp=u.VBU({type:P,selectors:[["app-scripts-admin"]],standalone:!1,decls:7,vars:1,consts:[["input",""],[1,"content","bg-white","pb-4","px-3"],[1,"title","fs-5","text-primary","fw-bold","mb-3"],[1,"description","mb-3","text-justify"],[3,"message"],[1,"input-group","mb-3"],[1,"alert","alert-primary","text-center"],[1,"list-unstyled","admin-list","mb-0"],["type","text","placeholder","Nickname o id dell'utente...",1,"form-control",3,"keyup.enter"],[1,"input-group-text",3,"click"],[1,"material-icons-outlined"],[1,"d-flex","flex-row","align-items-center","mx-sm-2"],[1,"avatar","rounded-circle","me-3","me-sm-4","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt","nameDynamicReplace"],[1,"info","flex-grow-1","d-flex","flex-row","align-items-center","py-3","py-sm-4",3,"ngClass"],[1,"me-auto","pe-2","d-flex","flex-column","flex-grow-1","align-items-start"],["target","_blank",1,"d-block","name","fw-bold","text-decoration-none","text-truncate","mw-100",3,"href","innerText"],[1,"text-muted","fs-sm"],["appTippy","Rimuovi l'admin",1,"btn","btn-danger","p-1","d-block",3,"tippyProps"],["appTippy","Rimuovi l'admin",1,"btn","btn-danger","p-1","d-block",3,"click","tippyProps"],[1,"material-icons","d-block"]],template:function(m,g){1&m&&(u.j41(0,"div",1)(1,"div",2),u.EFF(2," Gestore admin degli script "),u.k0s(),u.j41(3,"div",3),u.EFF(4," Tramite questo pannello \xe8 possibile gestire gli admin degli script del forum selezionato. Un admin degli script non avr\xe0 alcun potere di moderazione sul forum o blog, ma potr\xe0 installare, disinstallare e modificare gli script del sito. La funzione risulta utile se si vuole riservare la gestione degli script ad alcuni utenti qualificati, senza dover fornire loro un ruolo particolare sul forum o blog. \xc8 importante evidenziare che un amministratore degli script possiede anche il potere di nominare e rimuovere altri admin degli script. "),u.k0s(),u.nVh(5,rt,2,1)(6,at,1,0,"app-forum-required"),u.k0s()),2&m&&(u.R7$(5),u.vxM(g.forum?5:6))},styles:[".content[_ngcontent-%COMP%]{padding-top:.5rem}.description[_ngcontent-%COMP%]{font-size:.95rem}.admin-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px}.admin-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:0}.admin-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:0}@media (min-width: 960px){.title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{padding-top:1.5rem}}@media (min-width: 576px){.admin-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:60px;height:60px}}"]}))}return E(),P})()},8790:(Q,I,r)=>{r.d(I,{j:()=>gt});var d=r(467),f=r(1413),b=r(4412),D=r(4843),C=r(5964),w=r(2881),v=r(2998),e=r(1949),l=r(3654);function N(E,P,X,_=[],m){const g={};return{list:E.reduce((F,B)=>{const V=[...new Set([...L(B.permissions,P),..._])];return!V.includes(e.Eq.EDIT)&&H(B,X)||0===V.length||m&&!m.every(K=>V.includes(K))||(g[B.id]=V,F.push(B)),F},[]),permissions:g}}function H(E,P){return!!E.privacy.hidden&&(!P||P.type===e.CB.USER&&!E.privacy.allowed.users.includes(P.id)||P.type===e.CB.FORUM&&!E.privacy.allowed.forums.includes(P.id))}function L(E,P){return P?[...J(P,E)?[e.Eq.SETTINGS]:[],...M(P,E)?[e.Eq.EDIT]:[],...U(P,E)?[e.Eq.MANAGE]:[]]:[]}function M(E,P){return P.edit.includes(E)}function U(E,P){return P.manage.includes(E)}function J(E,P){return P.settings.includes(E)}var st=r(6350),pt=r(3345),q=r(2615);let vt=(()=>{var E;class P{constructor(){this.globalsService=(0,q.WQX)(w.k),this.scriptListCache=void 0,this.scriptListCacheTime=0,this.installedListCache={},this.settingsListCache={},this.filteredScriptDataCache={}}setScriptList(_){this.scriptListCacheTime=Date.now(),this.scriptListCache=_}getScriptList(){return this.isScriptListOutdated()?void 0:this.scriptListCache}setInstalledList(_,m,g){const x=this.generateScriptKey(_,m);this.installedListCache[x]=g}getInstalledList(_,m){const g=this.generateScriptKey(_,m);return this.installedListCache[g]}setSettingsList(_,m,g){const x=this.generateScriptKey(_,m);this.settingsListCache[x]=g}getSettingsList(_,m){const g=this.generateScriptKey(_,m);return this.settingsListCache[g]}setFilteredScriptData(_,m,g){const x=this.generateScriptKey(_,m);this.filteredScriptDataCache[x]=g}getFilteredScriptData(_,m){const g=this.generateScriptKey(_,m);return this.filteredScriptDataCache[g]}isScriptListOutdated(){return Date.now()-this.scriptListCacheTime>18e5}generateScriptKey(_,m){return`${_}${m}${this.globalsService.credentials?.user.id}`}clear(){this.scriptListCacheTime=0,this.scriptListCache=void 0,this.installedListCache={},this.settingsListCache={},this.filteredScriptDataCache={}}static#t=E=()=>(this.\u0275fac=function(m){return new(m||P)},this.\u0275prov=q.jDH({token:P,factory:P.\u0275fac,providedIn:"root"}))}return E(),P})();var rt=r(7184);let gt=(()=>{var E;class P{constructor(_,m,g,x){this.graphqlService=_,this.globalsService=m,this.preferencesService=g,this.scriptCacheService=x,this.scriptFilteredByPermissionsCache={},this.listInputsSubject=new f.B,this.isRequestingListSubject=new b.t(!1),this.updatedSubject=new f.B,this.profileSubscription=this.globalsService.profileObservable.subscribe(F=>{this.ffuid=F?.user.ffuid})}isCurrentUserForumAdmin(_){return!(!this.globalsService.forum||this.globalsService.forum.cid!==_||!this.globalsService.forum.admin)}set activeTarget(_){this.activeTargetData=_}get activeTarget(){return this.activeTargetData}generateKey(_,m){return this.scriptCacheService.generateScriptKey(_,m)}getData(_,m){var g=this;return(0,d.A)(function*(){g.isRequestingListSubject.value&&(yield(0,D._)(g.isRequestingListSubject.pipe((0,C.p)(K=>!K)))),g.isRequestingListSubject.next(!0);let x=g.scriptCacheService.getScriptList();const F=[],B=(_||[]).reduce((K,z)=>{const et=g.generateKey(z.targetId,z.targetType),lt=g.scriptCacheService.getInstalledList(z.targetId,z.targetType),it=g.scriptCacheService.getSettingsList(z.targetId,z.targetType);return lt&&it?(K[et]={installed:lt,settings:it},K):(F.push(z),K)},{});if(!x||F.length){const K=function at(E){return rt.P([...E.requestList?[{operation:"scriptList",fields:["scriptId","type","author","name","description","faqLink","preview","publisher","source","sourceBeta","position",{sandboxes:["name","slug","value","inSettings","standalone"]},"packages","dependencies","settingsSchema","settingsDefault","generateToken","hidden","cpQuirks","cpStandard","cpMobile","webhook","webhookCallOnSettings","webhookCallOnManage",{whitelist:["users","forums"]}]},{operation:"scriptRankedList",fields:["scriptId","scriptRank"]},{operation:"scriptPermissions",fields:["scriptId","manage","edit","settings"]}]:[],...(E.targets||[]).map(({targetId:P,targetType:X},_)=>[{operation:{name:"scriptInstalledList",alias:`scriptInstalledList${_}`},variables:{[`targetId${_}`]:{name:"targetId",type:"String!",value:P},[`targetType${_}`]:{name:"targetType",type:"ScriptTargetTypeEnum!",value:X}}},{operation:{name:"scriptSettings",alias:`scriptSettings${_}`},variables:{[`targetId${_}`]:{name:"targetId",type:"String!",value:P},[`targetType${_}`]:{name:"targetType",type:"ScriptTargetTypeEnum!",value:X}},fields:["scriptId","settings"]}]).flat(1)])}({requestList:!x,targets:F}),z=(yield g.graphqlService.query({query:K.query,variables:K.variables})).data;z.scriptList&&z.scriptPermissions&&z.scriptRankedList&&(x=function R(E,P,X){const _={},m=E.map(g=>{const x=function u(E,P,X,_){return console.log(E),{author:l.ql[E.author]||l.ql.ff500,dependencies:{parents:E.dependencies.reduce((m,g)=>{const x=P.find(F=>F.scriptId===g);return x&&m.push({id:x.scriptId,name:x.name}),m},[]),children:[]},description:E.description,docs:{link:E.faqLink},generateToken:E.generateToken,id:E.scriptId,layouts:{quirks:E.cpQuirks,standard:E.cpStandard,mobile:E.cpMobile},name:E.name,packages:E.packages,permissions:{manage:_?.manage||[],edit:_?.edit||[],settings:_?.settings||[]},preview:E.preview,privacy:{hidden:E.hidden,allowed:E.whitelist},publisher:l.QW[E.publisher]||l.QW[e.wP.OTHER],rank:X.find(m=>m.scriptId===E.scriptId)?.scriptRank||999,sandboxes:E.sandboxes,settings:{default:E.settingsDefault,schema:"{}"!==E.settingsSchema?E.settingsSchema:void 0},sources:{prod:E.source,beta:E.sourceBeta,position:E.position},type:E.type,webhook:{source:E.webhook,calls:{onManage:E.webhookCallOnManage,onSettings:E.webhookCallOnSettings}}}}(g,E,P,X.find(F=>F.scriptId===g.scriptId));for(const F of Object.keys(x.dependencies.parents))(0,v.l$)(_,F)||(_[F]=[]),_[F].push({id:x.id,name:x.name});return x});for(const[g,x]of Object.entries(_)){const F=m.find(B=>B.id===g);F&&(F.dependencies.children=x)}return m}(z.scriptList,z.scriptRankedList,z.scriptPermissions),g.scriptCacheService.setScriptList([...x]));for(const[et,lt]of F.entries()){const it=z[`scriptInstalledList${et}`].filter(nt=>x.findIndex(ft=>ft.id===nt)>-1),Ct=z[`scriptSettings${et}`].reduce((nt,ft)=>(nt[ft.scriptId]=ft.settings,nt),{});g.scriptCacheService.setInstalledList(lt.targetId,lt.targetType,it),g.scriptCacheService.setSettingsList(lt.targetId,lt.targetType,Ct),B[g.generateKey(lt.targetId,lt.targetType)]={installed:it,settings:Ct}}}if(typeof m>"u")return g.isRequestingListSubject.next(!1),x;if(!1===m){const K={};for(const z of _||[]){const{targetId:et,targetType:lt}=z,it=g.generateKey(et,lt);K[it]={settings:B[it].settings,installed:B[it].installed}}return g.isRequestingListSubject.next(!1),K}const V={};for(const K of _||[]){const{targetId:z,targetType:et}=K,lt=g.generateKey(z,et),it=g.scriptCacheService.getFilteredScriptData(z,et);if(it){V[lt]={list:x.filter(ft=>it.list.includes(ft.id)),permissions:it.permissions,settings:B[lt].settings,installed:B[lt].installed};continue}const Ct=et===e.CB.FORUM?[e.Hy.ALL,e.Hy.FORUM]:[e.Hy.ALL,e.Hy.USER,e.Hy.PROFILE],Rt=et===e.CB.FORUM&&g.isCurrentUserForumAdmin(z)||et===e.CB.USER&&z===g.ffuid?[e.Eq.SETTINGS,e.Eq.MANAGE]:[],nt=N(x.filter(ft=>-1!==Ct.indexOf(ft.type)),g.ffuid,{id:z,type:et},Rt);g.scriptCacheService.setFilteredScriptData(z,et,{list:nt.list.map(ft=>ft.id),permissions:nt.permissions}),V[lt]={list:nt.list,permissions:nt.permissions,settings:B[lt].settings,installed:B[lt].installed}}return g.isRequestingListSubject.next(!1),V})()}splitTabs(_){const m={};for(const g of _)(0,v.l$)(m,g.publisher.id)?m[g.publisher.id].push(g):m[g.publisher.id]=[g];return m}getListInputsObservable(){return this.listInputsSubject.asObservable()}pushListInputs(_){this.listInputsSubject.next(_),this.listInputs=_}get listInputs(){return this.listInputsData}set listInputs(_){this.listInputsData=_}updateInstalledScriptList(_,m){if(!this.activeTarget)return;const g=this.installedList;if(m)g.push(_);else{const x=g.indexOf(_);x>-1&&g.splice(x,1)}this.scriptCacheService.setInstalledList(this.activeTarget.targetId,this.activeTarget.targetType,g),this.pushUpdated()}get installedList(){return this.activeTarget&&this.scriptCacheService.getInstalledList(this.activeTarget.targetId,this.activeTarget.targetType)||[]}getSingleScriptData(_,m,g){var x=this;return(0,d.A)(function*(){const F=x.generateKey(m,g),B=(yield x.getData([{targetId:m,targetType:g}],!0))[F],V=B.list.find(K=>K.id===_);if(V)return{script:V,installed:x.installedList.includes(V.id),settings:B.settings[V.id],permissions:B.permissions[V.id]}})()}updateInstalledScriptSettings(_,m,g,x){const F=this.scriptCacheService.getSettingsList(_,m);F&&(F[g]=x,this.scriptCacheService.setSettingsList(_,m,F))}getScriptsByPermissions(_){var m=this;return(0,d.A)(function*(){if(!m.ffuid)return{list:[],permissions:{}};const g=`${m.ffuid}:${_.join("-")}`;if((0,v.l$)(m.scriptFilteredByPermissionsCache,g))return m.scriptFilteredByPermissionsCache[g];const x=yield m.getData();return m.scriptFilteredByPermissionsCache[g]=N(x,m.ffuid,{id:m.ffuid,type:e.CB.USER},[],_)})()}clearCache(){this.scriptCacheService.clear(),this.scriptFilteredByPermissionsCache={},this.pushUpdated()}getAllScripts(){var _=this;return(0,d.A)(function*(){return yield _.getData()})()}getAllVisibleScripts(){var _=this;return(0,d.A)(function*(){const m=_.globalsService.forum?.cid;return function $(E,P,X){return E.reduce((_,m)=>{const g=X?L(m.permissions,X):[],x=P.length?!P.map(F=>H(m,F)).includes(!1):m.privacy.hidden;return!g.includes(e.Eq.EDIT)&&x||_.push(m),_},[])}(yield _.getAllScripts(),[..._.ffuid?[{id:_.ffuid,type:e.CB.USER}]:[],...m?[{id:m,type:e.CB.FORUM}]:[]],_.ffuid)})()}get settingsOptions(){return this.preferencesService.getItem(st.Xn.SCRIPT_SETTINGS_OPTIONS)||l.uL}set settingsOptions(_){this.preferencesService.setItem(st.Xn.SCRIPT_SETTINGS_OPTIONS,_)}get updatedObservable(){return this.updatedSubject.asObservable()}pushUpdated(){this.updatedSubject.next()}ngOnDestroy(){this.profileSubscription.unsubscribe()}static#t=E=()=>(this.\u0275fac=function(m){return new(m||P)(q.KVO(v.Pp),q.KVO(w.k),q.KVO(pt.W),q.KVO(vt))},this.\u0275prov=q.jDH({token:P,factory:P.\u0275fac,providedIn:"root"}))}return E(),P})()},8968:(Q,I,r)=>{r.d(I,{l:()=>C});var d=r(2615),f=r(3664),b=r(7705);const D=new WeakMap;let C=(()=>{class w{_appRef;_injector=(0,d.WQX)(d.zZn);_environmentInjector=(0,d.WQX)(d.uvJ);load(e){const l=this._appRef=this._appRef||this._injector.get(f.o8S);let R=D.get(l);R||(R={loaders:new Set,refs:[]},D.set(l,R),l.onDestroy(()=>{D.get(l)?.refs.forEach(u=>u.destroy()),D.delete(l)})),R.loaders.has(e)||(R.loaders.add(e),R.refs.push((0,b.a0P)(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(l){return new(l||w)};static \u0275prov=d.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})()},9686:(Q,I,r)=>{r.d(I,{E:()=>D});var d=r(9888),f=r(3664),b=r(2102);let D=(()=>{var C;class w{constructor(e){this.sidenavRightService=e}openForumSelection(){this.sidenavRightService.pushEntity({entity:d.t.forumList})}static#t=C=()=>(this.\u0275fac=function(l){return new(l||w)(f.rXU(b.i))},this.\u0275cmp=f.VBU({type:w,selectors:[["app-forum-required"]],standalone:!1,decls:11,vars:0,consts:[[1,"alert","alert-primary","mb-0"],[1,"fw-bold","text-center"],[1,"text-justify"],[1,"fw-bold"],["role","button",1,"text-decoration-underline","fw-bold",3,"click"]],template:function(l,R){1&l&&(f.j41(0,"div",0)(1,"div",1),f.EFF(2,"Seleziona un forum!"),f.k0s(),f.j41(3,"div",2),f.EFF(4," Per utilizzare questa funzione \xe8 prima necessario "),f.j41(5,"span",3),f.EFF(6,"scegliere su quale sito"),f.k0s(),f.EFF(7," si vuole operare. \xc8 possibile selezionare il forum/blog da amministrare mediante "),f.j41(8,"a",4),f.bIt("click",function(){return R.openForumSelection()}),f.EFF(9,"l'apposita funzione"),f.k0s(),f.EFF(10," presente nella sidenav di destra. "),f.k0s()())},encapsulation:2}))}return C(),w})()},9692:(Q,I,r)=>{r.d(I,{x:()=>f});var d=r(3664);let f=(()=>{var b;class D{constructor(w){this.element=w,this.srcReplacer="/assets/default_avatar.png",this.nameDynamicReplace=""}ngOnInit(){this.nameDynamicReplace&&(this.srcReplacer=`https://eu.ui-avatars.com/api/?name=${this.nameDynamicReplace}&background=random`)}onError(){this.element.nativeElement.src=this.srcReplacer,this.srcReplacer="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D"}static#t=b=()=>(this.\u0275fac=function(v){return new(v||D)(d.rXU(d.aKT))},this.\u0275dir=d.FsC({type:D,selectors:[["","appImage",""]],hostBindings:function(v,e){1&v&&d.bIt("error",function(){return e.onError()})},inputs:{srcReplacer:"srcReplacer",nameDynamicReplace:"nameDynamicReplace"},standalone:!1}))}return b(),D})()},9716:(Q,I,r)=>{r.d(I,{e:()=>D});var d=r(2615),f=r(3664),b=r(2998);let D=(()=>{var C;class w{constructor(){this.elementRef=(0,d.WQX)(f.aKT),this.tippyService=(0,d.WQX)(b.Qd),this.renderer=(0,d.WQX)(f.sFG),this.zone=(0,d.WQX)(f.SKi),this.appTippy="",this.disableOnTouchDevice=!1,this.trigger="mouseenter",this.tippyProps={},this.disableInstance=!1,this.touchEvents={mouseenter:"click"},this.defaultProps={},this.isTouchDevice=(0,b.Wy)()}ngOnInit(){this.isTouchDevice&&this.disableOnTouchDevice||((0,b.l$)(this.tippyProps,"trigger")?this.trigger=this.tippyProps.trigger:(this.isTouchDevice&&(0,b.l$)(this.touchEvents,this.trigger)&&(this.trigger=this.touchEvents[this.trigger]),this.defaultProps.trigger=this.trigger),this.zone.runOutsideAngular(()=>{this.disposeEvent=this.renderer.listen(this.elementRef.nativeElement,this.trigger,()=>{this.create(),this.callDisposeEvent()})}))}ngOnChanges(e){if((0,b.l$)(e,"appTippy")&&!e.appTippy.firstChange&&this.instance&&this.tippyService.setContent(this.instance,this.appTippy),(0,b.l$)(e,"disableInstance")&&!e.disableInstance.firstChange){if(this.instance)return void(this.disableInstance?this.tippyService.disable(this.instance):this.tippyService.enable(this.instance));this.create(),this.callDisposeEvent()}(0,b.l$)(e,"tippyProps")&&!e.tippyProps.firstChange&&this.instance&&this.tippyService.setProps(this.instance,{...this.defaultProps,...this.tippyProps})}create(){(0,b.l$)(this.tippyProps,"content")||(this.defaultProps.content=this.appTippy),(0,b.l$)(this.tippyProps,"appendTo")||(this.defaultProps.appendTo=document.body),(0,b.l$)(this.tippyProps,"animation")?null===this.tippyProps.animation&&delete this.tippyProps.animation:this.defaultProps.animation="shift-away",this.instance=this.tippyService.create(this.elementRef.nativeElement,{...this.defaultProps,...this.tippyProps},!this.disableInstance),this.disableInstance&&this.tippyService.disable(this.instance)}callDisposeEvent(){this.disposeEvent(),this.disposeEvent=void 0}changeContent(e,l){this.instance&&(l&&this.changeContentOnHidden(l),this.appTippy=e,this.tippyService.setContent(this.instance,this.appTippy))}changeContentOnHidden(e){this.instance&&(this.instance.props.onHidden=()=>{this.appTippy=e,this.tippyService.setContent(this.instance,this.appTippy),this.instance.props.onHidden=()=>{}})}ngOnDestroy(){this.instance&&this.tippyService.destroy(this.instance),this.disposeEvent&&this.disposeEvent()}static#t=C=()=>(this.\u0275fac=function(l){return new(l||w)},this.\u0275dir=f.FsC({type:w,selectors:[["","appTippy",""]],inputs:{appTippy:"appTippy",disableOnTouchDevice:"disableOnTouchDevice",trigger:"trigger",tippyProps:"tippyProps",disableInstance:"disableInstance"},exportAs:["appTippy"],features:[f.OA$]}))}return C(),w})()},9726:(Q,I,r)=>{r.d(I,{g:()=>D});var d=r(2615),f=r(3664);const b={};let D=(()=>{class C{_appId=(0,d.WQX)(f.sZ2);getId(v){return"ng"!==this._appId&&(v+=this._appId),b.hasOwnProperty(v)||(b[v]=0),`${v}${b[v]++}`}static \u0275fac=function(e){return new(e||C)};static \u0275prov=d.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},9763:(Q,I,r)=>{r.d(I,{p:()=>R});var d=r(467),f=r(2881),b=r(2998),e=r(3654),l=r(2615);let R=(()=>{var u;class N{constructor(H,L){this.globalsService=H,this.graphqlService=L,this.roles=[],this.profileSubscription=this.globalsService.profileObservable.subscribe(M=>{M?(this.ffuid=M.user.ffuid,this.roles=M.user.roles):(this.ffuid=void 0,this.roles=[])})}get scriptDev(){return this.ffuid?e.ql[this.ffuid]:void 0}hasAtLeastOnePermission(H){return H.some(L=>this.roles.indexOf(L)>-1)}getSessionList(){var H=this;return(0,d.A)(function*(){return(yield H.graphqlService.query({query:"\nquery ListSessions {\n    listSessions {\n        tokenId\n        userAgent\n        ip\n        iat\n        lastIp\n        lastUsed\n    }\n}"})).data.listSessions})()}getApiKeyList(){var H=this;return(0,d.A)(function*(){return(yield H.graphqlService.query({query:"\nquery ListApiKeys {\n    listApiKeys {\n        name\n        key\n        date\n    }\n}"})).data.listApiKeys})()}addApiKey(H){var L=this;return(0,d.A)(function*(){return(yield L.graphqlService.mutate({mutation:"\nmutation AddApiKey($name: String) {\n    addApiKey(name: $name)\n}",variables:{name:H}})).data.addApiKey})()}deleteApiKey(H){var L=this;return(0,d.A)(function*(){return(yield L.graphqlService.mutate({mutation:"\nmutation DelApiKey($key: String!) {\n    delApiKey(key: $key)\n}",variables:{key:H}})).data.delApiKey})()}ngOnDestroy(){this.profileSubscription.unsubscribe()}static#t=u=()=>(this.\u0275fac=function(L){return new(L||N)(l.KVO(f.k),l.KVO(b.Pp))},this.\u0275prov=l.jDH({token:N,factory:N.\u0275fac,providedIn:"root"}))}return u(),N})()},9888:(Q,I,r)=>{r.d(I,{Z:()=>_,t:()=>X});var d=r(467),f=r(7515),b=r(2881),D=r(6660),C=r(9763),w=r(8488),v=r(2998),e=r(3664),l=r(2615),R=r(2102),u=r(2200),N=r(9417),$=r(9692),H=r(5652),L=r(2417);const M=m=>({selected:m});function U(m,g){1&m&&e.EFF(0," \xc8 possibile passare velocemente da un sito a un altro semplicemente cliccando sul nome del forum/blog desiderato: l'app verr\xe0 automaticamente aggiornata con le nuove informazioni e si potr\xe0 iniziare subito ad amministrare! ")}function J(m,g){1&m&&e.EFF(0," Uno sviluppatore pu\xf2 inserire direttamente il dominio completo del forum/blog nell'apposito campo sotto la lista per gestire i propri script installati su tale sito, in modo da agevolare la risoluzione di richieste di supporto. ")}function st(m,g){if(1&m&&e.nrm(0,"app-loader",4),2&m){const x=e.XpG();e.Y8G("message",x.loadingMessage)}}function pt(m,g){if(1&m){const x=e.RV6();e.j41(0,"li",9),e.bIt("click",function(B){const V=l.eBV(x).$implicit,K=e.XpG(3);return l.Njj(K.selectForum(V,B))}),e.j41(1,"div",10),e.nrm(2,"img",11),e.nI1(3,"uploadsreplace"),e.k0s(),e.j41(4,"div",12),e.nrm(5,"div",13)(6,"div",14),e.k0s()()}if(2&m){const x=g.$implicit,F=e.XpG(3);e.Y8G("ngClass",e.eq3(10,M,F.selectedForum===x.id)),e.R7$(2),e.Y8G("src",e.mNQ(e.bMT(3,8,x.preview)),e.B4B)("alt",e.mNQ(x.name))("srcReplacer",F.defaultImage),e.R7$(3),e.Y8G("innerHTML",x.name,e.npT),e.R7$(),e.Y8G("innerText",x.hostname)}}function q(m,g){if(1&m&&(e.j41(0,"ul",5),e.Z7z(1,pt,7,12,"li",8,e.fX1),e.k0s()),2&m){const x=e.XpG(2);e.R7$(),e.Dyx(x.forums)}}function vt(m,g){1&m&&(e.j41(0,"div",6),e.EFF(1," Non possiedi l'amministrazione di alcun forum! "),e.k0s())}function rt(m,g){if(1&m){const x=e.RV6();e.j41(0,"div",7)(1,"input",15,0),e.mxI("ngModelChange",function(B){l.eBV(x);const V=e.XpG(2);return e.DH7(V.forumInputValue,B)||(V.forumInputValue=B),l.Njj(B)}),e.bIt("keyup.enter",function(){l.eBV(x);const B=e.sdS(2),V=e.XpG(2);return B.blur(),l.Njj(V.addForumFromDomain(B.value))}),e.k0s(),e.j41(3,"button",16),e.bIt("click",function(){l.eBV(x);const B=e.sdS(2),V=e.XpG(2);return l.Njj(V.addForumFromDomain(B.value))}),e.j41(4,"span",17),e.EFF(5,"done"),e.k0s()()()}if(2&m){const x=e.XpG(2);e.R7$(),e.R50("ngModel",x.forumInputValue)}}function at(m,g){if(1&m&&(e.nVh(0,q,3,0,"ul",5)(1,vt,2,0,"div",6),e.nVh(2,rt,6,1,"div",7)),2&m){const x=e.XpG();e.vxM(x.forums.length?0:1),e.R7$(2),e.vxM(x.isDev?2:-1)}}let gt=(()=>{var m;class g{constructor(F,B,V,K,z){this.globalsService=F,this.toastService=B,this.forumService=V,this.profileService=K,this.sidenavRightService=z,this.toastMessage="Il dominio non \xe8 valido! Inserisci solo l'url del sito.",this.forums=[],this.loading=!0,this.loadingMessage="Inizializzazione",this.defaultImage="/assets/default_forum.jpg",this.forumInputValue="",this.selectedForum=this.globalsService.forum?.id||0,this.isDev=this.profileService.hasAtLeastOnePermission([v.fo.SCRIPT_DEV])}ngOnInit(){var F=this;return(0,d.A)(function*(){F.forums=(yield F.forumService.getMyForumList()).map(V=>F.forumService.createForumWithAdmin(V,(0,v.S_)(V.site),!0));const B=F.globalsService.forum;B&&-1===F.forums.findIndex(V=>V.id===B.id)&&F.forums.push(B),F.loading=!1})()}selectForum(F,B=null){this.selectedForum!==F.id&&(null===B||"A"!==B.target.nodeName)&&(this.sidenavRightService.closeOnAction&&(this.sidenavRightService.closeOnAction=!1,this.sidenavRightService.close()),this.globalsService.forum=F,this.selectedForum=F.id)}addForumFromDomain(F){var B=this;return(0,d.A)(function*(){if(0===F.length)return;const V=(0,v.Kv)(F.replace(/\/$/,""));if(!V)return void B.toastService.show({content:B.toastMessage,level:f.A.ERROR});const K=`${V.subdomain}.${V.domain}`;let z=B.forums.find(et=>et.hostname===K);if(z)B.selectForum(z);else{B.loading=!0;const et=yield B.forumService.getForumDetailsFromDomain(K);et&&(z=B.forumService.createForumWithAdmin(et,V.domain,!1),z&&(B.forums.push(z),B.selectForum(z))),B.loading=!1}B.forumInputValue=""})()}static#t=m=()=>(this.\u0275fac=function(B){return new(B||g)(e.rXU(b.k),e.rXU(w.f),e.rXU(D.p),e.rXU(C.p),e.rXU(R.i))},this.\u0275cmp=e.VBU({type:g,selectors:[["app-my-forum-list"]],standalone:!1,decls:10,vars:2,consts:[["input",""],[1,"content","bg-white","pb-4"],[1,"title","fs-5","text-primary","fw-bold","mb-3","px-3"],[1,"description","px-3","mb-3","text-justify"],[3,"message"],[1,"list-unstyled","forum-list","mb-0"],[1,"alert","alert-primary","mx-3","text-center"],[1,"input-group","mt-3","px-3"],[1,"d-flex","flex-row","align-items-center","cursor-pointer","px-3","px-sm-4",3,"ngClass"],[1,"d-flex","flex-row","align-items-center","cursor-pointer","px-3","px-sm-4",3,"click","ngClass"],[1,"preview","rounded-circle","me-3","me-sm-4","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt","srcReplacer"],[1,"info","flex-grow-1","py-3","d-flex","flex-column","align-items-start"],[1,"name","fw-bold","text-truncate","mw-100",3,"innerHTML"],[1,"text-muted","text-truncate","mw-100",3,"innerText"],["type","text","placeholder","Link del forum...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"input-group-text",3,"click"],[1,"material-icons-outlined"]],template:function(B,V){1&B&&(e.j41(0,"div",1)(1,"div",2),e.EFF(2," Forum da amministrare "),e.k0s(),e.j41(3,"div",3),e.EFF(4," Prima di poter installare uno script per forum oppure aggiungere o rimuovere un admin degli script, \xe8 essenziale selezionare il sito su cui operare. Di seguito \xe8 presente l'elenco dei forum/blog di cui si \xe8 amministratori, quello attualmente selezionato \xe8 evidenziato."),e.nrm(5,"br"),e.nVh(6,U,1,0)(7,J,1,0),e.k0s(),e.nVh(8,st,1,1,"app-loader",4)(9,at,3,2),e.k0s()),2&B&&(e.R7$(6),e.vxM(V.isDev?7:6),e.R7$(2),e.vxM(V.loading?8:9))},dependencies:[u.YU,N.me,N.BC,N.vS,$.x,H.V,L.T],styles:[".content[_ngcontent-%COMP%]{padding-top:.5rem}.description[_ngcontent-%COMP%]{font-size:.95rem}.forum-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:background-color .3s}.forum-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.selected):hover{background-color:rgb(var(--bs-light-rgb))}.forum-list[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#dae0ff}.forum-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:0}.forum-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:50px;height:50px}@media (min-width: 960px){.title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{padding-top:1.5rem}}@media (min-width: 576px){.forum-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:60px;height:60px}}"]}))}return m(),g})();var E=r(8398),P=r(2133);const X={[P.M.SCRIPTS_ADMIN]:{component:E.b,name:P.M.SCRIPTS_ADMIN},[P.M.FORUM_LIST]:{component:gt,name:P.M.FORUM_LIST}},_="Leggi di pi\xf9..."},9935:(Q,I,r)=>{r.d(I,{U:()=>D,e:()=>C.e});var d=r(2200),f=r(3664),b=r(2615);let D=(()=>{var w;class v{static#t=w=()=>(this.\u0275fac=function(R){return new(R||v)},this.\u0275mod=f.$C({type:v}),this.\u0275inj=b.G2t({imports:[d.MD]}))}return w(),v})();var C=r(9716)},9944:(Q,I,r)=>{r.d(I,{yg:()=>ue,uv:()=>Ht,Gj:()=>dt,E$:()=>fe,d6:()=>Gt,fZ:()=>me,Zr:()=>ge,R:()=>pe,E9:()=>$t,Xj:()=>St});var d=r(3664),f=r(2615),b=r(7705),D=r(9295),C=r(1413),w=r(7673),v=r(1985),e=r(536),l=r(6780);let u,R=1;const N={};function $(S){return S in N&&(delete N[S],!0)}const H={setImmediate(S){const A=R++;return N[A]=!0,u||(u=Promise.resolve()),u.then(()=>$(A)&&S()),A},clearImmediate(S){$(S)}},{setImmediate:M,clearImmediate:U}=H,J={setImmediate(...S){const{delegate:A}=J;return(A?.setImmediate||M)(...S)},clearImmediate(S){const{delegate:A}=J;return(A?.clearImmediate||U)(S)},delegate:void 0};var pt=r(9687);const vt=new class q extends pt.q{flush(A){this._active=!0;const c=this._scheduled;this._scheduled=void 0;const{actions:h}=this;let O;A=A||h.shift();do{if(O=A.execute(A.state,A.delay))break}while((A=h[0])&&A.id===c&&h.shift());if(this._active=!1,O){for(;(A=h[0])&&A.id===c&&h.shift();)A.unsubscribe();throw O}}}(class st extends l.R{constructor(A,c){super(A,c),this.scheduler=A,this.work=c}requestAsyncId(A,c,h=0){return null!==h&&h>0?super.requestAsyncId(A,c,h):(A.actions.push(this),A._scheduled||(A._scheduled=J.setImmediate(A.flush.bind(A,void 0))))}recycleAsyncId(A,c,h=0){var O;if(null!=h?h>0:this.delay>0)return super.recycleAsyncId(A,c,h);const{actions:T}=A;null!=c&&(null===(O=T[T.length-1])||void 0===O?void 0:O.id)!==c&&(J.clearImmediate(c),A._scheduled===c&&(A._scheduled=void 0))}});var at=r(8359),gt=r(4402),E=r(3294),P=r(3236),X=r(9974),_=r(8750),m=r(4360),x=r(1584);function F(S,A=P.E){return function g(S){return(0,X.N)((A,c)=>{let h=!1,O=null,T=null,j=!1;const ot=()=>{if(T?.unsubscribe(),T=null,h){h=!1;const Z=O;O=null,c.next(Z)}j&&c.complete()},Y=()=>{T=null,j&&c.complete()};A.subscribe((0,m._)(c,Z=>{h=!0,O=Z,T||(0,_.Tg)(S(Z)).subscribe(T=(0,m._)(c,ot,Y))},()=>{j=!0,(!h||!T||T.closed)&&c.complete()}))})}(()=>(0,x.O)(S,A))}var B=r(5964),V=r(9172),K=r(6977),et=r(5558),lt=r(4668),it=r(7847),Ct=r(9842),Rt=r(1577),nt=r(7860),ft=r(8203),re=r(17);class ae{}class Xt extends ae{_data;constructor(A){super(),this._data=A}connect(){return(0,gt.A)(this._data)?this._data:(0,w.of)(this._data)}disconnect(){}}var Et=function(S){return S[S.REPLACED=0]="REPLACED",S[S.INSERTED=1]="INSERTED",S[S.MOVED=2]="MOVED",S[S.REMOVED=3]="REMOVED",S}(Et||{});const zt=new f.nKC("_ViewRepeater");class ce{viewCacheSize=20;_viewCache=[];applyChanges(A,c,h,O,T){A.forEachOperation((j,ot,Y)=>{let Z,Dt;null==j.previousIndex?(Z=this._insertView(()=>h(j,ot,Y),Y,c,O(j)),Dt=Z?Et.INSERTED:Et.REPLACED):null==Y?(this._detachAndCacheView(ot,c),Dt=Et.REMOVED):(Z=this._moveView(ot,Y,c,O(j)),Dt=Et.MOVED),T&&T({context:Z?.context,operation:Dt,record:j})})}detach(){for(const A of this._viewCache)A.destroy();this._viewCache=[]}_insertView(A,c,h,O){const T=this._insertViewFromCache(c,h);if(T)return void(T.context.$implicit=O);const j=A();return h.createEmbeddedView(j.templateRef,j.context,j.index)}_detachAndCacheView(A,c){const h=c.detach(A);this._maybeCacheView(h,c)}_moveView(A,c,h,O){const T=h.get(A);return h.move(T,c),T.context.$implicit=O,T}_maybeCacheView(A,c){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(A);else{const h=c.indexOf(A);-1===h?A.destroy():c.remove(h)}}_insertViewFromCache(A,c){const h=this._viewCache.pop();return h&&c.insert(h,A),h||null}}const de=["contentWrapper"],he=["*"],Lt=new f.nKC("VIRTUAL_SCROLL_STRATEGY");class Be{_scrolledIndexChange=new C.B;scrolledIndexChange=this._scrolledIndexChange.pipe((0,E.F)());_viewport=null;_itemSize;_minBufferPx;_maxBufferPx;constructor(A,c,h){this._itemSize=A,this._minBufferPx=c,this._maxBufferPx=h}attach(A){this._viewport=A,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(A,c,h){this._itemSize=A,this._minBufferPx=c,this._maxBufferPx=h,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(A,c){this._viewport&&this._viewport.scrollToOffset(A*this._itemSize,c)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const A=this._viewport.getRenderedRange(),c={start:A.start,end:A.end},h=this._viewport.getViewportSize(),O=this._viewport.getDataLength();let T=this._viewport.measureScrollOffset(),j=this._itemSize>0?T/this._itemSize:0;if(c.end>O){const Y=Math.ceil(h/this._itemSize),Z=Math.max(0,Math.min(j,O-Y));j!=Z&&(j=Z,T=Z*this._itemSize,c.start=Math.floor(j)),c.end=Math.max(0,Math.min(O,c.start+Y))}const ot=T-c.start*this._itemSize;if(ot<this._minBufferPx&&0!=c.start){const Y=Math.ceil((this._maxBufferPx-ot)/this._itemSize);c.start=Math.max(0,c.start-Y),c.end=Math.min(O,Math.ceil(j+(h+this._minBufferPx)/this._itemSize))}else{const Y=c.end*this._itemSize-(T+h);if(Y<this._minBufferPx&&c.end!=O){const Z=Math.ceil((this._maxBufferPx-Y)/this._itemSize);Z>0&&(c.end=Math.min(O,c.end+Z),c.start=Math.max(0,Math.floor(j-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(c),this._viewport.setRenderedContentOffset(Math.round(this._itemSize*c.start)),this._scrolledIndexChange.next(Math.floor(j))}}function Ne(S){return S._scrollStrategy}let ue=(()=>{class S{get itemSize(){return this._itemSize}set itemSize(c){this._itemSize=(0,it.OE)(c)}_itemSize=20;get minBufferPx(){return this._minBufferPx}set minBufferPx(c){this._minBufferPx=(0,it.OE)(c)}_minBufferPx=100;get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(c){this._maxBufferPx=(0,it.OE)(c)}_maxBufferPx=200;_scrollStrategy=new Be(this.itemSize,this.minBufferPx,this.maxBufferPx);ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static \u0275fac=function(h){return new(h||S)};static \u0275dir=d.FsC({type:S,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[d.Jv_([{provide:Lt,useFactory:Ne,deps:[(0,f.Rfq)(()=>S)]}]),d.OA$]})}return S})(),pe=(()=>{class S{_ngZone=(0,f.WQX)(d.SKi);_platform=(0,f.WQX)(Ct.O);_renderer=(0,f.WQX)(d._9s).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new C.B;_scrolledCount=0;scrollContainers=new Map;register(c){this.scrollContainers.has(c)||this.scrollContainers.set(c,c.elementScrolled().subscribe(()=>this._scrolled.next(c)))}deregister(c){const h=this.scrollContainers.get(c);h&&(h.unsubscribe(),this.scrollContainers.delete(c))}scrolled(c=20){return this._platform.isBrowser?new v.c(h=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const O=c>0?this._scrolled.pipe(F(c)).subscribe(h):this._scrolled.subscribe(h);return this._scrolledCount++,()=>{O.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):(0,w.of)()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((c,h)=>this.deregister(h)),this._scrolled.complete()}ancestorScrolled(c,h){const O=this.getAncestorScrollContainers(c);return this.scrolled(h).pipe((0,B.p)(T=>!T||O.indexOf(T)>-1))}getAncestorScrollContainers(c){const h=[];return this.scrollContainers.forEach((O,T)=>{this._scrollableContainsElement(T,c)&&h.push(T)}),h}_scrollableContainsElement(c,h){let O=(0,it.i8)(h),T=c.getElementRef().nativeElement;do{if(O==T)return!0}while(O=O.parentElement);return!1}static \u0275fac=function(h){return new(h||S)};static \u0275prov=f.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),Ht=(()=>{class S{elementRef=(0,f.WQX)(d.aKT);scrollDispatcher=(0,f.WQX)(pe);ngZone=(0,f.WQX)(d.SKi);dir=(0,f.WQX)(Rt.dS,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new C.B;_renderer=(0,f.WQX)(d.sFG);_cleanupScroll;_elementScrolled=new C.B;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",c=>this._elementScrolled.next(c))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(c){const h=this.elementRef.nativeElement,O=this.dir&&"rtl"==this.dir.value;null==c.left&&(c.left=O?c.end:c.start),null==c.right&&(c.right=O?c.start:c.end),null!=c.bottom&&(c.top=h.scrollHeight-h.clientHeight-c.bottom),O&&(0,nt.BD)()!=nt.r5.NORMAL?(null!=c.left&&(c.right=h.scrollWidth-h.clientWidth-c.left),(0,nt.BD)()==nt.r5.INVERTED?c.left=c.right:(0,nt.BD)()==nt.r5.NEGATED&&(c.left=c.right?-c.right:c.right)):null!=c.right&&(c.left=h.scrollWidth-h.clientWidth-c.right),this._applyScrollToOptions(c)}_applyScrollToOptions(c){const h=this.elementRef.nativeElement;(0,nt.CZ)()?h.scrollTo(c):(null!=c.top&&(h.scrollTop=c.top),null!=c.left&&(h.scrollLeft=c.left))}measureScrollOffset(c){const h="left",O="right",T=this.elementRef.nativeElement;if("top"==c)return T.scrollTop;if("bottom"==c)return T.scrollHeight-T.clientHeight-T.scrollTop;const j=this.dir&&"rtl"==this.dir.value;return"start"==c?c=j?O:h:"end"==c&&(c=j?h:O),j&&(0,nt.BD)()==nt.r5.INVERTED?c==h?T.scrollWidth-T.clientWidth-T.scrollLeft:T.scrollLeft:j&&(0,nt.BD)()==nt.r5.NEGATED?c==h?T.scrollLeft+T.scrollWidth-T.clientWidth:-T.scrollLeft:c==h?T.scrollLeft:T.scrollWidth-T.clientWidth-T.scrollLeft}static \u0275fac=function(h){return new(h||S)};static \u0275dir=d.FsC({type:S,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return S})(),St=(()=>{class S{_platform=(0,f.WQX)(Ct.O);_listeners;_viewportSize;_change=new C.B;_document=(0,f.WQX)(f.qQL);constructor(){const c=(0,f.WQX)(d.SKi),h=(0,f.WQX)(d._9s).createRenderer(null,null);c.runOutsideAngular(()=>{if(this._platform.isBrowser){const O=T=>this._change.next(T);this._listeners=[h.listen("window","resize",O),h.listen("window","orientationchange",O)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(c=>c()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const c={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),c}getViewportRect(){const c=this.getViewportScrollPosition(),{width:h,height:O}=this.getViewportSize();return{top:c.top,left:c.left,bottom:c.top+O,right:c.left+h,height:O,width:h}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const c=this._document,h=this._getWindow(),O=c.documentElement,T=O.getBoundingClientRect();return{top:-T.top||c.body.scrollTop||h.scrollY||O.scrollTop||0,left:-T.left||c.body.scrollLeft||h.scrollX||O.scrollLeft||0}}change(c=20){return c>0?this._change.pipe(F(c)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const c=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:c.innerWidth,height:c.innerHeight}:{width:0,height:0}}static \u0275fac=function(h){return new(h||S)};static \u0275prov=f.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();const Mt=new f.nKC("VIRTUAL_SCROLLABLE");let kt=(()=>{class S extends Ht{constructor(){super()}measureViewportSize(c){const h=this.elementRef.nativeElement;return"horizontal"===c?h.clientWidth:h.clientHeight}static \u0275fac=function(h){return new(h||S)};static \u0275dir=d.FsC({type:S,features:[d.Vt3]})}return S})();const Ut=typeof requestAnimationFrame<"u"?e.X:vt;let Gt=(()=>{class S extends kt{elementRef=(0,f.WQX)(d.aKT);_changeDetectorRef=(0,f.WQX)(b.gRc);_scrollStrategy=(0,f.WQX)(Lt,{optional:!0});scrollable=(0,f.WQX)(Mt,{optional:!0});_platform=(0,f.WQX)(Ct.O);_detachedSubject=new C.B;_renderedRangeSubject=new C.B;get orientation(){return this._orientation}set orientation(c){this._orientation!==c&&(this._orientation=c,this._calculateSpacerSize())}_orientation="vertical";appendOnly=!1;scrolledIndexChange=new v.c(c=>this._scrollStrategy.scrolledIndexChange.subscribe(h=>Promise.resolve().then(()=>this.ngZone.run(()=>c.next(h)))));_contentWrapper;renderedRangeStream=this._renderedRangeSubject;_totalContentSize=0;_totalContentWidth=(0,f.vPA)("");_totalContentHeight=(0,f.vPA)("");_renderedContentTransform;_renderedRange={start:0,end:0};_dataLength=0;_viewportSize=0;_forOf;_renderedContentOffset=0;_renderedContentOffsetNeedsRewrite=!1;_changeDetectionNeeded=(0,f.vPA)(!1);_runAfterChangeDetection=[];_viewportChanges=at.yU.EMPTY;_injector=(0,f.WQX)(f.zZn);_isDestroyed=!1;constructor(){super();const c=(0,f.WQX)(St);this._viewportChanges=c.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this);const h=(0,D.QZ)(()=>{this._changeDetectionNeeded()&&this._doChangeDetection()},{injector:(0,f.WQX)(d.o8S).injector});(0,f.WQX)(f.abz).onDestroy(()=>{h.destroy()})}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,V.Z)(null),F(0,Ut),(0,K.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(c){this.ngZone.runOutsideAngular(()=>{this._forOf=c,this._forOf.dataStream.pipe((0,K.Q)(this._detachedSubject)).subscribe(h=>{const O=h.length;O!==this._dataLength&&(this._dataLength=O,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(c){return this.getElementRef().nativeElement.getBoundingClientRect()[c]}setTotalContentSize(c){this._totalContentSize!==c&&(this._totalContentSize=c,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(c){(function Bt(S,A){return S.start==A.start&&S.end==A.end})(this._renderedRange,c)||(this.appendOnly&&(c={start:0,end:Math.max(this._renderedRange.end,c.end)}),this._renderedRangeSubject.next(this._renderedRange=c),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(c,h="to-start"){c=this.appendOnly&&"to-start"===h?0:c;const T="horizontal"==this.orientation,j=T?"X":"Y";let Y=`translate${j}(${Number((T&&this.dir&&"rtl"==this.dir.value?-1:1)*c)}px)`;this._renderedContentOffset=c,"to-end"===h&&(Y+=` translate${j}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Y&&(this._renderedContentTransform=Y,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(c,h="auto"){const O={behavior:h};"horizontal"===this.orientation?O.start=c:O.top=c,this.scrollable.scrollTo(O)}scrollToIndex(c,h="auto"){this._scrollStrategy.scrollToIndex(c,h)}measureScrollOffset(c){let h;return h=this.scrollable==this?O=>super.measureScrollOffset(O):O=>this.scrollable.measureScrollOffset(O),Math.max(0,h(c??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(c){let h;const O="left",T="right",j="rtl"==this.dir?.value;h="start"==c?j?T:O:"end"==c?j?O:T:c||("horizontal"===this.orientation?"left":"top");const ot=this.scrollable.measureBoundingClientRectWithScrollOffset(h);return this.elementRef.nativeElement.getBoundingClientRect()[h]-ot}measureRenderedContentSize(){const c=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?c.offsetWidth:c.offsetHeight}measureRangeSize(c){return this._forOf?this._forOf.measureRangeSize(c,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(c){c&&this._runAfterChangeDetection.push(c),!(0,D.O8)(this._changeDetectionNeeded)&&this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.ngZone.run(()=>{this._changeDetectionNeeded.set(!0)})})})}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,d.mal)(()=>{this._changeDetectionNeeded.set(!1);const c=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const h of c)h()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight.set("horizontal"===this.orientation?"":`${this._totalContentSize}px`),this._totalContentWidth.set("horizontal"===this.orientation?`${this._totalContentSize}px`:"")}static \u0275fac=function(h){return new(h||S)};static \u0275cmp=d.VBU({type:S,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(h,O){if(1&h&&d.GBs(de,7),2&h){let T;d.mGM(T=d.lsd())&&(O._contentWrapper=T.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(h,O){2&h&&d.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===O.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==O.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",b.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[d.Jv_([{provide:Ht,useFactory:(c,h)=>c||h,deps:[[new d.Xx1,new d.y_5(Mt)],S]}]),d.Vt3],ngContentSelectors:he,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(h,O){1&h&&(d.NAR(),d.rj2(0,"div",1,0),d.SdG(2),d.eux(),d.Hgh(3,"div",2)),2&h&&(d.R7$(3),d.xc7("width",O._totalContentWidth())("height",O._totalContentHeight()))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0})}return S})();function Qt(S,A,c){if(!c.getBoundingClientRect)return 0;const O=c.getBoundingClientRect();return"horizontal"===S?"start"===A?O.left:O.right:"start"===A?O.top:O.bottom}let fe=(()=>{class S{_viewContainerRef=(0,f.WQX)(d.c1b);_template=(0,f.WQX)(d.C4Q);_differs=(0,f.WQX)(b._q3);_viewRepeater=(0,f.WQX)(zt);_viewport=(0,f.WQX)(Gt,{skipSelf:!0});viewChange=new C.B;_dataSourceChanges=new C.B;get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(c){this._cdkVirtualForOf=c,function le(S){return S&&"function"==typeof S.connect&&!(S instanceof re.G)}(c)?this._dataSourceChanges.next(c):this._dataSourceChanges.next(new Xt((0,gt.A)(c)?c:Array.from(c||[])))}_cdkVirtualForOf;get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(c){this._needsUpdate=!0,this._cdkVirtualForTrackBy=c?(h,O)=>c(h+(this._renderedRange?this._renderedRange.start:0),O):void 0}_cdkVirtualForTrackBy;set cdkVirtualForTemplate(c){c&&(this._needsUpdate=!0,this._template=c)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(c){this._viewRepeater.viewCacheSize=(0,it.OE)(c)}dataStream=this._dataSourceChanges.pipe((0,V.Z)(null),function z(){return(0,X.N)((S,A)=>{let c,h=!1;S.subscribe((0,m._)(A,O=>{const T=c;c=O,h&&A.next([T,O]),h=!0}))})}(),(0,et.n)(([c,h])=>this._changeDataSource(c,h)),(0,lt.t)(1));_differ=null;_data;_renderedItems;_renderedRange;_needsUpdate=!1;_destroyed=new C.B;constructor(){const c=(0,f.WQX)(d.SKi);this.dataStream.subscribe(h=>{this._data=h,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,K.Q)(this._destroyed)).subscribe(h=>{this._renderedRange=h,this.viewChange.observers.length&&c.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(c,h){if(c.start>=c.end)return 0;const O=c.start-this._renderedRange.start,T=c.end-c.start;let j,ot;for(let Y=0;Y<T;Y++){const Z=this._viewContainerRef.get(Y+O);if(Z&&Z.rootNodes.length){j=ot=Z.rootNodes[0];break}}for(let Y=T-1;Y>-1;Y--){const Z=this._viewContainerRef.get(Y+O);if(Z&&Z.rootNodes.length){ot=Z.rootNodes[Z.rootNodes.length-1];break}}return j&&ot?Qt(h,"end",ot)-Qt(h,"start",j):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const c=this._differ.diff(this._renderedItems);c?this._applyChanges(c):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((c,h)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(c,h):h)),this._needsUpdate=!0)}_changeDataSource(c,h){return c&&c.disconnect(this),this._needsUpdate=!0,h?h.connect(this):(0,w.of)()}_updateContext(){const c=this._data.length;let h=this._viewContainerRef.length;for(;h--;){const O=this._viewContainerRef.get(h);O.context.index=this._renderedRange.start+h,O.context.count=c,this._updateComputedContextProperties(O.context),O.detectChanges()}}_applyChanges(c){this._viewRepeater.applyChanges(c,this._viewContainerRef,(T,j,ot)=>this._getEmbeddedViewArgs(T,ot),T=>T.item),c.forEachIdentityChange(T=>{this._viewContainerRef.get(T.currentIndex).context.$implicit=T.item});const h=this._data.length;let O=this._viewContainerRef.length;for(;O--;){const T=this._viewContainerRef.get(O);T.context.index=this._renderedRange.start+O,T.context.count=h,this._updateComputedContextProperties(T.context)}}_updateComputedContextProperties(c){c.first=0===c.index,c.last=c.index===c.count-1,c.even=c.index%2==0,c.odd=!c.even}_getEmbeddedViewArgs(c,h){return{templateRef:this._template,context:{$implicit:c.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:h}}static ngTemplateContextGuard(c,h){return!0}static \u0275fac=function(h){return new(h||S)};static \u0275dir=d.FsC({type:S,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[d.Jv_([{provide:zt,useClass:ce}])]})}return S})(),me=(()=>{class S extends kt{constructor(){super()}measureBoundingClientRectWithScrollOffset(c){return this.getElementRef().nativeElement.getBoundingClientRect()[c]-this.measureScrollOffset(c)}static \u0275fac=function(h){return new(h||S)};static \u0275dir=d.FsC({type:S,selectors:[["","cdkVirtualScrollingElement",""]],hostAttrs:[1,"cdk-virtual-scrollable"],features:[d.Jv_([{provide:Mt,useExisting:S}]),d.Vt3]})}return S})(),ge=(()=>{class S extends kt{constructor(){super();const c=(0,f.WQX)(f.qQL);this.elementRef=new d.aKT(c.documentElement),this._scrollElement=c}measureBoundingClientRectWithScrollOffset(c){return this.getElementRef().nativeElement.getBoundingClientRect()[c]}static \u0275fac=function(h){return new(h||S)};static \u0275dir=d.FsC({type:S,selectors:[["cdk-virtual-scroll-viewport","scrollWindow",""]],features:[d.Jv_([{provide:Mt,useExisting:S}]),d.Vt3]})}return S})(),dt=(()=>{class S{static \u0275fac=function(h){return new(h||S)};static \u0275mod=d.$C({type:S});static \u0275inj=f.G2t({})}return S})(),$t=(()=>{class S{static \u0275fac=function(h){return new(h||S)};static \u0275mod=d.$C({type:S});static \u0275inj=f.G2t({imports:[ft.jI,dt,ft.jI,dt]})}return S})()}}]);