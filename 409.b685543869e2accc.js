"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[409],{9409:(k,l,n)=>{n.r(l),n.d(l,{GrafanaModule:()=>T});var d=n(2200),h=n(8132),f=n(467),i=n(2998),p=n(1729),v=n(6350),r=n(3664),y=n(3694),g=n(345);function G(s,e){if(1&s&&r.nrm(0,"iframe",0),2&s){const X=r.XpG();r.Y8G("src",X.url,r.f$h)}}let S=(()=>{var s;class e{constructor(t,a,o,c,u){this.route=t,this.graphqlService=a,this.domSanitizer=o,this.endpointsService=c,this.urlQueryParamsService=u}ngOnInit(){var t=this;return(0,f.A)(function*(){t.route.paramMap.subscribe(function(){var a=(0,f.A)(function*(o){const c=o.get("id");if(!c)throw new Error("ID not found");const u=t.getSection(c),I=void 0!==t.urlQueryParamsService.getAndDeleteParam(v.FQ.DISABLE_GRAFANA_KIOSK),U=`${t.endpointsService.get(i.N8.STATIC,i.Hw.GRAFANA)}/${u}${I?"":"&kiosk"}&auth_token=`+(yield t.graphqlService.query({query:"\nquery Query {\n  generateGrafanaToken\n}"})).data.generateGrafanaToken;t.url=t.domSanitizer.bypassSecurityTrustResourceUrl(U)});return function(o){return a.apply(this,arguments)}}())})()}getSection(t){return t.includes("stats")?"d/2X0QqquWk/docker-containers?orgId=1&refresh=10s":t.includes("loki")?"d/liz0yRCZz/loki-dashboard?refresh=10s":""}static#t=s=()=>(this.\u0275fac=function(a){return new(a||e)(r.rXU(y.nX),r.rXU(i.Pp),r.rXU(g.up),r.rXU(i.Q3),r.rXU(p.v))},this.\u0275cmp=r.VBU({type:e,selectors:[["ng-component"]],standalone:!1,decls:1,vars:1,consts:[[3,"src"]],template:function(a,o){1&a&&r.nVh(0,G,1,1,"iframe",0),2&a&&r.vxM(o.url?0:-1)},styles:["iframe[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 120px);position:absolute;left:0;top:0}"]}))}return s(),e})();var A=n(2615);const C=[{path:"",component:S}];let T=(()=>{var s;class e{static#t=s=()=>(this.\u0275fac=function(a){return new(a||e)},this.\u0275mod=r.$C({type:e}),this.\u0275inj=A.G2t({imports:[d.MD,h.iI.forChild(C)]}))}return s(),e})()}}]);