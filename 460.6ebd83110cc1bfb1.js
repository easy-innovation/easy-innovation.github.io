"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[460],{1625:(f,O,e)=>{e.d(O,{_:()=>t});var E=e(2200),n=e(8132),g=e(2615),T=e(3664);let t=(()=>{var d;class h{static#n=d=()=>(this.\u0275fac=function(C){return new(C||h)},this.\u0275mod=T.$C({type:h}),this.\u0275inj=g.G2t({imports:[E.MD,n.iI]}))}return d(),h})()},3101:(f,O,e)=>{e.d(O,{A:()=>R});const n={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let g;const T=new Uint8Array(16),d=[];for(let o=0;o<256;++o)d.push((o+256).toString(16).slice(1));function C(o,s,i){const a=(o=o||{}).random??o.rng?.()??function t(){if(!g){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");g=crypto.getRandomValues.bind(crypto)}return g(T)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,s){if((i=i||0)<0||i+16>s.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);for(let l=0;l<16;++l)s[i+l]=a[l];return s}return function h(o,s=0){return(d[o[s+0]]+d[o[s+1]]+d[o[s+2]]+d[o[s+3]]+"-"+d[o[s+4]]+d[o[s+5]]+"-"+d[o[s+6]]+d[o[s+7]]+"-"+d[o[s+8]]+d[o[s+9]]+"-"+d[o[s+10]]+d[o[s+11]]+d[o[s+12]]+d[o[s+13]]+d[o[s+14]]+d[o[s+15]]).toLowerCase()}(a)}const R=function I(o,s,i){return!n.randomUUID||s||o?C(o,s,i):n.randomUUID()}},4981:(f,O,e)=>{e.d(O,{D:()=>i});var E=e(2998),n=e(6350),g=e(2615);let T=(()=>{var a;class l{constructor(){this.dependencies={[n.LP.LOGIN]:null,[n.LP.HOME]:null,[n.LP.SETTINGS]:n.LP.HOME,[n.LP.SCRIPT]:n.LP.HOME,[n.LP.SCRIPT_FORUM]:n.LP.SCRIPT,[n.LP.SCRIPT_USER]:n.LP.SCRIPT,[n.LP.SCRIPT_SETTINGS]:[n.LP.SCRIPT_USER,n.LP.SCRIPT_FORUM],[n.LP.SCRIPT_DEV]:n.LP.SCRIPT,[n.LP.SCRIPT_DEV_SETTINGS]:n.LP.SCRIPT_DEV,[n.LP.UPLOAD]:n.LP.HOME,[n.LP.ADMIN]:n.LP.HOME,[n.LP.STATS]:n.LP.HOME,[n.LP.STATS_UPLOAD]:n.LP.STATS,[n.LP.TOOLS]:n.LP.HOME},this.names={[n.LP.LOGIN]:"Login",[n.LP.HOME]:"Home",[n.LP.SETTINGS]:"Notifiche",[n.LP.SCRIPT]:"Script",[n.LP.SCRIPT_FORUM]:"Forum",[n.LP.SCRIPT_USER]:"Utenti",[n.LP.SCRIPT_SETTINGS]:"Impostazioni",[n.LP.SCRIPT_DEV]:"Sviluppo",[n.LP.SCRIPT_DEV_SETTINGS]:"Impostazioni",[n.LP.UPLOAD]:"Upload",[n.LP.ADMIN]:"Amministrazione",[n.LP.STATS]:"Statistiche",[n.LP.STATS_UPLOAD]:"Upload",[n.LP.TOOLS]:"Utilit\xe0"}}createPathList(P,p=[]){const S=(_,L)=>{_.unshift({name:this.names[L]||"",path:L})},U=_=>(0,E.l$)(this.dependencies,_)?this.dependencies[_]instanceof Array?this.dependencies[_].includes(p[0])?p.shift():this.dependencies[_][0]:this.dependencies[_]:null,x=[{name:this.names[P]||"",path:""}];let m=U(P);for(;m;)S(x,m),m=U(m);return x}static#n=a=()=>(this.\u0275fac=function(p){return new(p||l)},this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}))}return a(),l})();var t=e(3664),d=e(3694),h=e(8132),D=e(2200);const M=a=>({"hide-nav":a}),C=a=>({"d-none d-md-block":a}),I=a=>({active:a});function R(a,l){if(1&a&&t.nrm(0,"a",5),2&a){const v=t.XpG().$implicit;t.Y8G("routerLink",v.path)("innerText",v.name)}}function o(a,l){if(1&a&&t.nrm(0,"span",6),2&a){const v=t.XpG().$implicit;t.Y8G("innerText",v.name)}}function s(a,l){if(1&a&&(t.j41(0,"li",4),t.nVh(1,R,1,2,"a",5)(2,o,1,1,"span",6),t.k0s()),2&a){const v=l.$index,P=l.$count;t.Y8G("ngClass",t.eq3(3,I,v===P-1)),t.BMQ("aria-current",v===P-1?"page":null),t.R7$(),t.vxM(v!==P-1?1:2)}}let i=(()=>{var a;class l{constructor(P,p){this.breadcrumbService=P,this.router=p,this.pageTitle="",this.url="",this.nodes=[],this.hideNavOnSmallScreen=!1,this.breadcrumbs=[]}ngOnInit(){this.url||(this.url=this.router.url),this.breadcrumbs=this.breadcrumbService.createPathList(this.url,this.nodes)}static#n=a=()=>(this.\u0275fac=function(p){return new(p||l)(t.rXU(T),t.rXU(d.Ix))},this.\u0275cmp=t.VBU({type:l,selectors:[["app-breadcrumb"]],inputs:{pageTitle:"pageTitle",url:"url",nodes:"nodes",hideNavOnSmallScreen:"hideNavOnSmallScreen"},standalone:!1,decls:6,vars:7,consts:[[1,"container-fluid","px-md-1","d-flex","flex-column","flex-md-row","align-items-md-center",3,"ngClass"],[1,"h3","fw-light","mb-0","lh-1","fv-small-caps","pb-1",3,"innerText"],["aria-label","breadcrumb",1,"ms-md-auto","mt-1","flex-shrink-0",3,"ngClass"],[1,"breadcrumb","mb-0","justify-content-md-end"],[1,"breadcrumb-item",3,"ngClass"],[3,"routerLink","innerText"],[3,"innerText"]],template:function(p,S){1&p&&(t.j41(0,"div",0),t.nrm(1,"h2",1),t.j41(2,"nav",2)(3,"ol",3),t.Z7z(4,s,3,5,"li",4,t.fX1),t.k0s()()()),2&p&&(t.Y8G("ngClass",t.eq3(3,M,S.hideNavOnSmallScreen)),t.R7$(),t.Y8G("innerText",S.pageTitle),t.R7$(),t.Y8G("ngClass",t.eq3(5,C,S.hideNavOnSmallScreen)),t.R7$(2),t.Dyx(S.breadcrumbs))},dependencies:[D.YU,h.Wk],styles:[".container-fluid[_ngcontent-%COMP%]:not(.hide-nav){margin-bottom:.75rem}.container-fluid.hide-nav[_ngcontent-%COMP%]{margin-bottom:.5rem}@media (min-width: 768px){.container-fluid.hide-nav[_ngcontent-%COMP%]{margin-bottom:.75rem}}@media (min-width: 960px){.container-fluid[_ngcontent-%COMP%]{margin-top:.5rem}}"]}))}return a(),l})()},5224:(f,O,e)=>{e.r(O),e.d(O,{ToolsComponent:()=>x});var E=e(467),n=e(2615),g=e(1625),T=e(6350),t=e(6582),d=e(3694),h=e(6733),D=e(2998),M=e(1171),C=e(6448),I=e(2200),R=e(9079),o=e(4572),s=e(5964),i=e(3664),a=e(4981),l=e(5652),v=e(9997);const P=m=>({"d-none":m}),p=()=>["bg-light"];function S(m,_){1&m&&i.nrm(0,"app-loader",1)}function U(m,_){if(1&m){const L=i.RV6();i.j41(0,"app-sandbox",3),i.bIt("loadEvent",function(){const c=n.eBV(L),u=i.XpG();return n.Njj(u.sandboxLoaded(c))}),i.k0s()}if(2&m){const L=_;i.Y8G("ngClass",i.eq3(6,P,L.loading))("head",L.headData)("body",L.bodyData)("bodyClass",i.lJ4(8,p))("initData",L.initData)("resetMainPadding",!0)}}let x=(()=>{var m;class _{constructor(){this.toolsService=(0,n.WQX)(t.H),this.activatedRoute=(0,n.WQX)(d.nX),this.router=(0,n.WQX)(d.Ix),this.scriptSandboxService=(0,n.WQX)(h.q),this.tokensService=(0,n.WQX)(D.m5),this.destroyRef=(0,n.WQX)(n.abz),this.url="",this.breadcrumbTitle=(0,n.vPA)(""),this.breadcrumbUrl=T.LP.TOOLS,this.sandbox=(0,n.vPA)(void 0)}ngOnInit(){var r=this;return(0,E.A)(function*(){yield r.toolsService.setList(),(0,o.z)([r.activatedRoute.paramMap,r.toolsService.listObservable]).pipe((0,R.pQ)(r.destroyRef),(0,s.p)(([,c])=>typeof c<"u")).subscribe(([c])=>{r.setUrl(c),r.loadTool()})})()}setUrl(r){const c=r.get("scriptId"),u=r.get("sandboxSlug"),b=r.get("slug");this.url=`${T.LP.TOOLS}${c?T.LP.SCRIPT:""}/${b||c}${c?"/"+u:""}`}loadTool(){var r=this;return(0,E.A)(function*(){r.sandbox.set(void 0);const u=(yield r.toolsService.getAll()).find(b=>b.path===r.url);u?(r.breadcrumbTitle.set(u.title),yield r.setSandbox(u.resources)):yield r.redirect()})()}setSandbox(r){var c=this;return(0,E.A)(function*(){const u=yield c.tokensService.generateJwe(D.ru.SANDBOX);c.scriptSandboxService.create(r,{token:u}).subscribe(b=>c.sandbox.set(b))})()}redirect(){var r=this;return(0,E.A)(function*(){yield r.router.navigate([T.LP.HOME])})()}sandboxLoaded(r){r.loading=!1}static#n=m=()=>(this.\u0275fac=function(c){return new(c||_)},this.\u0275cmp=i.VBU({type:_,selectors:[["ng-component"]],decls:3,vars:5,consts:[[1,"d-block",3,"pageTitle","url","hideNavOnSmallScreen"],["message","Caricamento del tool"],[3,"ngClass","head","body","bodyClass","initData","resetMainPadding"],[3,"loadEvent","ngClass","head","body","bodyClass","initData","resetMainPadding"]],template:function(c,u){if(1&c&&(i.nrm(0,"app-breadcrumb",0),i.nVh(1,S,1,0,"app-loader",1),i.nVh(2,U,1,9,"app-sandbox",2)),2&c){let b;i.Y8G("pageTitle",u.breadcrumbTitle())("url",u.breadcrumbUrl)("hideNavOnSmallScreen",!0),i.R7$(),i.vxM(!u.sandbox()||u.sandbox().loading?1:-1),i.R7$(),i.vxM((b=u.sandbox())?2:-1,b)}},dependencies:[g._,a.D,M.iZ,l.V,C.I,v.d,I.YU],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}"]}))}return m(),_})()}}]);